"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var K=["require","exports","vs/base/common/lifecycle","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/base","vs/base/common/platform","vs/base/common/equals","vs/base/common/observableInternal/logging","vs/base/common/errors","vs/base/common/observableInternal/autorun","vs/base/common/observableInternal/derived","vs/editor/common/tokens/lineTokens","vs/editor/common/encodedTokenAttributes","vs/base/common/uri","vs/base/common/arrays","vs/base/common/event","vs/base/common/observable","vs/base/common/buffer","vs/editor/common/core/eolCounter","vs/base/common/charCode","vs/editor/common/core/lineRange","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/base/common/path","vs/base/common/strings","vs/base/common/network","vs/base/common/resources","vs/base/common/async","vs/editor/common/languages/nullTokenize","vs/base/common/amd","vs/base/common/assert","vs/base/common/observableInternal/lazyObservableValue","vs/base/common/observableInternal/api","vs/base/common/observableInternal/promise","vs/base/common/cancellation","vs/base/common/observableInternal/utils","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/model/fixedArray","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousMultilineTokens","vs/base/common/extpath","vs/amdX","vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/base/common/stopwatch","vs/workbench/services/textMate/browser/tokenizationSupport/textMateTokenizationSupport","vs/workbench/services/textMate/browser/tokenizationSupport/tokenizationSupportWithLineLimit","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateWorkerTokenizer","vs/workbench/services/textMate/common/TMScopeRegistry","vs/workbench/services/textMate/common/TMGrammarFactory","vs/editor/common/core/position","vs/base/common/types","vs/editor/common/core/offsetRange","vs/editor/common/model/mirrorTextModel","vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker"],X=function(B){for(var e=[],T=0,m=B.length;T<m;T++)e[T]=K[B[T]];return e};define(K[28],X([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$W=e.LoaderEventType=e.$V=void 0,e.$V=!1;var T;(function(y){y[y.LoaderAvailable=1]="LoaderAvailable",y[y.BeginLoadingScript=10]="BeginLoadingScript",y[y.EndLoadingScriptOK=11]="EndLoadingScriptOK",y[y.EndLoadingScriptError=12]="EndLoadingScriptError",y[y.BeginInvokeFactory=21]="BeginInvokeFactory",y[y.EndInvokeFactory=22]="EndInvokeFactory",y[y.NodeBeginEvaluatingScript=31]="NodeBeginEvaluatingScript",y[y.NodeEndEvaluatingScript=32]="NodeEndEvaluatingScript",y[y.NodeBeginNativeRequire=33]="NodeBeginNativeRequire",y[y.NodeEndNativeRequire=34]="NodeEndNativeRequire",y[y.CachedDataFound=60]="CachedDataFound",y[y.CachedDataMissed=61]="CachedDataMissed",y[y.CachedDataRejected=62]="CachedDataRejected",y[y.CachedDataCreated=63]="CachedDataCreated"})(T||(e.LoaderEventType=T={}));class m{static get(){const w=new Map,l=new Map,s=new Map,r=new Map;function d(n,t){n.has(t.detail)||n.set(t.detail,-t.timestamp)}function o(n,t){const i=n.get(t.detail);i&&(i>=0||n.set(t.detail,i+t.timestamp))}let c=[];typeof B=="function"&&typeof B.getStats=="function"&&(c=B.getStats().slice(0).sort((n,t)=>n.timestamp-t.timestamp));for(const n of c)switch(n.type){case T.BeginLoadingScript:d(w,n);break;case T.EndLoadingScriptOK:case T.EndLoadingScriptError:o(w,n);break;case T.BeginInvokeFactory:d(l,n);break;case T.EndInvokeFactory:o(l,n);break;case T.NodeBeginNativeRequire:d(s,n);break;case T.NodeEndNativeRequire:o(s,n);break;case T.NodeBeginEvaluatingScript:d(r,n);break;case T.NodeEndEvaluatingScript:o(r,n);break}let g=0;s.forEach(n=>g+=n);function $(n){const t=[];return n.forEach((i,a)=>t.push([a,i])),t}return{amdLoad:$(w),amdInvoke:$(l),nodeRequire:$(s),nodeEval:$(r),nodeRequireTotal:g}}static toMarkdownTable(w,l){let s="";const r=[];return w.forEach((d,o)=>{r[o]=d.length}),l.forEach(d=>{d.forEach((o,c)=>{typeof o>"u"&&(o=d[c]="-");const g=o.toString().length;r[c]=Math.max(g,r[c])})}),w.forEach((d,o)=>{s+=`| ${d+" ".repeat(r[o]-d.toString().length)} `}),s+=`|
`,w.forEach((d,o)=>{s+=`| ${"-".repeat(r[o])} `}),s+=`|
`,l.forEach(d=>{d.forEach((o,c)=>{typeof o<"u"&&(s+=`| ${o+" ".repeat(r[c]-o.toString().length)} `)}),s+=`|
`}),s}}e.$W=m});var le=this&&this.__createBinding||(Object.create?function(B,e,T,m){m===void 0&&(m=T);var y=Object.getOwnPropertyDescriptor(e,T);(!y||("get"in y?!e.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return e[T]}}),Object.defineProperty(B,m,y)}:function(B,e,T,m){m===void 0&&(m=T),B[m]=e[T]}),fe=this&&this.__setModuleDefault||(Object.create?function(B,e){Object.defineProperty(B,"default",{enumerable:!0,value:e})}:function(B,e){B.default=e}),x=this&&this.__importStar||function(B){if(B&&B.__esModule)return B;var e={};if(B!=null)for(var T in B)T!=="default"&&Object.prototype.hasOwnProperty.call(B,T)&&le(e,B,T);return fe(e,B),e};define(K[6],X([0,1,14]),function(B,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9c=void 0,e.$0c=y,e.$$c=w,e.$_c=l,e.$ad=s,e.$bd=r,e.$cd=d,T=x(T);const m=($,n)=>$===n;e.$9c=m;function y($=e.$9c){return(n,t)=>T.$xb(n,t,$)}function w(){return($,n)=>JSON.stringify($)===JSON.stringify(n)}function l(){return($,n)=>$.equals(n)}function s($,n,t){if(t!==void 0){const i=$;return i==null||n===void 0||n===null?n===i:t(i,n)}else{const i=$;return(a,f)=>a==null||f===void 0||f===null?f===a:i(a,f)}}function r($,n){if($===n)return!0;if(Array.isArray($)&&Array.isArray(n)){if($.length!==n.length)return!1;for(let t=0;t<$.length;t++)if(!r($[t],n[t]))return!1;return!0}if($&&typeof $=="object"&&n&&typeof n=="object"&&Object.getPrototypeOf($)===Object.prototype&&Object.getPrototypeOf(n)===Object.prototype){const t=$,i=n,a=Object.keys(t),f=Object.keys(i),k=new Set(f);if(a.length!==f.length)return!1;for(const I of a)if(!k.has(I)||!r(t[I],i[I]))return!1;return!0}return!1}function d($){return JSON.stringify(g($))}let o=0;const c=new WeakMap;function g($){if(Array.isArray($))return $.map(g);if($&&typeof $=="object")if(Object.getPrototypeOf($)===Object.prototype){const n=$,t=Object.create(null);for(const i of Object.keys(n).sort())t[i]=g(n[i]);return t}else{let n=c.get($);return n===void 0&&(n=o++,c.set($,n)),n+"----2b76a038c20c4bcc"}return $}}),define(K[3],X([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$dd=void 0,e.$ed=w,e.$fd=g;class T{constructor(n,t,i){this.owner=n,this.debugNameSource=t,this.referenceFn=i}getDebugName(n){return w(n,this)}}e.$dd=T;const m=new Map,y=new WeakMap;function w($,n){const t=y.get($);if(t)return t;const i=l($,n);if(i){let a=m.get(i)??0;a++,m.set(i,a);const f=a===1?i:`${i}#${a}`;return y.set($,f),f}}function l($,n){const t=y.get($);if(t)return t;const i=n.owner?o(n.owner)+".":"";let a;const f=n.debugNameSource;if(f!==void 0)if(typeof f=="function"){if(a=f(),a!==void 0)return i+a}else return i+f;const k=n.referenceFn;if(k!==void 0&&(a=g(k),a!==void 0))return i+a;if(n.owner!==void 0){const I=s(n.owner,$);if(I!==void 0)return i+I}}function s($,n){for(const t in $)if($[t]===n)return t}const r=new Map,d=new WeakMap;function o($){const n=d.get($);if(n)return n;const t=c($);let i=r.get(t)??0;i++,r.set(t,i);const a=i===1?t:`${t}#${i}`;return d.set($,a),a}function c($){const n=$.constructor;return n?n.name:"Object"}function g($){const n=$.toString(),i=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(n);return(i?i[1]:void 0)?.trim()}}),define(K[7],X([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Od=void 0,e.$Md=m,e.$Nd=y;let T;function m(t){T=t}function y(){return T}class w{constructor(){this.a=0,this.d=new WeakMap}b(i){return l([s($("|  ",this.a)),i])}c(i){return i.hadValue?i.didChange?[s(" "),d(o(i.oldValue,70),{color:"red",strikeThrough:!0}),s(" "),d(o(i.newValue,60),{color:"green"})]:[s(" (unchanged)")]:[s(" "),d(o(i.newValue,60),{color:"green"}),s(" (initial)")]}handleObservableChanged(i,a){console.log(...this.b([r("observable value changed"),d(i.debugName,{color:"BlueViolet"}),...this.c(a)]))}formatChanges(i){if(i.size!==0)return d(" (changed deps: "+[...i].map(a=>a.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(i){const a=i.handleChange;this.d.set(i,new Set),i.handleChange=(f,k)=>(this.d.get(i).add(f),a.apply(i,[f,k]))}handleDerivedRecomputed(i,a){const f=this.d.get(i);console.log(...this.b([r("derived recomputed"),d(i.debugName,{color:"BlueViolet"}),...this.c(a),this.formatChanges(f),{data:[{fn:i._debugNameData.referenceFn??i._computeFn}]}])),f.clear()}handleFromEventObservableTriggered(i,a){console.log(...this.b([r("observable from event triggered"),d(i.debugName,{color:"BlueViolet"}),...this.c(a),{data:[{fn:i._getValue}]}]))}handleAutorunCreated(i){const a=i.handleChange;this.d.set(i,new Set),i.handleChange=(f,k)=>(this.d.get(i).add(f),a.apply(i,[f,k]))}handleAutorunTriggered(i){const a=this.d.get(i);console.log(...this.b([r("autorun"),d(i.debugName,{color:"BlueViolet"}),this.formatChanges(a),{data:[{fn:i._debugNameData.referenceFn??i._runFn}]}])),a.clear(),this.a++}handleAutorunFinished(i){this.a--}handleBeginTransaction(i){let a=i.getDebugName();a===void 0&&(a=""),console.log(...this.b([r("transaction"),d(a,{color:"BlueViolet"}),{data:[{fn:i._fn}]}])),this.a++}handleEndTransaction(){this.a--}}e.$Od=w;function l(t){const i=new Array,a=[];let f="";function k(E){if("length"in E)for(const N of E)N&&k(N);else"text"in E?(f+=`%c${E.text}`,i.push(E.style),E.data&&a.push(...E.data)):"data"in E&&a.push(...E.data)}k(t);const I=[f,...i];return I.push(...a),I}function s(t){return d(t,{color:"black"})}function r(t){return d(n(`${t}: `,10),{color:"black",bold:!0})}function d(t,i={color:"black"}){function a(k){return Object.entries(k).reduce((I,[E,N])=>`${I}${E}:${N};`,"")}const f={color:i.color};return i.strikeThrough&&(f["text-decoration"]="line-through"),i.bold&&(f["font-weight"]="bold"),{text:t,style:a(f)}}function o(t,i){switch(typeof t){case"number":return""+t;case"string":return t.length+2<=i?`"${t}"`:`"${t.substr(0,i-7)}"+...`;case"boolean":return t?"true":"false";case"undefined":return"undefined";case"object":return t===null?"null":Array.isArray(t)?c(t,i):g(t,i);case"symbol":return t.toString();case"function":return`[[Function${t.name?" "+t.name:""}]]`;default:return""+t}}function c(t,i){let a="[ ",f=!0;for(const k of t){if(f||(a+=", "),a.length-5>i){a+="...";break}f=!1,a+=`${o(k,i-a.length)}`}return a+=" ]",a}function g(t,i){let a="{ ",f=!0;for(const[k,I]of Object.entries(t)){if(f||(a+=", "),a.length-5>i){a+="...";break}f=!1,a+=`${k}: ${o(I,i-a.length)}`}return a+=" }",a}function $(t,i){let a="";for(let f=1;f<=i;f++)a+=t;return a}function n(t,i){for(;t.length<i;)t+=" ";return t}}),define(K[9],X([0,1,29,2,3,7]),function(B,e,T,m,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sd=void 0,e.$md=l,e.$nd=s,e.$od=r,e.$pd=d,e.$qd=o,e.$rd=c;function l(n){return new $(new y.$dd(void 0,void 0,n),n,void 0,void 0)}function s(n,t){return new $(new y.$dd(n.owner,n.debugName,n.debugReferenceFn??t),t,void 0,void 0)}function r(n,t){return new $(new y.$dd(n.owner,n.debugName,n.debugReferenceFn??t),t,n.createEmptyChangeSummary,n.handleChange)}function d(n,t){const i=new m.$Wc,a=r({owner:n.owner,debugName:n.debugName,debugReferenceFn:n.debugReferenceFn??t,createEmptyChangeSummary:n.createEmptyChangeSummary,handleChange:n.handleChange},(f,k)=>{i.clear(),t(f,k,i)});return(0,m.$Vc)(()=>{a.dispose(),i.dispose()})}function o(n){const t=new m.$Wc,i=s({owner:void 0,debugName:void 0,debugReferenceFn:n},a=>{t.clear(),n(a,t)});return(0,m.$Vc)(()=>{i.dispose(),t.dispose()})}function c(n,t){let i;return s({debugReferenceFn:t},a=>{const f=n.read(a),k=i;i=f,t({lastValue:k,newValue:f})})}var g;(function(n){n[n.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",n[n.stale=2]="stale",n[n.upToDate=3]="upToDate"})(g||(g={}));class ${get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(t,i,a,f){this._debugNameData=t,this._runFn=i,this.h=a,this.i=f,this.a=g.stale,this.b=0,this.c=!1,this.e=new Set,this.f=new Set,this.g=this.h?.(),(0,w.$Nd)()?.handleAutorunCreated(this),this.j(),(0,m.$Oc)(this)}dispose(){this.c=!0;for(const t of this.e)t.removeObserver(this);this.e.clear(),(0,m.$Pc)(this)}j(){if(this.a===g.upToDate)return;const t=this.f;this.f=this.e,this.e=t,this.a=g.upToDate;const i=this.c;try{if(!i){(0,w.$Nd)()?.handleAutorunTriggered(this);const a=this.g;this.g=this.h?.(),this._runFn(this,a)}}finally{i||(0,w.$Nd)()?.handleAutorunFinished(this);for(const a of this.f)a.removeObserver(this);this.f.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.a===g.upToDate&&(this.a=g.dependenciesMightHaveChanged),this.b++}endUpdate(){if(this.b===1)do{if(this.a===g.dependenciesMightHaveChanged){this.a=g.upToDate;for(const t of this.e)if(t.reportChanges(),this.a===g.stale)break}this.j()}while(this.a!==g.upToDate);this.b--,(0,T.$kd)(()=>this.b>=0)}handlePossibleChange(t){this.a===g.upToDate&&this.e.has(t)&&!this.f.has(t)&&(this.a=g.dependenciesMightHaveChanged)}handleChange(t,i){this.e.has(t)&&!this.f.has(t)&&(!this.i||this.i({changedObservable:t,change:i,didChange:f=>f===t},this.g))&&(this.a=g.stale)}readObservable(t){if(this.c)return t.get();t.addObserver(this);const i=t.get();return this.e.add(t),this.f.delete(t),i}}e.$sd=$,function(n){n.Observer=$}(l||(e.$md=l={}))}),define(K[4],X([0,1,6,3,7]),function(B,e,T,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$$d=e.$9d=e.$7d=e.$2d=e.$1d=void 0,e.$Xd=l,e.$Yd=r,e.$Zd=o,e.$3d=$,e.$4d=t,e.$5d=i,e.$6d=a,e.$8d=k,e.$0d=E;let w;function l(h){w=h}let s;function r(h){s=h}let d;function o(h){d=h}class c{get TChange(){return null}reportChanges(){this.get()}read(b){return b?b.readObservable(this):this.get()}map(b,O){const q=O===void 0?void 0:b,H=O===void 0?b:O;return d({owner:q,debugName:()=>{const V=(0,m.$fd)(H);if(V!==void 0)return V;const A=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(H.toString());if(A)return`${this.debugName}.${A[2]}`;if(!q)return`${this.debugName} (mapped)`},debugReferenceFn:H},V=>H(this.read(V),V))}recomputeInitiallyAndOnChange(b,O){return b.add(w(this,O)),this}keepObserved(b){return b.add(s(this)),this}get a(){return this.get()}}e.$1d=c;class g extends c{constructor(){super(...arguments),this.b=new Set}addObserver(b){const O=this.b.size;this.b.add(b),O===0&&this.c()}removeObserver(b){this.b.delete(b)&&this.b.size===0&&this.f()}c(){}f(){}}e.$2d=g;function $(h,b){const O=new f(h,b);try{h(O)}finally{O.finish()}}let n;function t(h){if(n)h(n);else{const b=new f(h,void 0);n=b;try{h(b)}finally{b.finish(),n=void 0}}}async function i(h,b){const O=new f(h,b);try{await h(O)}finally{O.finish()}}function a(h,b,O){h?b(h):$(b,O)}class f{constructor(b,O){this._fn=b,this.b=O,this.a=[],(0,y.$Nd)()?.handleBeginTransaction(this)}getDebugName(){return this.b?this.b():(0,m.$fd)(this._fn)}updateObserver(b,O){this.a.push({observer:b,observable:O}),b.beginUpdate(O)}finish(){const b=this.a;for(let O=0;O<b.length;O++){const{observer:q,observable:H}=b[O];q.endUpdate(H)}this.a=null,(0,y.$Nd)()?.handleEndTransaction()}}e.$7d=f;function k(h,b){let O;return typeof h=="string"?O=new m.$dd(void 0,h,void 0):O=new m.$dd(h,void 0,void 0),new I(O,b,T.$9c)}class I extends g{get debugName(){return this.e.getDebugName(this)??"ObservableValue"}constructor(b,O,q){super(),this.e=b,this.g=q,this.d=O}get(){return this.d}set(b,O,q){if(q===void 0&&this.g(this.d,b))return;let H;O||(O=H=new f(()=>{},()=>`Setting ${this.debugName}`));try{const V=this.d;this.h(b),(0,y.$Nd)()?.handleObservableChanged(this,{oldValue:V,newValue:b,change:q,didChange:!0,hadValue:!0});for(const C of this.b)O.updateObserver(C,this),C.handleChange(this,q)}finally{H&&H.finish()}}toString(){return`${this.debugName}: ${this.d}`}h(b){this.d=b}}e.$9d=I;function E(h,b){let O;return typeof h=="string"?O=new m.$dd(void 0,h,void 0):O=new m.$dd(h,void 0,void 0),new N(O,b,T.$9c)}class N extends I{h(b){this.d!==b&&(this.d&&this.d.dispose(),this.d=b)}dispose(){this.d?.dispose()}}e.$$d=N}),define(K[10],X([0,1,29,6,2,4,3,7]),function(B,e,T,m,y,w,l,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Wd=e.$Vd=void 0,e.$Pd=r,e.$Qd=d,e.$Rd=o,e.$Sd=c,e.$Td=g,e.$Ud=$;function r(a,f){return f!==void 0?new t(new l.$dd(a,void 0,f),f,void 0,void 0,void 0,m.$9c):new t(new l.$dd(void 0,void 0,a),a,void 0,void 0,void 0,m.$9c)}function d(a,f,k){return new i(new l.$dd(a,void 0,f),f,void 0,void 0,void 0,m.$9c,k)}function o(a,f){return new t(new l.$dd(a.owner,a.debugName,a.debugReferenceFn),f,void 0,void 0,a.onLastObserverRemoved,a.equalsFn??m.$9c)}(0,w.$Zd)(o);function c(a,f){return new t(new l.$dd(a.owner,a.debugName,void 0),f,a.createEmptyChangeSummary,a.handleChange,void 0,a.equalityComparer??m.$9c)}function g(a,f){let k,I;f===void 0?(k=a,I=void 0):(I=a,k=f);const E=new y.$Wc;return new t(new l.$dd(I,void 0,k),N=>(E.clear(),k(N,E)),void 0,void 0,()=>E.dispose(),m.$9c)}function $(a,f){let k,I;f===void 0?(k=a,I=void 0):(I=a,k=f);let E;return new t(new l.$dd(I,void 0,k),N=>{E?E.clear():E=new y.$Wc;const h=k(N);return h&&E.add(h),h},void 0,void 0,()=>{E&&(E.dispose(),E=void 0)},m.$9c)}var n;(function(a){a[a.initial=0]="initial",a[a.dependenciesMightHaveChanged=1]="dependenciesMightHaveChanged",a[a.stale=2]="stale",a[a.upToDate=3]="upToDate"})(n||(n={}));class t extends w.$2d{get debugName(){return this._debugNameData.getDebugName(this)??"(anonymous)"}constructor(f,k,I,E,N=void 0,h){super(),this._debugNameData=f,this._computeFn=k,this.m=I,this.n=E,this.p=N,this.q=h,this.e=n.initial,this.g=void 0,this.h=0,this.j=new Set,this.k=new Set,this.l=void 0,this.l=this.m?.(),(0,s.$Nd)()?.handleDerivedCreated(this)}f(){this.e=n.initial,this.g=void 0;for(const f of this.j)f.removeObserver(this);this.j.clear(),this.p?.()}get(){if(this.b.size===0){const f=this._computeFn(this,this.m?.());return this.f(),f}else{do{if(this.e===n.dependenciesMightHaveChanged){for(const f of this.j)if(f.reportChanges(),this.e===n.stale)break}this.e===n.dependenciesMightHaveChanged&&(this.e=n.upToDate),this.t()}while(this.e!==n.upToDate);return this.g}}t(){if(this.e===n.upToDate)return;const f=this.k;this.k=this.j,this.j=f;const k=this.e!==n.initial,I=this.g;this.e=n.upToDate;const E=this.l;this.l=this.m?.();try{this.g=this._computeFn(this,E)}finally{for(const h of this.k)h.removeObserver(this);this.k.clear()}const N=k&&!this.q(I,this.g);if((0,s.$Nd)()?.handleDerivedRecomputed(this,{oldValue:I,newValue:this.g,change:void 0,didChange:N,hadValue:k}),N)for(const h of this.b)h.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(f){this.h++;const k=this.h===1;if(this.e===n.upToDate&&(this.e=n.dependenciesMightHaveChanged,!k))for(const I of this.b)I.handlePossibleChange(this);if(k)for(const I of this.b)I.beginUpdate(this)}endUpdate(f){if(this.h--,this.h===0){const k=[...this.b];for(const I of k)I.endUpdate(this)}(0,T.$kd)(()=>this.h>=0)}handlePossibleChange(f){if(this.e===n.upToDate&&this.j.has(f)&&!this.k.has(f)){this.e=n.dependenciesMightHaveChanged;for(const k of this.b)k.handlePossibleChange(this)}}handleChange(f,k){if(this.j.has(f)&&!this.k.has(f)){const I=this.n?this.n({changedObservable:f,change:k,didChange:N=>N===f},this.l):!0,E=this.e===n.upToDate;if(I&&(this.e===n.dependenciesMightHaveChanged||E)&&(this.e=n.stale,E))for(const N of this.b)N.handlePossibleChange(this)}}readObservable(f){f.addObserver(this);const k=f.get();return this.j.add(f),this.k.delete(f),k}addObserver(f){const k=!this.b.has(f)&&this.h>0;super.addObserver(f),k&&f.beginUpdate(this)}removeObserver(f){const k=this.b.has(f)&&this.h>0;super.removeObserver(f),k&&f.endUpdate(this)}}e.$Vd=t;class i extends t{constructor(f,k,I,E,N=void 0,h,b){super(f,k,I,E,N,h),this.set=b}}e.$Wd=i}),define(K[30],X([0,1,4]),function(B,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$fe=void 0;class m extends T.$2d{get debugName(){return this.h.getDebugName(this)??"LazyObservableValue"}constructor(w,l,s){super(),this.h=w,this.j=s,this.e=!0,this.g=[],this.l=0,this.d=l}get(){return this.k(),this.d}k(){if(!this.e)if(this.e=!0,this.g.length>0){for(const w of this.b)for(const l of this.g)w.handleChange(this,l);this.g.length=0}else for(const w of this.b)w.handleChange(this,void 0)}m(){if(this.l++,this.l===1)for(const w of this.b)w.beginUpdate(this)}n(){if(this.l--,this.l===0){this.k();const w=[...this.b];for(const l of w)l.endUpdate(this)}}addObserver(w){const l=!this.b.has(w)&&this.l>0;super.addObserver(w),l&&w.beginUpdate(this)}removeObserver(w){const l=this.b.has(w)&&this.l>0;super.removeObserver(w),l&&w.endUpdate(this)}set(w,l,s){if(s===void 0&&this.j(this.d,w))return;let r;l||(l=r=new T.$7d(()=>{},()=>`Setting ${this.debugName}`));try{if(this.e=!1,this.o(w),s!==void 0&&this.g.push(s),l.updateObserver({beginUpdate:()=>this.m(),endUpdate:()=>this.n(),handleChange:(d,o)=>{},handlePossibleChange:d=>{}},this),this.l>1)for(const d of this.b)d.handlePossibleChange(this)}finally{r&&r.finish()}}toString(){return`${this.debugName}: ${this.d}`}o(w){this.d=w}}e.$fe=m}),define(K[31],X([0,1,6,4,3,30]),function(B,e,T,m,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ge=l;function l(s,r){return s.lazy?new w.$fe(new y.$dd(s.owner,s.debugName,void 0),r,s.equalsFn??T.$9c):new m.$9d(new y.$dd(s.owner,s.debugName,void 0),r,s.equalsFn??T.$9c)}}),define(K[32],X([0,1,9,4,10,33,3,6,8]),function(B,e,T,m,y,w,l,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ce=e.$be=e.$ae=e.$_d=void 0,e.$de=$,e.$ee=n;class d{get cachedValue(){return this.a}constructor(i){this.b=i,this.a=(0,m.$8d)(this,void 0)}getValue(){let i=this.a.get();return i||(i=this.b(),this.a.set(i,void 0)),i}}e.$_d=d;class o{static fromFn(i){return new o(i())}constructor(i){this.a=(0,m.$8d)(this,void 0),this.promiseResult=this.a,this.promise=i.then(a=>((0,m.$3d)(f=>{this.a.set(new c(a,void 0),f)}),a),a=>{throw(0,m.$3d)(f=>{this.a.set(new c(void 0,a),f)}),a})}}e.$ae=o;class c{constructor(i,a){this.data=i,this.error=a}getDataOrThrow(){if(this.error)throw this.error;return this.data}}e.$be=c;class g{constructor(i){this.b=i,this.a=new d(()=>new o(this.b())),this.cachedPromiseResult=(0,y.$Pd)(this,a=>this.a.cachedValue.read(a)?.promiseResult.read(a))}getPromise(){return this.a.getValue().promise}}e.$ce=g;function $(t,i,a,f){return i||(i=k=>k!=null),new Promise((k,I)=>{let E=!0,N=!1;const h=t.map(O=>({isFinished:i(O),error:a?a(O):!1,state:O})),b=(0,T.$md)(O=>{const{isFinished:q,error:H,state:V}=h.read(O);(q||H)&&(E?N=!0:b.dispose(),H?I(H===!0?V:H):k(V))});if(f){const O=f.onCancellationRequested(()=>{b.dispose(),O.dispose(),I(new r.$8)});if(f.isCancellationRequested){b.dispose(),O.dispose(),I(new r.$8);return}}E=!1,N&&b.dispose()})}function n(t,i){let a,f;i===void 0?(a=t,f=void 0):(f=t,a=i);let k;return new y.$Vd(new l.$dd(f,void 0,a),I=>(k&&k.dispose(!0),k=new w.$ye,a(I,k.token)),void 0,void 0,()=>k?.dispose(),s.$9c)}}),define(K[34],X([0,1,15,2,9,4,3,10,7,8,6]),function(B,e,T,m,y,w,l,s,r,d,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Jd=e.$Fd=e.$xd=void 0,e.$td=c,e.$ud=$,e.$vd=n,e.$wd=t,e.$yd=a,e.$zd=k,e.$Ad=E,e.$Bd=N,e.$Cd=h,e.$Dd=b,e.$Ed=O,e.$Gd=H,e.$Hd=V,e.$Id=C,e.$Kd=v,e.$Ld=F;function c(M){return new g(M)}class g extends w.$1d{constructor(j){super(),this.b=j}get debugName(){return this.toString()}get(){return this.b}addObserver(j){}removeObserver(j){}toString(){return`Const: ${this.b}`}}function $(M){const j=(0,w.$8d)("promiseValue",{});return M.then(R=>{j.set({value:R},void 0)}),j}function n(...M){let j,R,U;return M.length===3?[j,R,U]=M:[R,U]=M,new i(new l.$dd(j,void 0,U),R,U,()=>i.globalTransaction,o.$9c)}function t(M,j,R){return new i(new l.$dd(M.owner,M.debugName,M.debugReferenceFn??R),j,R,()=>i.globalTransaction,M.equalsFn??o.$9c)}class i extends w.$2d{constructor(j,R,U,z,G){super(),this.j=j,this.k=R,this._getValue=U,this.l=z,this.n=G,this.g=!1,this.r=Z=>{const Q=this._getValue(Z),ee=this.e,re=!this.g||!this.n(ee,Q);let ae=!1;re&&(this.e=Q,this.g&&(ae=!0,(0,w.$6d)(this.l(),ne=>{(0,r.$Nd)()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:Q,change:void 0,didChange:re,hadValue:this.g});for(const oe of this.b)ne.updateObserver(oe,this),oe.handleChange(this,void 0)},()=>{const ne=this.p();return"Event fired"+(ne?`: ${ne}`:"")})),this.g=!0),ae||(0,r.$Nd)()?.handleFromEventObservableTriggered(this,{oldValue:ee,newValue:Q,change:void 0,didChange:re,hadValue:this.g})}}p(){return this.j.getDebugName(this)}get debugName(){const j=this.p();return"From Event"+(j?`: ${j}`:"")}c(){this.h=this.k(this.r)}f(){this.h.dispose(),this.h=void 0,this.g=!1,this.e=void 0}get(){return this.h?(this.g||this.r(void 0),this.e):this._getValue(void 0)}}e.$xd=i,function(M){M.Observer=i;function j(R,U){let z=!1;i.globalTransaction===void 0&&(i.globalTransaction=R,z=!0);try{U()}finally{z&&(i.globalTransaction=void 0)}}M.batchEventsGlobally=j}(n||(e.$vd=n={}));function a(M,j){return new f(M,j)}class f extends w.$2d{constructor(j,R){super(),this.debugName=j,this.g=R,this.j=()=>{(0,w.$3d)(U=>{for(const z of this.b)U.updateObserver(z,this),z.handleChange(this,void 0)},()=>this.debugName)}}c(){this.e=this.g(this.j)}f(){this.e.dispose(),this.e=void 0}get(){}}function k(M){return typeof M=="string"?new I(M):new I(void 0,M)}class I extends w.$2d{get debugName(){return new l.$dd(this.g,this.e,void 0).getDebugName(this)??"Observable Signal"}toString(){return this.debugName}constructor(j,R){super(),this.e=j,this.g=R}trigger(j,R){if(!j){(0,w.$3d)(U=>{this.trigger(U,R)},()=>`Trigger signal ${this.debugName}`);return}for(const U of this.b)j.updateObserver(U,this),U.handleChange(this,R)}get(){}}function E(M,j,R){const U=(0,w.$8d)("debounced",void 0);let z;return R.add((0,y.$md)(G=>{const Z=M.read(G);z&&clearTimeout(z),z=setTimeout(()=>{(0,w.$3d)(Q=>{U.set(Z,Q)})},j)})),U}function N(M,j){let R=!1,U,z;return n(G=>{const Z=(0,y.$md)(Q=>{const ee=M.read(Q);R?(z&&clearTimeout(z),z=setTimeout(()=>{U=ee,G()},j)):(R=!0,U=ee)});return{dispose(){Z.dispose(),R=!1,U=void 0}}},()=>R?U:M.get())}function h(M,j,R){const U=(0,w.$8d)("triggeredRecently",!1);let z;return R.add(M(()=>{U.set(!0,void 0),z&&clearTimeout(z),z=setTimeout(()=>{U.set(!1,void 0)},j)})),U}function b(M){const j=new q(!1,void 0);return M.addObserver(j),(0,m.$Vc)(()=>{M.removeObserver(j)})}(0,w.$Yd)(b);function O(M,j){const R=new q(!0,j);return M.addObserver(R),j?j(M.get()):M.reportChanges(),(0,m.$Vc)(()=>{M.removeObserver(R)})}(0,w.$Xd)(O);class q{constructor(j,R){this.b=j,this.c=R,this.a=0}beginUpdate(j){this.a++}endUpdate(j){this.a--,this.a===0&&this.b&&(this.c?this.c(j.get()):j.reportChanges())}handlePossibleChange(j){}handleChange(j,R){}}e.$Fd=q;function H(M,j){let R;return(0,s.$Rd)({owner:M,debugReferenceFn:j},z=>(R=j(z,R),R))}function V(M,j){let R;const U=k("derivedObservableWithWritableCache"),z=(0,s.$Pd)(M,G=>(U.read(G),R=j(G,R),R));return Object.assign(z,{clearCache:G=>{R=void 0,U.trigger(G)},setCache:(G,Z)=>{R=G,U.trigger(Z)}})}function C(M,j,R,U){let z=new A(R,U);return(0,s.$Rd)({debugReferenceFn:R,owner:M,onLastObserverRemoved:()=>{z.dispose(),z=new A(R)}},Z=>(z.setItems(j.read(Z)),z.getItems()))}class A{constructor(j,R){this.c=j,this.e=R,this.a=new Map,this.b=[]}dispose(){this.a.forEach(j=>j.store.dispose()),this.a.clear()}setItems(j){const R=[],U=new Set(this.a.keys());for(const z of j){const G=this.e?this.e(z):z;let Z=this.a.get(G);if(Z)U.delete(G);else{const Q=new m.$Wc;Z={out:this.c(z,Q),store:Q},this.a.set(G,Z)}R.push(Z.out)}for(const z of U)this.a.get(z).store.dispose(),this.a.delete(z);this.b=R}getItems(){return this.b}}class P{constructor(j){this.observable=j}get onDidChange(){return T.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.$Jd=P;function v(M,j){return j instanceof P?j.observable:n(M,j.onDidChange,()=>j.value)}function F(M,j){if(j.length===0)throw new d.$fb;let R=!1,U;const z=n(M,G=>{const Z=new m.$Wc;for(const Q of j)Z.add((0,y.$nd)({debugName:()=>(0,l.$ed)(z,new l.$dd(M,void 0,void 0))+".updateLastChangedValue"},ee=>{R=!0,U=Q.read(ee),G()}));return Z.add({dispose(){R=!1,U=void 0}}),Z},()=>R?U:j[j.length-1].get());return z}}),define(K[16],X([0,1,4,10,9,34,32,31,7]),function(B,e,T,m,y,w,l,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observableValueOpts=e.derivedWithCancellationToken=e.waitForState=e.PromiseResult=e.ObservablePromise=e.ObservableLazyPromise=e.ObservableLazy=e.wasEventTriggeredRecently=e.observableSignalFromEvent=e.observableSignal=e.observableFromPromise=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.derivedObservableWithCache=e.debouncedObservable=e.constObservable=e.autorunWithStoreHandleChanges=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorunDelta=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return T.$8d}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return T.$0d}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return T.$3d}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return T.$6d}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return m.$Pd}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return m.$Rd}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return m.$Sd}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return m.$Td}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return y.$md}}),Object.defineProperty(e,"autorunDelta",{enumerable:!0,get:function(){return y.$rd}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return y.$od}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return y.$qd}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return y.$nd}}),Object.defineProperty(e,"autorunWithStoreHandleChanges",{enumerable:!0,get:function(){return y.$pd}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return w.$td}}),Object.defineProperty(e,"debouncedObservable",{enumerable:!0,get:function(){return w.$Ad}}),Object.defineProperty(e,"derivedObservableWithCache",{enumerable:!0,get:function(){return w.$Gd}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return w.$Hd}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return w.$Dd}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return w.$Ed}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return w.$vd}}),Object.defineProperty(e,"observableFromPromise",{enumerable:!0,get:function(){return w.$ud}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return w.$zd}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return w.$yd}}),Object.defineProperty(e,"wasEventTriggeredRecently",{enumerable:!0,get:function(){return w.$Cd}}),Object.defineProperty(e,"ObservableLazy",{enumerable:!0,get:function(){return l.$_d}}),Object.defineProperty(e,"ObservableLazyPromise",{enumerable:!0,get:function(){return l.$ce}}),Object.defineProperty(e,"ObservablePromise",{enumerable:!0,get:function(){return l.$ae}}),Object.defineProperty(e,"PromiseResult",{enumerable:!0,get:function(){return l.$be}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return l.$de}}),Object.defineProperty(e,"derivedWithCancellationToken",{enumerable:!0,get:function(){return l.$ee}}),Object.defineProperty(e,"observableValueOpts",{enumerable:!0,get:function(){return s.$ge}}),!1&&(0,r.$Md)(new r.$Od)}),define(K[35],X([0,1,8,2]),function(B,e,T,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ae=y,e.$Be=w,e.$Ce=l,e.$De=s,e.$Ee=d,e.$Fe=o,e.$Ge=c,e.$He=g,e.$Ie=$,e.$Je=n,e.$Ke=t,e.$Le=i,e.$Me=a,e.$Ne=f,e.$Oe=k;function y(I){const E=I;return E?typeof E.read=="function":!1}function w(I){const E=I;return E?[E.on,E.pause,E.resume,E.destroy].every(N=>typeof N=="function"):!1}function l(I){const E=I;return E?w(E.stream)&&Array.isArray(E.buffer)&&typeof E.ended=="boolean":!1}function s(I,E){return new r(I,E)}class r{constructor(E,N){this.e=E,this.f=N,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(E){if(!this.a.destroyed){if(this.a.flowing)this.g(E);else if(this.b.data.push(E),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(N=>this.d.push(N))}}error(E){this.a.destroyed||(this.a.flowing?this.h(E):this.b.error.push(E))}end(E){this.a.destroyed||(typeof E<"u"&&this.write(E),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(E){this.c.data.slice(0).forEach(N=>N(E))}h(E){this.c.error.length===0?(0,T.$3)(E):this.c.error.slice(0).forEach(N=>N(E))}i(){this.c.end.slice(0).forEach(E=>E())}on(E,N){if(!this.a.destroyed)switch(E){case"data":this.c.data.push(N),this.resume();break;case"end":this.c.end.push(N),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(N),this.a.flowing&&this.k();break}}removeListener(E,N){if(this.a.destroyed)return;let h;switch(E){case"data":h=this.c.data;break;case"end":h=this.c.end;break;case"error":h=this.c.error;break}if(h){const b=h.indexOf(N);b>=0&&h.splice(b,1)}}j(){if(this.b.data.length>0){const E=this.e(this.b.data);this.g(E),this.b.data.length=0;const N=[...this.d];this.d.length=0,N.forEach(h=>h())}}k(){if(this.c.error.length>0){for(const E of this.b.error)this.h(E);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function d(I,E){const N=[];let h;for(;(h=I.read())!==null;)N.push(h);return E(N)}function o(I,E,N){const h=[];let b;for(;(b=I.read())!==null&&h.length<N;)h.push(b);return b===null&&h.length>0?E(h):{read:()=>{if(h.length>0)return h.shift();if(typeof b<"u"){const O=b;return b=void 0,O}return I.read()}}}function c(I,E){return new Promise((N,h)=>{const b=[];g(I,{onData:O=>{E&&b.push(O)},onError:O=>{E?h(O):N(void 0)},onEnd:()=>{N(E?E(b):void 0)}})})}function g(I,E,N){I.on("error",h=>{N?.isCancellationRequested||E.onError(h)}),I.on("end",()=>{N?.isCancellationRequested||E.onEnd()}),I.on("data",h=>{N?.isCancellationRequested||E.onData(h)})}function $(I,E){return new Promise((N,h)=>{const b=new m.$Wc,O=[],q=C=>{if(O.push(C),O.length>E)return b.dispose(),I.pause(),N({stream:I,buffer:O,ended:!1})},H=C=>(b.dispose(),h(C)),V=()=>(b.dispose(),N({stream:I,buffer:O,ended:!0}));b.add((0,m.$Vc)(()=>I.removeListener("error",H))),I.on("error",H),b.add((0,m.$Vc)(()=>I.removeListener("end",V))),I.on("end",V),b.add((0,m.$Vc)(()=>I.removeListener("data",q))),I.on("data",q)})}function n(I,E){const N=s(E);return N.end(I),N}function t(){const I=s(()=>{throw new Error("not supported")});return I.end(),I}function i(I){let E=!1;return{read:()=>E?null:(E=!0,I)}}function a(I,E,N){const h=s(N);return g(I,{onData:b=>h.write(E.data(b)),onError:b=>h.error(E.error?E.error(b):b),onEnd:()=>h.end()}),h}function f(I,E,N){let h=!1;return{read:()=>{const b=E.read();return h?b:(h=!0,b!==null?N([I,b]):I)}}}function k(I,E,N){let h=!1;const b=s(N);return g(E,{onData:O=>h?b.write(O):(h=!0,b.write(N([I,O]))),onError:O=>b.error(O),onEnd:()=>{h||(h=!0,b.write(I)),b.end()}}),b}}),define(K[17],X([0,1,36,35]),function(B,e,T,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pe=void 0,e.$Qe=d,e.$Re=o,e.$Se=c,e.$Te=g,e.$Ue=$,e.$Ve=n,e.$We=t,e.$Xe=i,e.$Ye=a,e.$Ze=f,e.$1e=k,e.$2e=I,e.$3e=E,e.$4e=N,e.$5e=h,e.$6e=b,e.$7e=O,e.$8e=q,e.$9e=H,e.$0e=A,m=x(m);const y=typeof Buffer<"u",w=new T.$X(()=>new Uint8Array(256));let l,s;class r{static alloc(v){return y?new r(Buffer.allocUnsafe(v)):new r(new Uint8Array(v))}static wrap(v){return y&&!Buffer.isBuffer(v)&&(v=Buffer.from(v.buffer,v.byteOffset,v.byteLength)),new r(v)}static fromString(v,F){return!(F?.dontUseNodeBuffer||!1)&&y?new r(Buffer.from(v)):(l||(l=new TextEncoder),new r(l.encode(v)))}static fromByteArray(v){const F=r.alloc(v.length);for(let M=0,j=v.length;M<j;M++)F.buffer[M]=v[M];return F}static concat(v,F){if(typeof F>"u"){F=0;for(let R=0,U=v.length;R<U;R++)F+=v[R].byteLength}const M=r.alloc(F);let j=0;for(let R=0,U=v.length;R<U;R++){const z=v[R];M.set(z,j),j+=z.byteLength}return M}constructor(v){this.buffer=v,this.byteLength=this.buffer.byteLength}clone(){const v=r.alloc(this.byteLength);return v.set(this),v}toString(){return y?this.buffer.toString():(s||(s=new TextDecoder),s.decode(this.buffer))}slice(v,F){return new r(this.buffer.subarray(v,F))}set(v,F){if(v instanceof r)this.buffer.set(v.buffer,F);else if(v instanceof Uint8Array)this.buffer.set(v,F);else if(v instanceof ArrayBuffer)this.buffer.set(new Uint8Array(v),F);else if(ArrayBuffer.isView(v))this.buffer.set(new Uint8Array(v.buffer,v.byteOffset,v.byteLength),F);else throw new Error("Unknown argument 'array'")}readUInt32BE(v){return g(this.buffer,v)}writeUInt32BE(v,F){$(this.buffer,v,F)}readUInt32LE(v){return n(this.buffer,v)}writeUInt32LE(v,F){t(this.buffer,v,F)}readUInt8(v){return i(this.buffer,v)}writeUInt8(v,F){a(this.buffer,v,F)}indexOf(v,F=0){return d(this.buffer,v instanceof r?v.buffer:v,F)}}e.$Pe=r;function d(P,v,F=0){const M=v.byteLength,j=P.byteLength;if(M===0)return 0;if(M===1)return P.indexOf(v[0]);if(M>j-F)return-1;const R=w.value;R.fill(v.length);for(let Z=0;Z<v.length;Z++)R[v[Z]]=v.length-Z-1;let U=F+v.length-1,z=U,G=-1;for(;U<j;)if(P[U]===v[z]){if(z===0){G=U;break}U--,z--}else U+=Math.max(v.length-z,R[P[U]]),z=v.length-1;return G}function o(P,v){return P[v+0]<<0>>>0|P[v+1]<<8>>>0}function c(P,v,F){P[F+0]=v&255,v=v>>>8,P[F+1]=v&255}function g(P,v){return P[v]*2**24+P[v+1]*2**16+P[v+2]*2**8+P[v+3]}function $(P,v,F){P[F+3]=v,v=v>>>8,P[F+2]=v,v=v>>>8,P[F+1]=v,v=v>>>8,P[F]=v}function n(P,v){return P[v+0]<<0>>>0|P[v+1]<<8>>>0|P[v+2]<<16>>>0|P[v+3]<<24>>>0}function t(P,v,F){P[F+0]=v&255,v=v>>>8,P[F+1]=v&255,v=v>>>8,P[F+2]=v&255,v=v>>>8,P[F+3]=v&255}function i(P,v){return P[v]}function a(P,v,F){P[F]=v}function f(P){return m.$Ee(P,v=>r.concat(v))}function k(P){return m.$Le(P)}function I(P){return m.$Ge(P,v=>r.concat(v))}async function E(P){return P.ended?r.concat(P.buffer):r.concat([...P.buffer,await I(P.stream)])}function N(P){return m.$Je(P,v=>r.concat(v))}function h(P){return m.$Me(P,{data:v=>typeof v=="string"?r.fromString(v):r.wrap(v)},v=>r.concat(v))}function b(P){return m.$De(v=>r.concat(v),P)}function O(P,v){return m.$Ne(P,v,F=>r.concat(F))}function q(P,v){return m.$Oe(P,v,F=>r.concat(F))}function H(P){let v=0,F=0,M=0;const j=new Uint8Array(Math.floor(P.length/4*3)),R=z=>{switch(F){case 3:j[M++]=v|z,F=0;break;case 2:j[M++]=v|z>>>2,v=z<<6,F=3;break;case 1:j[M++]=v|z>>>4,v=z<<4,F=2;break;default:v=z<<2,F=1}};for(let z=0;z<P.length;z++){const G=P.charCodeAt(z);if(G>=65&&G<=90)R(G-65);else if(G>=97&&G<=122)R(G-97+26);else if(G>=48&&G<=57)R(G-48+52);else if(G===43||G===45)R(62);else if(G===47||G===95)R(63);else{if(G===61)break;throw new SyntaxError(`Unexpected base64 character ${P[z]}`)}}const U=M;for(;F>0;)R(0);return r.wrap(j).slice(0,U)}const V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function A({buffer:P},v=!0,F=!1){const M=F?C:V;let j="";const R=P.byteLength%3;let U=0;for(;U<P.byteLength-R;U+=3){const z=P[U+0],G=P[U+1],Z=P[U+2];j+=M[z>>>2],j+=M[(z<<4|G>>>4)&63],j+=M[(G<<2|Z>>>6)&63],j+=M[Z&63]}if(R===1){const z=P[U+0];j+=M[z>>>2],j+=M[z<<4&63],v&&(j+="==")}else if(R===2){const z=P[U+0],G=P[U+1];j+=M[z>>>2],j+=M[(z<<4|G>>>4)&63],j+=M[G<<2&63],v&&(j+="=")}return j}}),define(K[37],X([0,1]),function(B,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ie=void 0,e.$ie=Symbol("MicrotaskDelay")}),define(K[18],X([0,1,19]),function(B,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$wu=y;var m;(function(w){w[w.Unknown=0]="Unknown",w[w.Invalid=3]="Invalid",w[w.LF=1]="LF",w[w.CRLF=2]="CRLF"})(m||(e.StringEOL=m={}));function y(w){let l=0,s=0,r=0,d=m.Unknown;for(let o=0,c=w.length;o<c;o++){const g=w.charCodeAt(o);g===T.CharCode.CarriageReturn?(l===0&&(s=o),l++,o+1<c&&w.charCodeAt(o+1)===T.CharCode.LineFeed?(d|=m.CRLF,o++):d|=m.Invalid,r=o+1):g===T.CharCode.LineFeed&&(d|=m.LF,l===0&&(s=o),l++,r=o+1)}return l===0&&(s=w.length),[l,s,w.length-r,d]}}),define(K[38],X([0,1,14]),function(B,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$qD=void 0;class m{constructor(l){this.b=l,this.a=[]}get(l){return l<this.a.length?this.a[l]:this.b}set(l,s){for(;l>=this.a.length;)this.a[this.a.length]=this.b;this.a[l]=s}replace(l,s,r){if(l>=this.a.length)return;if(s===0){this.insert(l,r);return}else if(r===0){this.delete(l,s);return}const d=this.a.slice(0,l),o=this.a.slice(l+s),c=y(r,this.b);this.a=d.concat(c,o)}delete(l,s){s===0||l>=this.a.length||this.a.splice(l,s)}insert(l,s){if(s===0||l>=this.a.length)return;const r=[];for(let d=0;d<s;d++)r[d]=this.b;this.a=(0,T.$Yb)(this.a,l,r)}}e.$qD=m;function y(w,l){const s=[];for(let r=0;r<w;r++)s[r]=l;return s}}),define(K[11],X([0,1,12]),function(B,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xu=void 0,e.$yu=w;class m{static{this.defaultTokenMetadata=(T.FontStyle.None<<T.MetadataConsts.FONT_STYLE_OFFSET|T.ColorId.DefaultForeground<<T.MetadataConsts.FOREGROUND_OFFSET|T.ColorId.DefaultBackground<<T.MetadataConsts.BACKGROUND_OFFSET)>>>0}static createEmpty(s,r){const d=m.defaultTokenMetadata,o=new Uint32Array(2);return o[0]=s.length,o[1]=d,new m(o,s,r)}static createFromTextAndMetadata(s,r){let d=0,o="";const c=new Array;for(const{text:g,metadata:$}of s)c.push(d+g.length,$),d+=g.length,o+=g;return new m(new Uint32Array(c),o,r)}constructor(s,r,d){this._lineTokensBrand=void 0,this.a=s,this.b=this.a.length>>>1,this.c=r,this.languageIdCodec=d}equals(s){return s instanceof m?this.slicedEquals(s,0,this.b):!1}slicedEquals(s,r,d){if(this.c!==s.c||this.b!==s.b)return!1;const o=r<<1,c=o+(d<<1);for(let g=o;g<c;g++)if(this.a[g]!==s.a[g])return!1;return!0}getLineContent(){return this.c}getCount(){return this.b}getStartOffset(s){return s>0?this.a[s-1<<1]:0}getMetadata(s){return this.a[(s<<1)+1]}getLanguageId(s){const r=this.a[(s<<1)+1],d=T.$su.getLanguageId(r);return this.languageIdCodec.decodeLanguageId(d)}getStandardTokenType(s){const r=this.a[(s<<1)+1];return T.$su.getTokenType(r)}getForeground(s){const r=this.a[(s<<1)+1];return T.$su.getForeground(r)}getClassName(s){const r=this.a[(s<<1)+1];return T.$su.getClassNameFromMetadata(r)}getInlineStyle(s,r){const d=this.a[(s<<1)+1];return T.$su.getInlineStyleFromMetadata(d,r)}getPresentation(s){const r=this.a[(s<<1)+1];return T.$su.getPresentationFromMetadata(r)}getEndOffset(s){return this.a[s<<1]}findTokenIndexAtOffset(s){return m.findIndexInTokensArray(this.a,s)}inflate(){return this}sliceAndInflate(s,r,d){return new y(this,s,r,d)}static convertToEndOffset(s,r){const o=(s.length>>>1)-1;for(let c=0;c<o;c++)s[c<<1]=s[c+1<<1];s[o<<1]=r}static findIndexInTokensArray(s,r){if(s.length<=2)return 0;let d=0,o=(s.length>>>1)-1;for(;d<o;){const c=d+Math.floor((o-d)/2),g=s[c<<1];if(g===r)return c+1;g<r?d=c+1:g>r&&(o=c)}return d}withInserted(s){if(s.length===0)return this;let r=0,d=0,o="";const c=new Array;let g=0;for(;;){const $=r<this.b?this.a[r<<1]:-1,n=d<s.length?s[d]:null;if($!==-1&&(n===null||$<=n.offset)){o+=this.c.substring(g,$);const t=this.a[(r<<1)+1];c.push(o.length,t),r++,g=$}else if(n){if(n.offset>g){o+=this.c.substring(g,n.offset);const t=this.a[(r<<1)+1];c.push(o.length,t),g=n.offset}o+=n.text,c.push(o.length,n.tokenMetadata),d++}else break}return new m(new Uint32Array(c),o,this.languageIdCodec)}getTokenText(s){const r=this.getStartOffset(s),d=this.getEndOffset(s);return this.c.substring(r,d)}forEach(s){const r=this.getCount();for(let d=0;d<r;d++)s(d)}}e.$xu=m;class y{constructor(s,r,d,o){this.a=s,this.b=r,this.c=d,this.d=o,this.e=s.findTokenIndexAtOffset(r),this.languageIdCodec=s.languageIdCodec,this.f=0;for(let c=this.e,g=s.getCount();c<g&&!(s.getStartOffset(c)>=d);c++)this.f++}getMetadata(s){return this.a.getMetadata(this.e+s)}getLanguageId(s){return this.a.getLanguageId(this.e+s)}getLineContent(){return this.a.getLineContent().substring(this.b,this.c)}equals(s){return s instanceof y?this.b===s.b&&this.c===s.c&&this.d===s.d&&this.a.slicedEquals(s.a,this.e,this.f):!1}getCount(){return this.f}getStandardTokenType(s){return this.a.getStandardTokenType(this.e+s)}getForeground(s){return this.a.getForeground(this.e+s)}getEndOffset(s){const r=this.a.getEndOffset(this.e+s);return Math.min(this.c,r)-this.b+this.d}getClassName(s){return this.a.getClassName(this.e+s)}getInlineStyle(s,r){return this.a.getInlineStyle(this.e+s,r)}getPresentation(s){return this.a.getPresentation(this.e+s)}findTokenIndexAtOffset(s){return this.a.findTokenIndexAtOffset(s+this.b-this.d)-this.e}getTokenText(s){const r=this.e+s,d=this.a.getStartOffset(r),o=this.a.getEndOffset(r);let c=this.a.getTokenText(r);return d<this.b&&(c=c.substring(this.b-d)),o>this.c&&(c=c.substring(0,c.length-(o-this.c))),c}forEach(s){for(let r=0;r<this.getCount();r++)s(r)}}function w(l,s){const r=s.lineNumber;if(!l.tokenization.isCheapToTokenize(r))return;l.tokenization.forceTokenization(r);const d=l.tokenization.getLineTokens(r),o=d.findTokenIndexAtOffset(s.column-1);return d.getStandardTokenType(o)}}),define(K[39],X([0,1,11]),function(B,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Au=e.$zu=void 0,e.$Bu=y,e.$zu=new Uint32Array(0).buffer;class m{static deleteBeginning(l,s){return l===null||l===e.$zu?l:m.delete(l,0,s)}static deleteEnding(l,s){if(l===null||l===e.$zu)return l;const r=y(l),d=r[r.length-2];return m.delete(l,s,d)}static delete(l,s,r){if(l===null||l===e.$zu||s===r)return l;const d=y(l),o=d.length>>>1;if(s===0&&d[d.length-2]===r)return e.$zu;const c=T.$xu.findIndexInTokensArray(d,s),g=c>0?d[c-1<<1]:0,$=d[c<<1];if(r<$){const f=r-s;for(let k=c;k<o;k++)d[k<<1]-=f;return l}let n,t;g!==s?(d[c<<1]=s,n=c+1<<1,t=s):(n=c<<1,t=g);const i=r-s;for(let f=c+1;f<o;f++){const k=d[f<<1]-i;k>t&&(d[n++]=k,d[n++]=d[(f<<1)+1],t=k)}if(n===d.length)return l;const a=new Uint32Array(n);return a.set(d.subarray(0,n),0),a.buffer}static append(l,s){if(s===e.$zu)return l;if(l===e.$zu)return s;if(l===null)return l;if(s===null)return null;const r=y(l),d=y(s),o=d.length>>>1,c=new Uint32Array(r.length+d.length);c.set(r,0);let g=r.length;const $=r[r.length-2];for(let n=0;n<o;n++)c[g++]=d[n<<1]+$,c[g++]=d[(n<<1)+1];return c.buffer}static insert(l,s,r){if(l===null||l===e.$zu)return l;const d=y(l),o=d.length>>>1;let c=T.$xu.findIndexInTokensArray(d,s);c>0&&d[c-1<<1]===s&&c--;for(let g=c;g<o;g++)d[g<<1]+=r;return l}}e.$Au=m;function y(w){return w instanceof Uint32Array?w:new Uint32Array(w)}}),define(K[40],X([0,1,14,17,51,18,39,20]),function(B,e,T,m,y,w,l,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Cu=void 0,T=x(T);class r{static deserialize(o,c,g){const $=new Uint32Array(o.buffer),n=(0,m.$Te)(o,c);c+=4;const t=(0,m.$Te)(o,c);c+=4;const i=[];for(let a=0;a<t;a++){const f=(0,m.$Te)(o,c);c+=4,i.push($.subarray(c/4,c/4+f/4)),c+=f}return g.push(new r(n,i)),c}get startLineNumber(){return this.a}get endLineNumber(){return this.a+this.b.length-1}constructor(o,c){this.a=o,this.b=c}getLineRange(){return new s.$Vt(this.a,this.a+this.b.length)}getLineTokens(o){return this.b[o-this.a]}appendLineTokens(o){this.b.push(o)}serializeSize(){let o=0;o+=4,o+=4;for(let c=0;c<this.b.length;c++){const g=this.b[c];if(!(g instanceof Uint32Array))throw new Error("Not supported!");o+=4,o+=g.byteLength}return o}serialize(o,c){(0,m.$Ue)(o,this.a,c),c+=4,(0,m.$Ue)(o,this.b.length,c),c+=4;for(let g=0;g<this.b.length;g++){const $=this.b[g];if(!($ instanceof Uint32Array))throw new Error("Not supported!");(0,m.$Ue)(o,$.byteLength,c),c+=4,o.set(new Uint8Array($.buffer),c),c+=$.byteLength}return c}applyEdit(o,c){const[g,$]=(0,w.$wu)(c);this.c(o),this.d(new y.$Lt(o.startLineNumber,o.startColumn),g,$)}c(o){if(o.startLineNumber===o.endLineNumber&&o.startColumn===o.endColumn)return;const c=o.startLineNumber-this.a,g=o.endLineNumber-this.a;if(g<0){const $=g-c;this.a-=$;return}if(!(c>=this.b.length)){if(c<0&&g>=this.b.length){this.a=0,this.b=[];return}if(c===g){this.b[c]=l.$Au.delete(this.b[c],o.startColumn-1,o.endColumn-1);return}if(c>=0)if(this.b[c]=l.$Au.deleteEnding(this.b[c],o.startColumn-1),g<this.b.length){const $=l.$Au.deleteBeginning(this.b[g],o.endColumn-1);this.b[c]=l.$Au.append(this.b[c],$),this.b.splice(c+1,g-c)}else this.b[c]=l.$Au.append(this.b[c],null),this.b=this.b.slice(0,c+1);else{const $=-c;this.a-=$,this.b[g]=l.$Au.deleteBeginning(this.b[g],o.endColumn-1),this.b=this.b.slice(g)}}}d(o,c,g){if(c===0&&g===0)return;const $=o.lineNumber-this.a;if($<0){this.a+=c;return}if(!($>=this.b.length)){if(c===0){this.b[$]=l.$Au.insert(this.b[$],o.column-1,g);return}this.b[$]=l.$Au.deleteEnding(this.b[$],o.column-1),this.b[$]=l.$Au.insert(this.b[$],o.column-1,g),this.e(o.lineNumber,c)}}e(o,c){if(c===0)return;const g=[];for(let $=0;$<c;$++)g[$]=null;this.b=T.$Yb(this.b,o,g)}}e.$Cu=r}),define(K[21],X([0,1,17,40]),function(B,e,T,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rD=void 0;class y{static deserialize(l){let s=0;const r=(0,T.$Te)(l,s);s+=4;const d=[];for(let o=0;o<r;o++)s=m.$Cu.deserialize(l,s,d);return d}constructor(){this.a=[]}add(l,s){if(this.a.length>0){const r=this.a[this.a.length-1];if(r.endLineNumber+1===l){r.appendLineTokens(s);return}}this.a.push(new m.$Cu(l,[s]))}finalize(){return this.a}serialize(){const l=this.b(),s=new Uint8Array(l);return this.c(s),s}b(){let l=0;l+=4;for(let s=0;s<this.a.length;s++)l+=this.a[s].serializeSize();return l}c(l){let s=0;(0,T.$Ue)(l,this.a.length,s),s+=4;for(let r=0;r<this.a.length;r++)s=this.a[r].serialize(l,s)}}e.$rD=y}),define(K[41],X([0,1,19,22,5,23,52]),function(B,e,T,m,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yg=s,e.$zg=r,e.$Ag=d,e.$Bg=o,e.$Cg=c,e.$Dg=t,e.$Eg=i,e.$Fg=a,e.$Gg=f,e.$Hg=k,e.$Ig=I,e.$Jg=E,e.$Kg=N,e.$Lg=h,e.$Mg=b,e.$Ng=O,e.$Og=V;function s(C){return C===T.CharCode.Slash||C===T.CharCode.Backslash}function r(C){return C.replace(/[\\/]/g,m.$jc.sep)}function d(C){return C.indexOf("/")===-1&&(C=r(C)),/^[a-zA-Z]:(\/|$)/.test(C)&&(C="/"+C),C}function o(C,A=m.$jc.sep){if(!C)return"";const P=C.length,v=C.charCodeAt(0);if(s(v)){if(s(C.charCodeAt(1))&&!s(C.charCodeAt(2))){let M=3;const j=M;for(;M<P&&!s(C.charCodeAt(M));M++);if(j!==M&&!s(C.charCodeAt(M+1))){for(M+=1;M<P;M++)if(s(C.charCodeAt(M)))return C.slice(0,M+1).replace(/[\\/]/g,A)}}return A}else if(f(v)&&C.charCodeAt(1)===T.CharCode.Colon)return s(C.charCodeAt(2))?C.slice(0,2)+A:C.slice(0,2);let F=C.indexOf("://");if(F!==-1){for(F+=3;F<P;F++)if(s(C.charCodeAt(F)))return C.slice(0,F+1)}return""}function c(C){if(!y.$i||!C||C.length<5)return!1;let A=C.charCodeAt(0);if(A!==T.CharCode.Backslash||(A=C.charCodeAt(1),A!==T.CharCode.Backslash))return!1;let P=2;const v=P;for(;P<C.length&&(A=C.charCodeAt(P),A!==T.CharCode.Backslash);P++);return!(v===P||(A=C.charCodeAt(P+1),isNaN(A)||A===T.CharCode.Backslash))}const g=/[\\/:\*\?"<>\|]/g,$=/[/]/g,n=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function t(C,A=y.$i){const P=A?g:$;return!(!C||C.length===0||/^\s+$/.test(C)||(P.lastIndex=0,P.test(C))||A&&n.test(C)||C==="."||C===".."||A&&C[C.length-1]==="."||A&&C.length!==C.trim().length||C.length>255)}function i(C,A,P){const v=C===A;return!P||v?v:!C||!A?!1:(0,w.$Hf)(C,A)}function a(C,A,P,v=m.sep){if(C===A)return!0;if(!C||!A||A.length>C.length)return!1;if(P){if(!(0,w.$If)(C,A))return!1;if(A.length===C.length)return!0;let M=A.length;return A.charAt(A.length-1)===v&&M--,C.charAt(M)===v}return A.charAt(A.length-1)!==v&&(A+=v),C.indexOf(A)===0}function f(C){return C>=T.CharCode.A&&C<=T.CharCode.Z||C>=T.CharCode.a&&C<=T.CharCode.z}function k(C,A){return y.$i&&C.endsWith(":")&&(C+=m.sep),(0,m.$lc)(C)||(C=(0,m.$mc)(A,C)),C=(0,m.$kc)(C),I(C)}function I(C){return y.$i?(C=(0,w.$pf)(C,m.sep),C.endsWith(":")&&(C+=m.sep)):(C=(0,w.$pf)(C,m.sep),C||(C=m.sep)),C}function E(C){const A=(0,m.$kc)(C);return y.$i?C.length>3?!1:N(A)&&(C.length===2||A.charCodeAt(2)===T.CharCode.Backslash):A===m.$jc.sep}function N(C,A=y.$i){return A?f(C.charCodeAt(0))&&C.charCodeAt(1)===T.CharCode.Colon:!1}function h(C,A=y.$i){return N(C,A)?C[0]:void 0}function b(C,A,P){return A.length>C.length?-1:C===A?0:(P&&(C=C.toLowerCase(),A=A.toLowerCase()),C.indexOf(A))}function O(C){const A=C.split(":");let P,v,F;for(const M of A){const j=Number(M);(0,l.$kg)(j)?v===void 0?v=j:F===void 0&&(F=j):P=P?[P,M].join(":"):M}if(!P)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:P,line:v!==void 0?v:void 0,column:F!==void 0?F:v!==void 0?1:void 0}}const q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",H="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function V(C,A,P=8){let v="";for(let M=0;M<P;M++){let j;M===0&&y.$i&&!A&&(P===3||P===4)?j=H:j=q,v+=j.charAt(Math.floor(Math.random()*j.length))}let F;return A?F=`${A}-${v}`:F=v,C?(0,m.$mc)(C,F):F}}),define(K[24],X([0,1,8,5,23,13,22]),function(B,e,T,m,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Tg=e.$Sg=e.$Rg=e.Schemas=void 0,e.$Pg=r,e.$Qg=d,e.$Ug=c,T=x(T),m=x(m),l=x(l);var s;(function(n){n.inMemory="inmemory",n.vscode="vscode",n.internal="private",n.walkThrough="walkThrough",n.walkThroughSnippet="walkThroughSnippet",n.http="http",n.https="https",n.file="file",n.mailto="mailto",n.untitled="untitled",n.data="data",n.command="command",n.vscodeRemote="vscode-remote",n.vscodeRemoteResource="vscode-remote-resource",n.vscodeManagedRemoteResource="vscode-managed-remote-resource",n.vscodeUserData="vscode-userdata",n.vscodeCustomEditor="vscode-custom-editor",n.vscodeNotebookCell="vscode-notebook-cell",n.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",n.vscodeNotebookCellOutput="vscode-notebook-cell-output",n.vscodeInteractiveInput="vscode-interactive-input",n.vscodeSettings="vscode-settings",n.vscodeWorkspaceTrust="vscode-workspace-trust",n.vscodeTerminal="vscode-terminal",n.vscodeChatCodeBlock="vscode-chat-code-block",n.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",n.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",n.vscodeChatSesssion="vscode-chat-editor",n.webviewPanel="webview-panel",n.vscodeWebview="vscode-webview",n.extension="extension",n.vscodeFileResource="vscode-file",n.tmp="tmp",n.vsls="vsls",n.vscodeSourceControl="vscode-scm",n.commentsInput="comment",n.codeSetting="code-setting"})(s||(e.Schemas=s={}));function r(n,t){return w.URI.isUri(n)?(0,y.$Hf)(n.scheme,t):(0,y.$If)(n,t+":")}function d(n,...t){return t.some(i=>r(n,i))}e.$Rg="vscode-tkn",e.$Sg="tkn";class o{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(t){this.d=t}setDelegate(t){this.e=t}setServerRootPath(t,i){this.f=c(t,i)}getServerRootPath(){return this.f}get g(){return l.$jc.join(this.f,s.vscodeRemoteResource)}set(t,i,a){this.a[t]=i,this.b[t]=a}setConnectionToken(t,i){this.c[t]=i}getPreferredWebSchema(){return this.d}rewrite(t){if(this.e)try{return this.e(t)}catch(E){return T.$3(E),t}const i=t.authority;let a=this.a[i];a&&a.indexOf(":")!==-1&&a.indexOf("[")===-1&&(a=`[${a}]`);const f=this.b[i],k=this.c[i];let I=`path=${encodeURIComponent(t.path)}`;return typeof k=="string"&&(I+=`&${e.$Sg}=${encodeURIComponent(k)}`),w.URI.from({scheme:m.$o?this.d:s.vscodeRemoteResource,authority:`${a}:${f}`,path:this.g,query:I})}}e.$Tg=new o;function c(n,t){return l.$jc.join(t??"/",`${n.quality??"oss"}-${n.commit??"dev"}`)}e.$Vg="vs/../../extensions",e.$Wg="vs/../../node_modules",e.$Xg="vs/../../node_modules.asar",e.$Yg="vs/../../node_modules.asar.unpacked",e.$Zg="vscode-app";class g{static{this.a=e.$Zg}asBrowserUri(t){const i=this.b(t,B);return this.uriToBrowserUri(i)}uriToBrowserUri(t){return t.scheme===s.vscodeRemote?e.$Tg.rewrite(t):t.scheme===s.file&&(m.$m||m.$q===`${s.vscodeFileResource}://${g.a}`)?t.with({scheme:s.vscodeFileResource,authority:t.authority||g.a,query:null,fragment:null}):t}asFileUri(t){const i=this.b(t,B);return this.uriToFileUri(i)}uriToFileUri(t){return t.scheme===s.vscodeFileResource?t.with({scheme:s.file,authority:t.authority!==g.a?t.authority:null,query:null,fragment:null}):t}b(t,i){return w.URI.isUri(t)?t:w.URI.parse(i.toUrl(t))}}e.$1g=new g;var $;(function(n){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);n.CoopAndCoep=Object.freeze(t.get("3"));const i="vscode-coi";function a(k){let I;typeof k=="string"?I=new URL(k).searchParams:k instanceof URL?I=k.searchParams:w.URI.isUri(k)&&(I=new URL(k.toString(!0)).searchParams);const E=I?.get(i);if(E)return t.get(E)}n.getHeadersFromQuery=a;function f(k,I,E){if(!globalThis.crossOriginIsolated)return;const N=I&&E?"3":E?"2":"1";k instanceof URLSearchParams?k.set(i,N):k[i]=N}n.addSearchParam=f})($||(e.COI=$={}))}),define(K[42],X([0,1,28,24,5,13]),function(B,e,T,m,y,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$sE=o,y=x(y);class l{constructor(g,$,n){this.id=g,this.dependencies=$,this.callback=n}}class s{static{this.INSTANCE=new s}constructor(){this.a=typeof self=="object"&&self.constructor&&self.constructor.name==="DedicatedWorkerGlobalScope",this.b=typeof document=="object",this.c=[],this.d=!1}g(){this.d||(this.d=!0,globalThis.define=(g,$,n)=>{typeof g!="string"&&(n=$,$=g,g=null),(typeof $!="object"||!Array.isArray($))&&(n=$,$=null),this.c.push(new l(g,$,n))},globalThis.define.amd=!0,this.b?this.f=window.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){if(g.startsWith(window.location.origin)||g.startsWith("vscode-file://vscode-app"))return g;throw new Error(`[trusted_script_src] Invalid script url: ${g}`)}}):this.a&&(this.f=globalThis.trustedTypes?.createPolicy("amdLoader",{createScriptURL(g){return g}})))}async load(g){this.g();const $=await(this.a?this.i(g):this.b?this.h(g):this.j(g));if(!$)throw new Error(`Did not receive a define call from script ${g}`);if(Array.isArray($.dependencies)&&$.dependencies.length>0)throw new Error(`Cannot resolve dependencies for script ${g}. The dependencies are: ${$.dependencies.join(", ")}`);return typeof $.callback=="function"?$.callback([]):$.callback}h(g){return new Promise(($,n)=>{const t=document.createElement("script");t.setAttribute("async","async"),t.setAttribute("type","text/javascript");const i=()=>{t.removeEventListener("load",a),t.removeEventListener("error",f)},a=k=>{i(),$(this.c.pop())},f=k=>{i(),n(k)};t.addEventListener("load",a),t.addEventListener("error",f),this.f&&(g=this.f.createScriptURL(g)),t.setAttribute("src",g),window.document.getElementsByTagName("head")[0].appendChild(t)})}i(g){return new Promise(($,n)=>{try{this.f&&(g=this.f.createScriptURL(g)),importScripts(g),$(this.c.pop())}catch(t){n(t)}})}async j(g){try{const $=globalThis._VSCODE_NODE_MODULES.fs,n=globalThis._VSCODE_NODE_MODULES.vm,t=globalThis._VSCODE_NODE_MODULES.module,i=w.URI.parse(g).fsPath,a=$.readFileSync(i).toString(),f=t.wrap(a.replace(/^#!.*/,""));return new n.Script(f).runInThisContext().apply(),this.c.pop()}catch($){throw $}}}const r=new Map;let d={};typeof globalThis.require=="object"&&(d=globalThis.require.paths??{});async function o(c,g,$){if(T.$V){$===void 0&&($=!!(globalThis._VSCODE_PRODUCT_JSON??globalThis.vscode?.context?.configuration()?.product)?.commit),d[c]&&(c=d[c]);const n=`${c}/${g}`;if(r.has(n))return r.get(n);let t;if(/^\w[\w\d+.-]*:\/\//.test(n))t=n;else{const k=`${$&&!y.$o?m.$Xg:m.$Wg}/${n}`;t=m.$1g.asBrowserUri(k).toString(!0)}const i=s.INSTANCE.load(t);return r.set(n,i),i}else return await new Promise((n,t)=>{B([c],n,t)}).then(x)}}),define(K[25],X([0,1,19,41,24,22,5,23,13]),function(B,e,T,m,y,w,l,s,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$ph=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=void 0,e.$8g=d,e.$qh=c,e.$rh=$,m=x(m),w=x(w);function d(n){return(0,r.$zc)(n,!0)}class o{constructor(t){this.a=t}compare(t,i,a=!1){return t===i?0:(0,s.$Af)(this.getComparisonKey(t,a),this.getComparisonKey(i,a))}isEqual(t,i,a=!1){return t===i?!0:!t||!i?!1:this.getComparisonKey(t,a)===this.getComparisonKey(i,a)}getComparisonKey(t,i=!1){return t.with({path:this.a(t)?t.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}ignorePathCasing(t){return this.a(t)}isEqualOrParent(t,i,a=!1){if(t.scheme===i.scheme){if(t.scheme===y.Schemas.file)return m.$Fg(d(t),d(i),this.a(t))&&t.query===i.query&&(a||t.fragment===i.fragment);if((0,e.$mh)(t.authority,i.authority))return m.$Fg(t.path,i.path,this.a(t),"/")&&t.query===i.query&&(a||t.fragment===i.fragment)}return!1}joinPath(t,...i){return r.URI.joinPath(t,...i)}basenameOrAuthority(t){return(0,e.$eh)(t)||t.authority}basename(t){return w.$jc.basename(t.path)}extname(t){return w.$jc.extname(t.path)}dirname(t){if(t.path.length===0)return t;let i;return t.scheme===y.Schemas.file?i=r.URI.file(w.$pc(d(t))).path:(i=w.$jc.dirname(t.path),t.authority&&i.length&&i.charCodeAt(0)!==T.CharCode.Slash&&(console.error(`dirname("${t.toString})) resulted in a relative path`),i="/")),t.with({path:i})}normalizePath(t){if(!t.path.length)return t;let i;return t.scheme===y.Schemas.file?i=r.URI.file(w.$kc(d(t))).path:i=w.$jc.normalize(t.path),t.with({path:i})}relativePath(t,i){if(t.scheme!==i.scheme||!(0,e.$mh)(t.authority,i.authority))return;if(t.scheme===y.Schemas.file){const k=w.$oc(d(t),d(i));return l.$i?m.$zg(k):k}let a=t.path||"/";const f=i.path||"/";if(this.a(t)){let k=0;for(const I=Math.min(a.length,f.length);k<I&&!(a.charCodeAt(k)!==f.charCodeAt(k)&&a.charAt(k).toLowerCase()!==f.charAt(k).toLowerCase());k++);a=f.substr(0,k)+a.substr(k)}return w.$jc.relative(a,f)}resolvePath(t,i){if(t.scheme===y.Schemas.file){const a=r.URI.file(w.$nc(d(t),i));return t.with({authority:a.authority,path:a.path})}return i=m.$Ag(i),t.with({path:w.$jc.resolve(t.path,i)})}isAbsolutePath(t){return!!t.path&&t.path[0]==="/"}isEqualAuthority(t,i){return t===i||t!==void 0&&i!==void 0&&(0,s.$Hf)(t,i)}hasTrailingPathSeparator(t,i=w.sep){if(t.scheme===y.Schemas.file){const a=d(t);return a.length>m.$Bg(a).length&&a[a.length-1]===i}else{const a=t.path;return a.length>1&&a.charCodeAt(a.length-1)===T.CharCode.Slash&&!/^[a-zA-Z]:(\/$|\\$)/.test(t.fsPath)}}removeTrailingPathSeparator(t,i=w.sep){return(0,e.$nh)(t,i)?t.with({path:t.path.substr(0,t.path.length-1)}):t}addTrailingPathSeparator(t,i=w.sep){let a=!1;if(t.scheme===y.Schemas.file){const f=d(t);a=f!==void 0&&f.length===m.$Bg(f).length&&f[f.length-1]===i}else{i="/";const f=t.path;a=f.length===1&&f.charCodeAt(f.length-1)===T.CharCode.Slash}return!a&&!(0,e.$nh)(t,i)?t.with({path:t.path+"/"}):t}}e.$9g=o,e.$0g=new o(()=>!1),e.$$g=new o(n=>n.scheme===y.Schemas.file?!l.$k:!0),e.$_g=new o(n=>!0),e.$ah=e.$0g.isEqual.bind(e.$0g),e.$bh=e.$0g.isEqualOrParent.bind(e.$0g),e.$ch=e.$0g.getComparisonKey.bind(e.$0g),e.$dh=e.$0g.basenameOrAuthority.bind(e.$0g),e.$eh=e.$0g.basename.bind(e.$0g),e.$fh=e.$0g.extname.bind(e.$0g),e.$gh=e.$0g.dirname.bind(e.$0g),e.$hh=e.$0g.joinPath.bind(e.$0g),e.$ih=e.$0g.normalizePath.bind(e.$0g),e.$jh=e.$0g.relativePath.bind(e.$0g),e.$kh=e.$0g.resolvePath.bind(e.$0g),e.$lh=e.$0g.isAbsolutePath.bind(e.$0g),e.$mh=e.$0g.isEqualAuthority.bind(e.$0g),e.$nh=e.$0g.hasTrailingPathSeparator.bind(e.$0g),e.$oh=e.$0g.removeTrailingPathSeparator.bind(e.$0g),e.$ph=e.$0g.addTrailingPathSeparator.bind(e.$0g);function c(n,t){const i=[];for(let a=0;a<n.length;a++){const f=t(n[a]);n.some((k,I)=>I===a?!1:(0,e.$bh)(f,t(k)))||i.push(n[a])}return i}var g;(function(n){n.META_DATA_LABEL="label",n.META_DATA_DESCRIPTION="description",n.META_DATA_SIZE="size",n.META_DATA_MIME="mime";function t(i){const a=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(I=>{const[E,N]=I.split(":");E&&N&&a.set(E,N)});const k=i.path.substring(0,i.path.indexOf(";"));return k&&a.set(n.META_DATA_MIME,k),a}n.parseMetaData=t})(g||(e.DataUri=g={}));function $(n,t,i){if(t){let a=n.path;return a&&a[0]!==w.$jc.sep&&(a=w.$jc.sep+a),n.with({scheme:i,authority:t,path:a})}return n.with({scheme:i})}}),define(K[26],X([0,1,33,8,15,2,25,5,37,36]),function(B,e,T,m,y,w,l,s,r,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0h=e.$8h=e.$7h=e.$6h=e.$5h=e.Promises=e.$4h=e.$3h=e.$2h=e.$Zh=e.$Yh=e.$Xh=e.$Wh=e.$Vh=e.$Uh=e.$Th=e.$Sh=e.$Rh=e.$Qh=e.$Ph=e.$Oh=e.$Nh=e.$Mh=e.$Gh=e.$Fh=e.$Eh=e.$Dh=e.$Ch=e.$Bh=e.$Ah=void 0,e.$sh=o,e.$th=c,e.$uh=g,e.$vh=$,e.$wh=n,e.$xh=t,e.$yh=i,e.$zh=a,e.$Hh=H,e.$Ih=V,e.$Jh=C,e.$Kh=A,e.$Lh=P,e.$1h=ae,e.$9h=$e;function o(L){return!!L&&typeof L.then=="function"}function c(L){const u=new T.$ye,S=L(u.token),D=new Promise((p,W)=>{const Y=u.token.onCancellationRequested(()=>{Y.dispose(),W(new m.$8)});Promise.resolve(S).then(_=>{Y.dispose(),u.dispose(),p(_)},_=>{Y.dispose(),u.dispose(),W(_)})});return new class{cancel(){u.cancel(),u.dispose()}then(p,W){return D.then(p,W)}catch(p){return this.then(void 0,p)}finally(p){return D.finally(p)}}}function g(L,u,S){return new Promise((D,p)=>{const W=u.onCancellationRequested(()=>{W.dispose(),D(S)});L.then(D,p).finally(()=>W.dispose())})}function $(L,u){return new Promise((S,D)=>{const p=u.onCancellationRequested(()=>{p.dispose(),D(new m.$8)});L.then(S,D).finally(()=>p.dispose())})}async function n(L){let u=-1;const S=L.map((D,p)=>D.then(W=>(u=p,W)));try{return await Promise.race(S)}finally{L.forEach((D,p)=>{p!==u&&D.cancel()})}}function t(L,u,S){let D;const p=setTimeout(()=>{D?.(void 0),S?.()},u);return Promise.race([L.finally(()=>clearTimeout(p)),new Promise(W=>D=W)])}function i(L){return new Promise((u,S)=>{const D=L();o(D)?D.then(u,S):u(D)})}function a(){let L,u;return{promise:new Promise((D,p)=>{L=D,u=p}),resolve:L,reject:u}}class f{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(u){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=u,!this.b){const S=()=>{if(this.b=null,this.f)return;const D=this.queue(this.d);return this.d=null,D};this.b=new Promise(D=>{this.a.then(S,S).then(D)})}return new Promise((S,D)=>{this.b.then(S,D)})}return this.a=u(),new Promise((S,D)=>{this.a.then(p=>{this.a=null,S(p)},p=>{this.a=null,D(p)})})}dispose(){this.f=!0}}e.$Ah=f;class k{constructor(){this.a=Promise.resolve(null)}queue(u){return this.a=this.a.then(()=>u(),()=>u())}}e.$Bh=k;class I{constructor(){this.a=new Map}queue(u,S){const p=(this.a.get(u)??Promise.resolve()).catch(()=>{}).then(S).finally(()=>{this.a.get(u)===p&&this.a.delete(u)});return this.a.set(u,p),p}}e.$Ch=I;const E=(L,u)=>{let S=!0;const D=setTimeout(()=>{S=!1,u()},L);return{isTriggered:()=>S,dispose:()=>{clearTimeout(D),S=!1}}},N=L=>{let u=!0;return queueMicrotask(()=>{u&&(u=!1,L())}),{isTriggered:()=>u,dispose:()=>{u=!1}}};class h{constructor(u){this.defaultDelay=u,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(u,S=this.defaultDelay){this.g=u,this.h(),this.b||(this.b=new Promise((p,W)=>{this.d=p,this.f=W}).then(()=>{if(this.b=null,this.d=null,this.g){const p=this.g;return this.g=null,p()}}));const D=()=>{this.a=null,this.d?.(null)};return this.a=S===r.$ie?N(D):E(S,D),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new m.$8),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$Dh=h;class b{constructor(u){this.a=new h(u),this.b=new f}trigger(u,S){return this.a.trigger(()=>this.b.queue(u),S)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$Eh=b;class O{constructor(){this.a=!1,this.b=new Promise((u,S)=>{this.d=u})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$Fh=O;class q extends O{constructor(u){super(),this.f=setTimeout(()=>this.open(),u)}open(){clearTimeout(this.f),super.open()}}e.$Gh=q;function H(L,u){return u?new Promise((S,D)=>{const p=setTimeout(()=>{W.dispose(),S()},L),W=u.onCancellationRequested(()=>{clearTimeout(p),W.dispose(),D(new m.$8)})}):c(S=>H(L,S))}function V(L,u=0,S){const D=setTimeout(()=>{L(),S&&p.dispose()},u),p=(0,w.$Vc)(()=>{clearTimeout(D),S?.deleteAndLeak(p)});return S?.add(p),p}function C(L){const u=[];let S=0;const D=L.length;function p(){return S<D?L[S++]():null}function W(Y){Y!=null&&u.push(Y);const _=p();return _?_.then(W):Promise.resolve(u)}return Promise.resolve(null).then(W)}function A(L,u=D=>!!D,S=null){let D=0;const p=L.length,W=()=>{if(D>=p)return Promise.resolve(S);const Y=L[D++];return Promise.resolve(Y()).then(se=>u(se)?Promise.resolve(se):W())};return W()}function P(L,u=D=>!!D,S=null){if(L.length===0)return Promise.resolve(S);let D=L.length;const p=()=>{D=-1;for(const W of L)W.cancel?.()};return new Promise((W,Y)=>{for(const _ of L)_.then(se=>{--D>=0&&u(se)?(p(),W(se)):D===0&&W(S)}).catch(se=>{--D>=0&&(p(),Y(se))})})}class v{constructor(u){this.a=0,this.b=!1,this.f=u,this.g=[],this.d=0,this.h=new y.$ne}whenIdle(){return this.size>0?y.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(u){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((S,D)=>{this.g.push({factory:u,c:S,e:D}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const u=this.g.shift();this.d++;const S=u.factory();S.then(u.c,u.e),S.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$Mh=v;class F extends v{constructor(){super(1)}}e.$Nh=F;class M{constructor(){this.a=new ne,this.b=0}queue(u){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,u())):this.a.run(this.b++,u())}}e.$Oh=M;class j{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const u=new he;return this.b.add(u),u.p}g(){for(const[,u]of this.a)if(u.size>0)return!1;return!0}queueSize(u,S=l.$0g){const D=S.getComparisonKey(u);return this.a.get(D)?.size??0}queueFor(u,S,D=l.$0g){const p=D.getComparisonKey(u);let W=this.a.get(p);if(!W){W=new F;const Y=this.f++,_=y.Event.once(W.onDrained)(()=>{W?.dispose(),this.a.delete(p),this.h(),this.d?.deleteAndDispose(Y),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new w.$7c),this.d.set(Y,_),this.a.set(p,W)}return W.queue(S)}h(){this.g()&&this.j()}j(){for(const u of this.b)u.complete();this.b.clear()}dispose(){for(const[,u]of this.a)u.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$Ph=j;class R{constructor(u,S){this.b=!1,this.a=-1,typeof u=="function"&&typeof S=="number"&&this.setIfNotSet(u,S)}dispose(){this.cancel(),this.b=!0}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(u,S){if(this.b)throw new m.$fb("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this.a=setTimeout(()=>{this.a=-1,u()},S)}setIfNotSet(u,S){if(this.b)throw new m.$fb("Calling 'setIfNotSet' on a disposed TimeoutTimer");this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,u()},S))}}e.$Qh=R;class U{constructor(){this.d=void 0,this.f=!1}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(u,S,D=globalThis){if(this.f)throw new m.$fb("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const p=D.setInterval(()=>{u()},S);this.d=(0,w.$Vc)(()=>{D.clearInterval(p),this.d=void 0})}dispose(){this.cancel(),this.f=!0}}e.$Rh=U;class z{constructor(u,S){this.b=-1,this.a=u,this.d=S,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(u=this.d){this.cancel(),this.b=setTimeout(this.f,u)}get delay(){return this.d}set delay(u){this.d=u}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Sh=z;class G{constructor(u,S){S%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${S}ms is not a multiple of 1000ms.`),this.a=u,this.b=S,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(u=this.b){u%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${u}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(u/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Th=G;class Z extends z{constructor(u,S){super(u,S),this.j=[]}work(u){this.j.push(u),this.isScheduled()||this.schedule()}h(){const u=this.j;this.j=[],this.a?.(u)}dispose(){this.j=[],super.dispose()}}e.$Uh=Z;class Q extends w.$Xc{constructor(u,S){super(),this.g=u,this.h=S,this.a=[],this.b=this.B(new w.$Yc),this.f=!1}get pending(){return this.a.length}work(u){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+u.length>this.g.maxBufferedWork)return!1}else if(this.pending+u.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const S of u)this.a.push(S);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new z(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Vh=Q,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$Xh=(L,u)=>{(0,s.$B)(()=>{if(S)return;const D=Date.now()+15;u(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,D-Date.now())}}))});let S=!1;return{dispose(){S||(S=!0)}}}:e.$Xh=(L,u,S)=>{const D=L.requestIdleCallback(u,typeof S=="number"?{timeout:S}:void 0);let p=!1;return{dispose(){p||(p=!0,L.cancelIdleCallback(D))}}},e.$Wh=L=>(0,e.$Xh)(globalThis,L)}();class ee{constructor(u,S){this.g=!1,this.d=()=>{try{this.j=S()}catch(D){this.l=D}finally{this.g=!0}},this.f=(0,e.$Xh)(u,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Yh=ee;class re extends ee{constructor(u){super(globalThis,u)}}e.$Zh=re;async function ae(L,u,S){let D;for(let p=0;p<S;p++)try{return await L()}catch(W){D=W,await H(u)}throw D}class ne{isRunning(u){return typeof u=="number"?this.a?.taskId===u:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(u,S,D){return this.a={taskId:u,cancel:()=>D?.(),promise:S},S.then(()=>this.d(u),()=>this.d(u)),S}d(u){this.a&&u===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const u=this.b;this.b=void 0,u.run().then(u.promiseResolve,u.promiseReject)}}queue(u){if(this.b)this.b.run=u;else{const{promise:S,resolve:D,reject:p}=a();this.b={run:u,promise:S,promiseResolve:D,promiseReject:p}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$2h=ne;class oe{constructor(u,S=()=>Date.now()){this.d=u,this.f=S,this.a=0,this.b=0}increment(){const u=this.f();return u-this.a>this.d&&(this.a=u,this.b=0),this.b++,this.b}}e.$3h=oe;var ie;(function(L){L[L.Resolved=0]="Resolved",L[L.Rejected=1]="Rejected"})(ie||(ie={}));class he{get isRejected(){return this.d?.outcome===ie.Rejected}get isResolved(){return this.d?.outcome===ie.Resolved}get isSettled(){return!!this.d}get value(){return this.d?.outcome===ie.Resolved?this.d?.value:void 0}constructor(){this.p=new Promise((u,S)=>{this.a=u,this.b=S})}complete(u){return new Promise(S=>{this.a(u),this.d={outcome:ie.Resolved,value:u},S()})}error(u){return new Promise(S=>{this.b(u),this.d={outcome:ie.Rejected,value:u},S()})}cancel(){return this.error(new m.$8)}}e.$4h=he;var ue;(function(L){async function u(D){let p;const W=await Promise.all(D.map(Y=>Y.then(_=>_,_=>{p||(p=_)})));if(typeof p<"u")throw p;return W}L.settled=u;function S(D){return new Promise(async(p,W)=>{try{await D(p,W)}catch(Y){W(Y)}})}L.withAsyncBody=S})(ue||(e.Promises=ue={}));class de{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(u){this.a=void 0,this.b=void 0,this.d=!1,this.promise=u.then(S=>(this.a=S,this.d=!0,S),S=>{throw this.b=S,this.d=!0,S})}requireValue(){if(!this.d)throw new m.$fb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$5h=de;class ge{constructor(u){this.b=u,this.a=new d.$X(()=>new de(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$6h=ge;var te;(function(L){L[L.Initial=0]="Initial",L[L.DoneOK=1]="DoneOK",L[L.DoneError=2]="DoneError"})(te||(te={}));class J{static fromArray(u){return new J(S=>{S.emitMany(u)})}static fromPromise(u){return new J(async S=>{S.emitMany(await u)})}static fromPromises(u){return new J(async S=>{await Promise.all(u.map(async D=>S.emitOne(await D)))})}static merge(u){return new J(async S=>{await Promise.all(u.map(async D=>{for await(const p of D)S.emitOne(p)}))})}static{this.EMPTY=J.fromArray([])}constructor(u,S){this.a=te.Initial,this.b=[],this.d=null,this.f=S,this.g=new y.$ne,queueMicrotask(async()=>{const D={emitOne:p=>this.h(p),emitMany:p=>this.j(p),reject:p=>this.l(p)};try{await Promise.resolve(u(D)),this.k()}catch(p){this.l(p)}finally{D.emitOne=void 0,D.emitMany=void 0,D.reject=void 0}})}[Symbol.asyncIterator](){let u=0;return{next:async()=>{do{if(this.a===te.DoneError)throw this.d;if(u<this.b.length)return{done:!1,value:this.b[u++]};if(this.a===te.DoneOK)return{done:!0,value:void 0};await y.Event.toPromise(this.g.event)}while(!0)},return:async()=>(this.f?.(),{done:!0,value:void 0})}}static map(u,S){return new J(async D=>{for await(const p of u)D.emitOne(S(p))})}map(u){return J.map(this,u)}static filter(u,S){return new J(async D=>{for await(const p of u)S(p)&&D.emitOne(p)})}filter(u){return J.filter(this,u)}static coalesce(u){return J.filter(u,S=>!!S)}coalesce(){return J.coalesce(this)}static async toPromise(u){const S=[];for await(const D of u)S.push(D);return S}toPromise(){return J.toPromise(this)}h(u){this.a===te.Initial&&(this.b.push(u),this.g.fire())}j(u){this.a===te.Initial&&(this.b=this.b.concat(u),this.g.fire())}k(){this.a===te.Initial&&(this.a=te.DoneOK,this.g.fire())}l(u){this.a===te.Initial&&(this.a=te.DoneError,this.d=u,this.g.fire())}}e.$7h=J;class ce extends J{constructor(u,S){super(S),this.m=u}cancel(){this.m.cancel()}}e.$8h=ce;function $e(L){const u=new T.$ye,S=L(u.token);return new ce(u,async D=>{const p=u.token.onCancellationRequested(()=>{p.dispose(),u.dispose(),D.reject(new m.$8)});try{for await(const W of S){if(u.token.isCancellationRequested)return;D.emitOne(W)}p.dispose(),u.dispose()}catch(W){p.dispose(),u.dispose(),D.reject(W)}})}class be{constructor(u){this.a=new he,this.b=new J(p=>{if(S){p.reject(S);return}return D&&p.emitMany(D),this.d=W=>p.reject(W),this.f=W=>p.emitOne(W),this.a.p},u);let S,D;this.f=p=>{D||(D=[]),D.push(p)},this.d=p=>{S||(S=p)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(u){this.d(u),this.a.complete()}emitOne(u){this.f(u)}}e.$0h=be}),define(K[27],X([0,1,43,12]),function(B,e,T,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$nD=void 0,e.$oD=y,e.$pD=w,e.$nD=new class{clone(){return this}equals(l){return this===l}};function y(l,s){return new T.$Fu([new T.$Eu(0,"",l)],s)}function w(l,s){const r=new Uint32Array(2);return r[0]=0,r[1]=(l<<m.MetadataConsts.LANGUAGEID_OFFSET|m.StandardTokenType.Other<<m.MetadataConsts.TOKEN_TYPE_OFFSET|m.FontStyle.None<<m.MetadataConsts.FONT_STYLE_OFFSET|m.ColorId.DefaultForeground<<m.MetadataConsts.FOREGROUND_OFFSET|m.ColorId.DefaultBackground<<m.MetadataConsts.BACKGROUND_OFFSET)>>>0,new T.$Gu(r,s===null?e.$nD:s)}}),define(K[44],X([0,1,26,8,5,45,18,20,53,12,27,38,21,11]),function(B,e,T,m,y,w,l,s,r,d,o,c,g,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xD=e.$wD=e.$vD=e.$uD=e.$tD=e.$sD=void 0;var n;(function(N){N[N.CHEAP_TOKENIZATION_LENGTH_LIMIT=2048]="CHEAP_TOKENIZATION_LENGTH_LIMIT"})(n||(n={}));class t{constructor(h,b){this.tokenizationSupport=b,this.a=this.tokenizationSupport.getInitialState(),this.store=new a(h)}getStartState(h){return this.store.getStartState(h,this.a)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.a)}}e.$sD=t;class i extends t{constructor(h,b,O,q){super(h,b),this._textModel=O,this._languageIdCodec=q}updateTokensUntilLine(h,b){const O=this._textModel.getLanguageId();for(;;){const q=this.getFirstInvalidLine();if(!q||q.lineNumber>b)break;const H=this._textModel.getLineContent(q.lineNumber),V=I(this._languageIdCodec,O,this.tokenizationSupport,H,!0,q.startState);h.add(q.lineNumber,V.tokens),this.store.setEndState(q.lineNumber,V.endState)}}getTokenTypeIfInsertingCharacter(h,b){const O=this.getStartState(h.lineNumber);if(!O)return d.StandardTokenType.Other;const q=this._textModel.getLanguageId(),H=this._textModel.getLineContent(h.lineNumber),V=H.substring(0,h.column-1)+b+H.substring(h.column-1),C=I(this._languageIdCodec,q,this.tokenizationSupport,V,!0,O),A=new $.$xu(C.tokens,V,this._languageIdCodec);if(A.getCount()===0)return d.StandardTokenType.Other;const P=A.findTokenIndexAtOffset(h.column-1);return A.getStandardTokenType(P)}tokenizeLineWithEdit(h,b,O){const q=h.lineNumber,H=h.column,V=this.getStartState(q);if(!V)return null;const C=this._textModel.getLineContent(q),A=C.substring(0,H-1)+O+C.substring(H-1+b),P=this._textModel.getLanguageIdAtPosition(q,0),v=I(this._languageIdCodec,P,this.tokenizationSupport,A,!0,V);return new $.$xu(v.tokens,A,this._languageIdCodec)}hasAccurateTokensForLine(h){const b=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<b}isCheapToTokenize(h){const b=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<b||h===b&&this._textModel.getLineLength(h)<n.CHEAP_TOKENIZATION_LENGTH_LIMIT}tokenizeHeuristically(h,b,O){if(O<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(b<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(h,O),{heuristicTokens:!1};let q=this.b(b);const H=this._textModel.getLanguageId();for(let V=b;V<=O;V++){const C=this._textModel.getLineContent(V),A=I(this._languageIdCodec,H,this.tokenizationSupport,C,!0,q);h.add(V,A.tokens),q=A.endState}return{heuristicTokens:!0}}b(h){let b=this._textModel.getLineFirstNonWhitespaceColumn(h);const O=[];let q=null;for(let C=h-1;b>1&&C>=1;C--){const A=this._textModel.getLineFirstNonWhitespaceColumn(C);if(A!==0&&A<b&&(O.push(this._textModel.getLineContent(C)),b=A,q=this.getStartState(C),q))break}q||(q=this.tokenizationSupport.getInitialState()),O.reverse();const H=this._textModel.getLanguageId();let V=q;for(const C of O)V=I(this._languageIdCodec,H,this.tokenizationSupport,C,!1,V).endState;return V}}e.$tD=i;class a{constructor(h){this.d=h,this.a=new f,this.b=new k,this.b.addRange(new r.$Tt(1,h+1))}getEndState(h){return this.a.getEndState(h)}setEndState(h,b){if(!b)throw new m.$fb("Cannot set null/undefined state");this.b.delete(h);const O=this.a.setEndState(h,b);return O&&h<this.d&&this.b.addRange(new r.$Tt(h+1,h+2)),O}acceptChange(h,b){this.d+=b-h.length,this.a.acceptChange(h,b),this.b.addRangeAndResize(new r.$Tt(h.startLineNumber,h.endLineNumberExclusive),b)}acceptChanges(h){for(const b of h){const[O]=(0,l.$wu)(b.text);this.acceptChange(new s.$Vt(b.range.startLineNumber,b.range.endLineNumber+1),O+1)}}invalidateEndStateRange(h){this.b.addRange(new r.$Tt(h.startLineNumber,h.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this.b.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this.b.min===null}getStartState(h,b){return h===1?b:this.getEndState(h-1)}getFirstInvalidLine(h){const b=this.getFirstInvalidEndStateLineNumber();if(b===null)return null;const O=this.getStartState(b,h);if(!O)throw new m.$fb("Start state must be defined");return{lineNumber:b,startState:O}}}e.$uD=a;class f{constructor(){this.a=new c.$qD(null)}getEndState(h){return this.a.get(h)}setEndState(h,b){const O=this.a.get(h);return O&&O.equals(b)?!1:(this.a.set(h,b),!0)}acceptChange(h,b){let O=h.length;b>0&&O>0&&(O--,b--),this.a.replace(h.startLineNumber,O,b)}acceptChanges(h){for(const b of h){const[O]=(0,l.$wu)(b.text);this.acceptChange(new s.$Vt(b.range.startLineNumber,b.range.endLineNumber+1),O+1)}}}e.$vD=f;class k{constructor(){this.a=[]}getRanges(){return this.a}get min(){return this.a.length===0?null:this.a[0].start}removeMin(){if(this.a.length===0)return null;const h=this.a[0];return h.start+1===h.endExclusive?this.a.shift():this.a[0]=new r.$Tt(h.start+1,h.endExclusive),h.start}delete(h){const b=this.a.findIndex(O=>O.contains(h));if(b!==-1){const O=this.a[b];O.start===h?O.endExclusive===h+1?this.a.splice(b,1):this.a[b]=new r.$Tt(h+1,O.endExclusive):O.endExclusive===h+1?this.a[b]=new r.$Tt(O.start,h):this.a.splice(b,1,new r.$Tt(O.start,h),new r.$Tt(h+1,O.endExclusive))}}addRange(h){r.$Tt.addRange(h,this.a)}addRangeAndResize(h,b){let O=0;for(;!(O>=this.a.length||h.start<=this.a[O].endExclusive);)O++;let q=O;for(;!(q>=this.a.length||h.endExclusive<this.a[q].start);)q++;const H=b-h.length;for(let V=q;V<this.a.length;V++)this.a[V]=this.a[V].delta(H);if(O===q){const V=new r.$Tt(h.start,h.start+b);V.isEmpty||this.a.splice(O,0,V)}else{const V=Math.min(h.start,this.a[O].start),C=Math.max(h.endExclusive,this.a[q-1].endExclusive),A=new r.$Tt(V,C+H);A.isEmpty?this.a.splice(O,q-O):this.a.splice(O,q-O,A)}}toString(){return this.a.map(h=>h.toString()).join(" + ")}}e.$wD=k;function I(N,h,b,O,q,H){let V=null;if(b)try{V=b.tokenizeEncoded(O,q,H.clone())}catch(C){(0,m.$3)(C)}return V||(V=(0,o.$pD)(N.encodeLanguageId(h),H)),$.$xu.convertToEndOffset(V.tokens,O.length),V}class E{constructor(h,b){this.b=h,this.d=b,this.a=!1,this.f=!1}dispose(){this.a=!0}handleChanges(){this.g()}g(){this.f||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.f=!0,(0,T.$Wh)(h=>{this.f=!1,this.h(h)}))}h(h){const b=Date.now()+h.timeRemaining(),O=()=>{this.a||!this.b._textModel.isAttachedToEditor()||!this.k()||(this.j(),Date.now()<b?(0,y.$B)(O):this.g())};O()}j(){const h=this.b._textModel.getLineCount(),b=new g.$rD,O=w.$he.create(!1);do if(O.elapsed()>1||this.l(b)>=h)break;while(this.k());this.d.setTokens(b.finalize()),this.checkFinished()}k(){return this.b?!this.b.store.allStatesValid():!1}l(h){const b=this.b?.getFirstInvalidLine();return b?(this.b.updateTokensUntilLine(h,b.lineNumber),b.lineNumber):this.b._textModel.getLineCount()+1}checkFinished(){this.a||this.b.store.allStatesValid()&&this.d.backgroundTokenizationFinished()}requestTokens(h,b){this.b.store.invalidateEndStateRange(new s.$Vt(h,b))}}e.$xD=E}),define(K[46],X([0,1,15,2,45,12,43]),function(B,e,T,m,y,w,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$oOb=void 0;class s extends m.$Xc{constructor(d,o,c,g,$,n,t){super(),this.c=d,this.f=o,this.g=c,this.h=g,this.j=$,this.m=n,this.n=t,this.a=[],this.b=this.B(new T.$ne),this.onDidEncounterLanguage=this.b.event}get backgroundTokenizerShouldOnlyVerifyTokens(){return this.j()}getInitialState(){return this.f}tokenize(d,o,c){throw new Error("Not supported!")}createBackgroundTokenizer(d,o){if(this.h)return this.h(d,o)}tokenizeEncoded(d,o,c){const g=Math.random()*1e4<1,$=this.n||g,n=$?new y.$he(!0):void 0,t=this.c.tokenizeLine2(d,c,500);if($){const a=n.elapsed();(g||a>32)&&this.m(a,d.length,g)}if(t.stoppedEarly)return console.warn(`Time limit reached when tokenizing line: ${d.substring(0,100)}`),new l.$Gu(t.tokens,c);if(this.g){const a=this.a,f=t.tokens;for(let k=0,I=f.length>>>1;k<I;k++){const E=f[(k<<1)+1],N=w.$su.getLanguageId(E);a[N]||(a[N]=!0,this.b.fire(N))}}let i;return c.equals(t.ruleStack)?i=c:i=t.ruleStack,new l.$Gu(t.tokens,i)}}e.$oOb=s}),define(K[47],X([0,1,27,2,16]),function(B,e,T,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$pOb=void 0;class w extends m.$Xc{get backgroundTokenizerShouldOnlyVerifyTokens(){return this.b.backgroundTokenizerShouldOnlyVerifyTokens}constructor(s,r,d,o){super(),this.a=s,this.b=r,this.c=o,this.B((0,y.keepObserved)(this.c)),this.B(d)}getInitialState(){return this.b.getInitialState()}tokenize(s,r,d){throw new Error("Not supported!")}tokenizeEncoded(s,r,d){return s.length>=this.c.get()?(0,T.$pD)(this.a,d):this.b.tokenizeEncoded(s,r,d)}createBackgroundTokenizer(s,r){if(this.b.createBackgroundTokenizer)return this.b.createBackgroundTokenizer(s,r)}}e.$pOb=w}),define(K[48],X([0,1,42,26,16,5,20,54,44,21,11,46,47,2]),function(B,e,T,m,y,w,l,s,r,d,o,c,g,$){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$uOb=void 0;class n extends s.$mw{constructor(a,f,k,I,E,N,h,b){super(a,f,k,I),this.s=E,this.t=N,this.u=h,this.a=null,this.b=!1,this.c=(0,y.observableValue)(this,-1),this.q=new m.$Sh(()=>this.w(),10),this.c.set(b,void 0),this.v()}dispose(){this.b=!0,super.dispose()}onLanguageId(a,f){this.t=a,this.u=f,this.v()}onEvents(a){super.onEvents(a),this.a?.store.acceptChanges(a.changes),this.q.schedule()}acceptMaxTokenizationLineLength(a){this.c.set(a,void 0)}retokenize(a,f){this.a&&(this.a.store.invalidateEndStateRange(new l.$Vt(a,f)),this.q.schedule())}async v(){this.a=null;const a=this.t,f=this.u,k=await this.s.getOrCreateGrammar(a,f);if(!(this.b||a!==this.t||f!==this.u||!k)){if(k.grammar){const I=new g.$pOb(this.u,new c.$oOb(k.grammar,k.initialState,!1,void 0,()=>!1,(E,N,h)=>{this.s.reportTokenizationTime(E,a,k.sourceExtensionId,N,h)},!1),$.$Xc.None,this.c);this.a=new r.$sD(this.f.length,I)}else this.a=null;this.w()}}async w(){if(this.b||!this.a)return;if(!this.m){const{diffStateStacksRefEq:f}=await(0,T.$sE)("vscode-textmate","release/main.js");this.m=f}const a=new Date().getTime();for(;;){let f=0;const k=new d.$rD,I=new t;for(;;){const h=this.a.getFirstInvalidLine();if(h===null||f>200)break;f++;const b=this.f[h.lineNumber-1],O=this.a.tokenizationSupport.tokenizeEncoded(b,!0,h.startState);if(this.a.store.setEndState(h.lineNumber,O.endState)){const H=this.m(h.startState,O.endState);I.setState(h.lineNumber,H)}else I.setState(h.lineNumber,null);if(o.$xu.convertToEndOffset(O.tokens,b.length),k.add(h.lineNumber,O.tokens),new Date().getTime()-a>20)break}if(f===0)break;const E=I.getStateDeltas();if(this.s.setTokensAndStates(this.h,k.serialize(),E),new Date().getTime()-a>20){(0,w.$B)(()=>this.w());return}}}}e.$uOb=n;class t{constructor(){this.a=-1,this.b=[]}setState(a,f){a===this.a+1?this.b[this.b.length-1].stateDeltas.push(f):this.b.push({startLineNumber:a,stateDeltas:[f]}),this.a=a}getStateDeltas(){return this.b}}}),define(K[49],X([0,1,25]),function(B,e,T){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$rOb=void 0,T=x(T);class m{constructor(){this.a=Object.create(null)}reset(){this.a=Object.create(null)}register(w){if(this.a[w.scopeName]){const l=this.a[w.scopeName];T.$ah(l.location,w.location)||console.warn(`Overwriting grammar scope name to file mapping for scope ${w.scopeName}.
Old grammar file: ${l.location.toString()}.
New grammar file: ${w.location.toString()}`)}this.a[w.scopeName]=w}getGrammarDefinition(w){return this.a[w]||null}}e.$rOb=m}),define(K[50],X([0,1,2,49]),function(B,e,T,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$tOb=e.$sOb=void 0,e.$sOb="No TM Grammar registered for this language.";class y extends T.$Xc{constructor(l,s,r,d){super(),this.a=l,this.b=r.INITIAL,this.c=new m.$rOb,this.f={},this.g={},this.h=new Map,this.j=this.B(new r.Registry({onigLib:d,loadGrammar:async o=>{const c=this.c.getGrammarDefinition(o);if(!c)return this.a.logTrace(`No grammar found for scope ${o}`),null;const g=c.location;try{const $=await this.a.readFile(g);return r.parseRawGrammar($,g.path)}catch($){return this.a.logError(`Unable to load and parse grammar for scope ${o} from ${g}`,$),null}},getInjections:o=>{const c=o.split(".");let g=[];for(let $=1;$<=c.length;$++){const n=c.slice(0,$).join(".");g=[...g,...this.f[n]||[]]}return g}}));for(const o of s){if(this.c.register(o),o.injectTo){for(const c of o.injectTo){let g=this.f[c];g||(this.f[c]=g=[]),g.push(o.scopeName)}if(o.embeddedLanguages)for(const c of o.injectTo){let g=this.g[c];g||(this.g[c]=g=[]),g.push(o.embeddedLanguages)}}o.language&&this.h.set(o.language,o.scopeName)}}has(l){return this.h.has(l)}setTheme(l,s){this.j.setTheme(l,s)}getColorMap(){return this.j.getColorMap()}async createGrammar(l,s){const r=this.h.get(l);if(typeof r!="string")throw new Error(e.$sOb);const d=this.c.getGrammarDefinition(r);if(!d)throw new Error(e.$sOb);const o=d.embeddedLanguages;if(this.g[r]){const $=this.g[r];for(const n of $)for(const t of Object.keys(n))o[t]=n[t]}const c=Object.keys(o).length>0;let g;try{g=await this.j.loadGrammarWithConfiguration(r,s,{embeddedLanguages:o,tokenTypes:d.tokenTypes,balancedBracketSelectors:d.balancedBracketSelectors,unbalancedBracketSelectors:d.unbalancedBracketSelectors})}catch($){throw $.message&&$.message.startsWith("No grammar provided for")?new Error(e.$sOb):$}return{languageId:l,grammar:g,initialState:this.b,containsEmbeddedLanguages:c,sourceExtensionId:d.sourceExtensionId}}}e.$tOb=y}),define(K[55],X([0,1,13,50,48]),function(B,e,T,m,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextMateTokenizationWorker=void 0,e.create=w;function w(s,r){return new l(s,r)}class l{constructor(r,d){this.f=d,this.b=new Map,this.c=[],this.a=r.host;const o=d.grammarDefinitions.map(c=>({location:T.URI.revive(c.location),language:c.language,scopeName:c.scopeName,embeddedLanguages:c.embeddedLanguages,tokenTypes:c.tokenTypes,injectTo:c.injectTo,balancedBracketSelectors:c.balancedBracketSelectors,unbalancedBracketSelectors:c.unbalancedBracketSelectors,sourceExtensionId:c.sourceExtensionId}));this.d=this.g(o)}async g(r){const d=this.f.textmateMainUri,o=await new Promise((t,i)=>{B([d],t,i)}).then(x),c=await new Promise((t,i)=>{B([this.f.onigurumaMainUri],t,i)}).then(x),$=await(await fetch(this.f.onigurumaWASMUri)).arrayBuffer();await c.loadWASM($);const n=Promise.resolve({createOnigScanner:t=>c.createOnigScanner(t),createOnigString:t=>c.createOnigString(t)});return new m.$tOb({logTrace:t=>{},logError:(t,i)=>console.error(t,i),readFile:t=>this.a.readFile(t)},r,o,n)}acceptNewModel(r){const d=T.URI.revive(r.uri),o=this;this.b.set(r.controllerId,new y.$uOb(d,r.lines,r.EOL,r.versionId,{async getOrCreateGrammar(c,g){const $=await o.d;return $?(o.c[g]||(o.c[g]=$.createGrammar(c,g)),o.c[g]):Promise.resolve(null)},setTokensAndStates(c,g,$){o.a.setTokensAndStates(r.controllerId,c,g,$)},reportTokenizationTime(c,g,$,n,t){o.a.reportTokenizationTime(c,g,$,n,t)}},r.languageId,r.encodedLanguageId,r.maxTokenizationLineLength))}acceptModelChanged(r,d){this.b.get(r).onEvents(d)}retokenize(r,d,o){this.b.get(r).retokenize(d,o)}acceptModelLanguageChanged(r,d,o){this.b.get(r).onLanguageId(d,o)}acceptRemovedModel(r){const d=this.b.get(r);d&&(d.dispose(),this.b.delete(r))}async acceptTheme(r,d){(await this.d)?.setTheme(r,d)}acceptMaxTokenizationLineLength(r,d){this.b.get(r).acceptMaxTokenizationLineLength(d)}}e.TextMateTokenizationWorker=l})}).call(this);

//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/f1e16e1e6214d7c44d078b1f0607b2388f29d729/core/vs/workbench/services/textMate/browser/backgroundTokenization/worker/textMateTokenizationWorker.worker.js.map
