"use strict";/*!--------------------------------------------------------
 * Copyright (C) Microsoft Corporation. All rights reserved.
 *--------------------------------------------------------*/(function(){var he=["require","exports","vs/base/common/charCode","vs/base/common/platform","vs/base/common/strings","vs/base/common/path","vs/base/common/errors","vs/base/common/buffer","vs/editor/common/model","vs/base/common/network","vs/base/common/lifecycle","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/core/range","vs/base/common/extpath","vs/base/common/uri","vs/platform/instantiation/common/instantiation","vs/base/common/stream","vs/base/common/lazy","vs/base/common/symbols","vs/editor/common/core/eolCounter","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/textModelSearch","vs/base/common/mime","vs/base/common/resources","vs/base/common/async","vs/base/common/event","vs/base/common/glob","vs/base/common/map","vs/editor/common/core/stringBuilder","vs/editor/common/core/textChange","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls","vs/nls!vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/nls!vs/platform/contextkey/common/scanner","vs/platform/contextkey/common/scanner","vs/platform/instantiation/common/descriptors","vs/platform/instantiation/common/extensions","vs/platform/contextkey/common/contextkey","vs/workbench/services/notebook/common/notebookDocumentService","vs/workbench/contrib/notebook/common/notebookCommon","vs/editor/common/core/position","vs/base/common/types","vs/base/common/cancellation","vs/base/common/arrays","vs/base/common/iterator","vs/workbench/contrib/notebook/common/services/notebookSimpleWorker","vs/base/common/diff/diff","vs/base/common/hash"],ae=function(ne){for(var e=[],P=0,b=ne.length;P<b;P++)e[P]=he[ne[P]];return e};define(he[16],ae([0,1,6,10]),function(ne,e,P,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Ae=G,e.$Be=d,e.$Ce=A,e.$De=R,e.$Ee=v,e.$Fe=g,e.$Ge=S,e.$He=f,e.$Ie=j,e.$Je=w,e.$Ke=r,e.$Le=l,e.$Me=u,e.$Ne=C,e.$Oe=n;function G(s){const t=s;return t?typeof t.read=="function":!1}function d(s){const t=s;return t?[t.on,t.pause,t.resume,t.destroy].every(o=>typeof o=="function"):!1}function A(s){const t=s;return t?d(t.stream)&&Array.isArray(t.buffer)&&typeof t.ended=="boolean":!1}function R(s,t){return new Q(s,t)}class Q{constructor(t,o){this.e=t,this.f=o,this.a={flowing:!1,ended:!1,destroyed:!1},this.b={data:[],error:[]},this.c={data:[],error:[],end:[]},this.d=[]}pause(){this.a.destroyed||(this.a.flowing=!1)}resume(){this.a.destroyed||this.a.flowing||(this.a.flowing=!0,this.j(),this.k(),this.l())}write(t){if(!this.a.destroyed){if(this.a.flowing)this.g(t);else if(this.b.data.push(t),typeof this.f?.highWaterMark=="number"&&this.b.data.length>this.f.highWaterMark)return new Promise(o=>this.d.push(o))}}error(t){this.a.destroyed||(this.a.flowing?this.h(t):this.b.error.push(t))}end(t){this.a.destroyed||(typeof t<"u"&&this.write(t),this.a.flowing?(this.i(),this.destroy()):this.a.ended=!0)}g(t){this.c.data.slice(0).forEach(o=>o(t))}h(t){this.c.error.length===0?(0,P.$3)(t):this.c.error.slice(0).forEach(o=>o(t))}i(){this.c.end.slice(0).forEach(t=>t())}on(t,o){if(!this.a.destroyed)switch(t){case"data":this.c.data.push(o),this.resume();break;case"end":this.c.end.push(o),this.a.flowing&&this.l()&&this.destroy();break;case"error":this.c.error.push(o),this.a.flowing&&this.k();break}}removeListener(t,o){if(this.a.destroyed)return;let h;switch(t){case"data":h=this.c.data;break;case"end":h=this.c.end;break;case"error":h=this.c.error;break}if(h){const $=h.indexOf(o);$>=0&&h.splice($,1)}}j(){if(this.b.data.length>0){const t=this.e(this.b.data);this.g(t),this.b.data.length=0;const o=[...this.d];this.d.length=0,o.forEach(h=>h())}}k(){if(this.c.error.length>0){for(const t of this.b.error)this.h(t);this.b.error.length=0}}l(){return this.a.ended?(this.i(),this.c.end.length>0):!1}destroy(){this.a.destroyed||(this.a.destroyed=!0,this.a.ended=!0,this.b.data.length=0,this.b.error.length=0,this.c.data.length=0,this.c.error.length=0,this.c.end.length=0,this.d.length=0)}}function v(s,t){const o=[];let h;for(;(h=s.read())!==null;)o.push(h);return t(o)}function g(s,t,o){const h=[];let $;for(;($=s.read())!==null&&h.length<o;)h.push($);return $===null&&h.length>0?t(h):{read:()=>{if(h.length>0)return h.shift();if(typeof $<"u"){const T=$;return $=void 0,T}return s.read()}}}function S(s,t){return new Promise((o,h)=>{const $=[];f(s,{onData:T=>{t&&$.push(T)},onError:T=>{t?h(T):o(void 0)},onEnd:()=>{o(t?t($):void 0)}})})}function f(s,t,o){s.on("error",h=>{o?.isCancellationRequested||t.onError(h)}),s.on("end",()=>{o?.isCancellationRequested||t.onEnd()}),s.on("data",h=>{o?.isCancellationRequested||t.onData(h)})}function j(s,t){return new Promise((o,h)=>{const $=new b.$Wc,T=[],I=m=>{if(T.push(m),T.length>t)return $.dispose(),s.pause(),o({stream:s,buffer:T,ended:!1})},N=m=>($.dispose(),h(m)),M=()=>($.dispose(),o({stream:s,buffer:T,ended:!0}));$.add((0,b.$Vc)(()=>s.removeListener("error",N))),s.on("error",N),$.add((0,b.$Vc)(()=>s.removeListener("end",M))),s.on("end",M),$.add((0,b.$Vc)(()=>s.removeListener("data",I))),s.on("data",I)})}function w(s,t){const o=R(t);return o.end(s),o}function r(){const s=R(()=>{throw new Error("not supported")});return s.end(),s}function l(s){let t=!1;return{read:()=>t?null:(t=!0,s)}}function u(s,t,o){const h=R(o);return f(s,{onData:$=>h.write(t.data($)),onError:$=>h.error(t.error?t.error($):$),onEnd:()=>h.end()}),h}function C(s,t,o){let h=!1;return{read:()=>{const $=t.read();return h?$:(h=!0,$!==null?o([s,$]):s)}}}function n(s,t,o){let h=!1;const $=R(o);return f(t,{onData:T=>h?$.write(T):(h=!0,$.write(o([s,T]))),onError:T=>$.error(T),onEnd:()=>{h||(h=!0,$.write(s)),$.end()}}),$}});var me=this&&this.__createBinding||(Object.create?function(ne,e,P,b){b===void 0&&(b=P);var G=Object.getOwnPropertyDescriptor(e,P);(!G||("get"in G?!e.__esModule:G.writable||G.configurable))&&(G={enumerable:!0,get:function(){return e[P]}}),Object.defineProperty(ne,b,G)}:function(ne,e,P,b){b===void 0&&(b=P),ne[b]=e[P]}),$e=this&&this.__setModuleDefault||(Object.create?function(ne,e){Object.defineProperty(ne,"default",{enumerable:!0,value:e})}:function(ne,e){ne.default=e}),de=this&&this.__importStar||function(ne){if(ne&&ne.__esModule)return ne;var e={};if(ne!=null)for(var P in ne)P!=="default"&&Object.prototype.hasOwnProperty.call(ne,P)&&me(e,ne,P);return $e(e,ne),e};define(he[7],ae([0,1,17,16]),function(ne,e,P,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Pe=void 0,e.$Qe=v,e.$Re=g,e.$Se=S,e.$Te=f,e.$Ue=j,e.$Ve=w,e.$We=r,e.$Xe=l,e.$Ye=u,e.$Ze=C,e.$1e=n,e.$2e=s,e.$3e=t,e.$4e=o,e.$5e=h,e.$6e=$,e.$7e=T,e.$8e=I,e.$9e=N,e.$0e=O,b=de(b);const G=typeof Buffer<"u",d=new P.$X(()=>new Uint8Array(256));let A,R;class Q{static alloc(p){return G?new Q(Buffer.allocUnsafe(p)):new Q(new Uint8Array(p))}static wrap(p){return G&&!Buffer.isBuffer(p)&&(p=Buffer.from(p.buffer,p.byteOffset,p.byteLength)),new Q(p)}static fromString(p,z){return!(z?.dontUseNodeBuffer||!1)&&G?new Q(Buffer.from(p)):(A||(A=new TextEncoder),new Q(A.encode(p)))}static fromByteArray(p){const z=Q.alloc(p.length);for(let Y=0,x=p.length;Y<x;Y++)z.buffer[Y]=p[Y];return z}static concat(p,z){if(typeof z>"u"){z=0;for(let le=0,re=p.length;le<re;le++)z+=p[le].byteLength}const Y=Q.alloc(z);let x=0;for(let le=0,re=p.length;le<re;le++){const _=p[le];Y.set(_,x),x+=_.byteLength}return Y}constructor(p){this.buffer=p,this.byteLength=this.buffer.byteLength}clone(){const p=Q.alloc(this.byteLength);return p.set(this),p}toString(){return G?this.buffer.toString():(R||(R=new TextDecoder),R.decode(this.buffer))}slice(p,z){return new Q(this.buffer.subarray(p,z))}set(p,z){if(p instanceof Q)this.buffer.set(p.buffer,z);else if(p instanceof Uint8Array)this.buffer.set(p,z);else if(p instanceof ArrayBuffer)this.buffer.set(new Uint8Array(p),z);else if(ArrayBuffer.isView(p))this.buffer.set(new Uint8Array(p.buffer,p.byteOffset,p.byteLength),z);else throw new Error("Unknown argument 'array'")}readUInt32BE(p){return f(this.buffer,p)}writeUInt32BE(p,z){j(this.buffer,p,z)}readUInt32LE(p){return w(this.buffer,p)}writeUInt32LE(p,z){r(this.buffer,p,z)}readUInt8(p){return l(this.buffer,p)}writeUInt8(p,z){u(this.buffer,p,z)}indexOf(p,z=0){return v(this.buffer,p instanceof Q?p.buffer:p,z)}}e.$Pe=Q;function v(y,p,z=0){const Y=p.byteLength,x=y.byteLength;if(Y===0)return 0;if(Y===1)return y.indexOf(p[0]);if(Y>x-z)return-1;const le=d.value;le.fill(p.length);for(let ce=0;ce<p.length;ce++)le[p[ce]]=p.length-ce-1;let re=z+p.length-1,_=re,oe=-1;for(;re<x;)if(y[re]===p[_]){if(_===0){oe=re;break}re--,_--}else re+=Math.max(p.length-_,le[y[re]]),_=p.length-1;return oe}function g(y,p){return y[p+0]<<0>>>0|y[p+1]<<8>>>0}function S(y,p,z){y[z+0]=p&255,p=p>>>8,y[z+1]=p&255}function f(y,p){return y[p]*2**24+y[p+1]*2**16+y[p+2]*2**8+y[p+3]}function j(y,p,z){y[z+3]=p,p=p>>>8,y[z+2]=p,p=p>>>8,y[z+1]=p,p=p>>>8,y[z]=p}function w(y,p){return y[p+0]<<0>>>0|y[p+1]<<8>>>0|y[p+2]<<16>>>0|y[p+3]<<24>>>0}function r(y,p,z){y[z+0]=p&255,p=p>>>8,y[z+1]=p&255,p=p>>>8,y[z+2]=p&255,p=p>>>8,y[z+3]=p&255}function l(y,p){return y[p]}function u(y,p,z){y[z]=p}function C(y){return b.$Ee(y,p=>Q.concat(p))}function n(y){return b.$Le(y)}function s(y){return b.$Ge(y,p=>Q.concat(p))}async function t(y){return y.ended?Q.concat(y.buffer):Q.concat([...y.buffer,await s(y.stream)])}function o(y){return b.$Je(y,p=>Q.concat(p))}function h(y){return b.$Me(y,{data:p=>typeof p=="string"?Q.fromString(p):Q.wrap(p)},p=>Q.concat(p))}function $(y){return b.$De(p=>Q.concat(p),y)}function T(y,p){return b.$Ne(y,p,z=>Q.concat(z))}function I(y,p){return b.$Oe(y,p,z=>Q.concat(z))}function N(y){let p=0,z=0,Y=0;const x=new Uint8Array(Math.floor(y.length/4*3)),le=_=>{switch(z){case 3:x[Y++]=p|_,z=0;break;case 2:x[Y++]=p|_>>>2,p=_<<6,z=3;break;case 1:x[Y++]=p|_>>>4,p=_<<4,z=2;break;default:p=_<<2,z=1}};for(let _=0;_<y.length;_++){const oe=y.charCodeAt(_);if(oe>=65&&oe<=90)le(oe-65);else if(oe>=97&&oe<=122)le(oe-97+26);else if(oe>=48&&oe<=57)le(oe-48+52);else if(oe===43||oe===45)le(62);else if(oe===47||oe===95)le(63);else{if(oe===61)break;throw new SyntaxError(`Unexpected base64 character ${y[_]}`)}}const re=Y;for(;z>0;)le(0);return Q.wrap(x).slice(0,re)}const M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";function O({buffer:y},p=!0,z=!1){const Y=z?m:M;let x="";const le=y.byteLength%3;let re=0;for(;re<y.byteLength-le;re+=3){const _=y[re+0],oe=y[re+1],ce=y[re+2];x+=Y[_>>>2],x+=Y[(_<<4|oe>>>4)&63],x+=Y[(oe<<2|ce>>>6)&63],x+=Y[ce&63]}if(le===1){const _=y[re+0];x+=Y[_>>>2],x+=Y[_<<4&63],p&&(x+="==")}else if(le===2){const _=y[re+0],oe=y[re+1];x+=Y[_>>>2],x+=Y[(_<<4|oe>>>4)&63],x+=Y[oe<<2&63],p&&(x+="=")}return x}}),define(he[18],ae([0,1]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$ie=void 0,e.$ie=Symbol("MicrotaskDelay")}),define(he[19],ae([0,1,2]),function(ne,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringEOL=void 0,e.$wu=G;var b;(function(d){d[d.Unknown=0]="Unknown",d[d.Invalid=3]="Invalid",d[d.LF=1]="LF",d[d.CRLF=2]="CRLF"})(b||(e.StringEOL=b={}));function G(d){let A=0,R=0,Q=0,v=b.Unknown;for(let g=0,S=d.length;g<S;g++){const f=d.charCodeAt(g);f===P.CharCode.CarriageReturn?(A===0&&(R=g),A++,g+1<S&&d.charCodeAt(g+1)===P.CharCode.LineFeed?(v|=b.CRLF,g++):v|=b.Invalid,Q=g+1):f===P.CharCode.LineFeed&&(v|=b.LF,A===0&&(R=g),A++,Q=g+1)}return A===0&&(R=d.length),[A,R,d.length-Q,v]}}),define(he[20],ae([0,1]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$4C=e.NodeColor=e.$3C=void 0,e.$5C=G,e.$6C=d,e.$7C=v,e.$8C=g,e.$9C=S,e.$0C=f,e.$$C=j,e.$_C=w;class P{constructor(l,u){this.piece=l,this.color=u,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.$4C)return G(this.right);let l=this;for(;l.parent!==e.$4C&&l.parent.left!==l;)l=l.parent;return l.parent===e.$4C?e.$4C:l.parent}prev(){if(this.left!==e.$4C)return d(this.left);let l=this;for(;l.parent!==e.$4C&&l.parent.right!==l;)l=l.parent;return l.parent===e.$4C?e.$4C:l.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.$3C=P;var b;(function(r){r[r.Black=0]="Black",r[r.Red=1]="Red"})(b||(e.NodeColor=b={})),e.$4C=new P(null,b.Black),e.$4C.parent=e.$4C,e.$4C.left=e.$4C,e.$4C.right=e.$4C,e.$4C.color=b.Black;function G(r){for(;r.left!==e.$4C;)r=r.left;return r}function d(r){for(;r.right!==e.$4C;)r=r.right;return r}function A(r){return r===e.$4C?0:r.size_left+r.piece.length+A(r.right)}function R(r){return r===e.$4C?0:r.lf_left+r.piece.lineFeedCnt+R(r.right)}function Q(){e.$4C.parent=e.$4C}function v(r,l){const u=l.right;u.size_left+=l.size_left+(l.piece?l.piece.length:0),u.lf_left+=l.lf_left+(l.piece?l.piece.lineFeedCnt:0),l.right=u.left,u.left!==e.$4C&&(u.left.parent=l),u.parent=l.parent,l.parent===e.$4C?r.root=u:l.parent.left===l?l.parent.left=u:l.parent.right=u,u.left=l,l.parent=u}function g(r,l){const u=l.left;l.left=u.right,u.right!==e.$4C&&(u.right.parent=l),u.parent=l.parent,l.size_left-=u.size_left+(u.piece?u.piece.length:0),l.lf_left-=u.lf_left+(u.piece?u.piece.lineFeedCnt:0),l.parent===e.$4C?r.root=u:l===l.parent.right?l.parent.right=u:l.parent.left=u,u.right=l,l.parent=u}function S(r,l){let u,C;if(l.left===e.$4C?(C=l,u=C.right):l.right===e.$4C?(C=l,u=C.left):(C=G(l.right),u=C.right),C===r.root){r.root=u,u.color=b.Black,l.detach(),Q(),r.root.parent=e.$4C;return}const n=C.color===b.Red;if(C===C.parent.left?C.parent.left=u:C.parent.right=u,C===l?(u.parent=C.parent,w(r,u)):(C.parent===l?u.parent=C:u.parent=C.parent,w(r,u),C.left=l.left,C.right=l.right,C.parent=l.parent,C.color=l.color,l===r.root?r.root=C:l===l.parent.left?l.parent.left=C:l.parent.right=C,C.left!==e.$4C&&(C.left.parent=C),C.right!==e.$4C&&(C.right.parent=C),C.size_left=l.size_left,C.lf_left=l.lf_left,w(r,C)),l.detach(),u.parent.left===u){const t=A(u),o=R(u);if(t!==u.parent.size_left||o!==u.parent.lf_left){const h=t-u.parent.size_left,$=o-u.parent.lf_left;u.parent.size_left=t,u.parent.lf_left=o,j(r,u.parent,h,$)}}if(w(r,u.parent),n){Q();return}let s;for(;u!==r.root&&u.color===b.Black;)u===u.parent.left?(s=u.parent.right,s.color===b.Red&&(s.color=b.Black,u.parent.color=b.Red,v(r,u.parent),s=u.parent.right),s.left.color===b.Black&&s.right.color===b.Black?(s.color=b.Red,u=u.parent):(s.right.color===b.Black&&(s.left.color=b.Black,s.color=b.Red,g(r,s),s=u.parent.right),s.color=u.parent.color,u.parent.color=b.Black,s.right.color=b.Black,v(r,u.parent),u=r.root)):(s=u.parent.left,s.color===b.Red&&(s.color=b.Black,u.parent.color=b.Red,g(r,u.parent),s=u.parent.left),s.left.color===b.Black&&s.right.color===b.Black?(s.color=b.Red,u=u.parent):(s.left.color===b.Black&&(s.right.color=b.Black,s.color=b.Red,v(r,s),s=u.parent.left),s.color=u.parent.color,u.parent.color=b.Black,s.left.color=b.Black,g(r,u.parent),u=r.root));u.color=b.Black,Q()}function f(r,l){for(w(r,l);l!==r.root&&l.parent.color===b.Red;)if(l.parent===l.parent.parent.left){const u=l.parent.parent.right;u.color===b.Red?(l.parent.color=b.Black,u.color=b.Black,l.parent.parent.color=b.Red,l=l.parent.parent):(l===l.parent.right&&(l=l.parent,v(r,l)),l.parent.color=b.Black,l.parent.parent.color=b.Red,g(r,l.parent.parent))}else{const u=l.parent.parent.left;u.color===b.Red?(l.parent.color=b.Black,u.color=b.Black,l.parent.parent.color=b.Red,l=l.parent.parent):(l===l.parent.left&&(l=l.parent,g(r,l)),l.parent.color=b.Black,l.parent.parent.color=b.Red,v(r,l.parent.parent))}r.root.color=b.Black}function j(r,l,u,C){for(;l!==r.root&&l!==e.$4C;)l.parent.left===l&&(l.parent.size_left+=u,l.parent.lf_left+=C),l=l.parent}function w(r,l){let u=0,C=0;if(l!==r.root){for(;l!==r.root&&l===l.parent.right;)l=l.parent;if(l!==r.root)for(l=l.parent,u=A(l.left)-l.size_left,C=R(l.left)-l.lf_left,l.size_left+=u,l.lf_left+=C;l!==r.root&&(u!==0||C!==0);)l.parent.left===l&&(l.parent.size_left+=u,l.parent.lf_left+=C),l=l.parent}}}),define(he[11],ae([0,1,2,42,12,8,20,21]),function(ne,e,P,b,G,d,A,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$kD=e.$jD=e.$iD=void 0,e.$gD=S,e.$hD=f;const Q=65535;function v(C){let n;return C[C.length-1]<65536?n=new Uint16Array(C.length):n=new Uint32Array(C.length),n.set(C,0),n}class g{constructor(n,s,t,o,h){this.lineStarts=n,this.cr=s,this.lf=t,this.crlf=o,this.isBasicASCII=h}}function S(C,n=!0){const s=[0];let t=1;for(let o=0,h=C.length;o<h;o++){const $=C.charCodeAt(o);$===P.CharCode.CarriageReturn?o+1<h&&C.charCodeAt(o+1)===P.CharCode.LineFeed?(s[t++]=o+2,o++):s[t++]=o+1:$===P.CharCode.LineFeed&&(s[t++]=o+1)}return n?v(s):s}function f(C,n){C.length=0,C[0]=0;let s=1,t=0,o=0,h=0,$=!0;for(let I=0,N=n.length;I<N;I++){const M=n.charCodeAt(I);M===P.CharCode.CarriageReturn?I+1<N&&n.charCodeAt(I+1)===P.CharCode.LineFeed?(h++,C[s++]=I+2,I++):(t++,C[s++]=I+1):M===P.CharCode.LineFeed?(o++,C[s++]=I+1):$&&M!==P.CharCode.Tab&&(M<32||M>126)&&($=!1)}const T=new g(v(C),t,o,h,$);return C.length=0,T}class j{constructor(n,s,t,o,h){this.bufferIndex=n,this.start=s,this.end=t,this.lineFeedCnt=o,this.length=h}}e.$iD=j;class w{constructor(n,s){this.buffer=n,this.lineStarts=s}}e.$jD=w;class r{constructor(n,s){this.a=[],this.c=n,this.d=s,this.b=0,n.root!==A.$4C&&n.iterate(n.root,t=>(t!==A.$4C&&this.a.push(t.piece),!0))}read(){return this.a.length===0?this.b===0?(this.b++,this.d):null:this.b>this.a.length-1?null:this.b===0?this.d+this.c.getPieceContent(this.a[this.b++]):this.c.getPieceContent(this.a[this.b++])}}class l{constructor(n){this.a=n,this.b=[]}get(n){for(let s=this.b.length-1;s>=0;s--){const t=this.b[s];if(t.nodeStartOffset<=n&&t.nodeStartOffset+t.node.piece.length>=n)return t}return null}get2(n){for(let s=this.b.length-1;s>=0;s--){const t=this.b[s];if(t.nodeStartLineNumber&&t.nodeStartLineNumber<n&&t.nodeStartLineNumber+t.node.piece.lineFeedCnt>=n)return t}return null}set(n){this.b.length>=this.a&&this.b.shift(),this.b.push(n)}validate(n){let s=!1;const t=this.b;for(let o=0;o<t.length;o++){const h=t[o];if(h.node.parent===null||h.nodeStartOffset>=n){t[o]=null,s=!0;continue}}if(s){const o=[];for(const h of t)h!==null&&o.push(h);this.b=o}}}class u{constructor(n,s,t){this.create(n,s,t)}create(n,s,t){this.a=[new w("",[0])],this.g={line:0,column:0},this.root=A.$4C,this.b=1,this.c=0,this.d=s,this.e=s.length,this.f=t;let o=null;for(let h=0,$=n.length;h<$;h++)if(n[h].buffer.length>0){n[h].lineStarts||(n[h].lineStarts=S(n[h].buffer));const T=new j(h+1,{line:0,column:0},{line:n[h].lineStarts.length-1,column:n[h].buffer.length-n[h].lineStarts[n[h].lineStarts.length-1]},n[h].lineStarts.length-1,n[h].buffer.length);this.a.push(n[h]),o=this.S(o,T)}this.h=new l(1),this.j={lineNumber:0,value:""},this.y()}normalizeEOL(n){const s=Q,t=s-Math.floor(s/3),o=t*2;let h="",$=0;const T=[];if(this.iterate(this.root,I=>{const N=this.R(I),M=N.length;if($<=t||$+M<o)return h+=N,$+=M,!0;const m=h.replace(/\r\n|\r|\n/g,n);return T.push(new w(m,S(m))),h=N,$=M,!0}),$>0){const I=h.replace(/\r\n|\r|\n/g,n);T.push(new w(I,S(I)))}this.create(T,n,!0)}getEOL(){return this.d}setEOL(n){this.d=n,this.e=this.d.length,this.normalizeEOL(n)}createSnapshot(n){return new r(this,n)}equal(n){if(this.getLength()!==n.getLength()||this.getLineCount()!==n.getLineCount())return!1;let s=0;return this.iterate(this.root,o=>{if(o===A.$4C)return!0;const h=this.R(o),$=h.length,T=n.G(s),I=n.G(s+$),N=n.getValueInRange2(T,I);return s+=$,h===N})}getOffsetAt(n,s){let t=0,o=this.root;for(;o!==A.$4C;)if(o.left!==A.$4C&&o.lf_left+1>=n)o=o.left;else if(o.lf_left+o.piece.lineFeedCnt+1>=n){t+=o.size_left;const h=this.B(o,n-o.lf_left-2);return t+=h+s-1}else n-=o.lf_left+o.piece.lineFeedCnt,t+=o.size_left+o.piece.length,o=o.right;return t}getPositionAt(n){n=Math.floor(n),n=Math.max(0,n);let s=this.root,t=0;const o=n;for(;s!==A.$4C;)if(s.size_left!==0&&s.size_left>=n)s=s.left;else if(s.size_left+s.piece.length>=n){const h=this.A(s,n-s.size_left);if(t+=s.lf_left+h.index,h.index===0){const $=this.getOffsetAt(t+1,1),T=o-$;return new b.$Lt(t+1,T+1)}return new b.$Lt(t+1,h.remainder+1)}else if(n-=s.size_left+s.piece.length,t+=s.lf_left+s.piece.lineFeedCnt,s.right===A.$4C){const h=this.getOffsetAt(t+1,1),$=o-n-h;return new b.$Lt(t+1,$+1)}else s=s.right;return new b.$Lt(1,1)}getValueInRange(n,s){if(n.startLineNumber===n.endLineNumber&&n.startColumn===n.endColumn)return"";const t=this.H(n.startLineNumber,n.startColumn),o=this.H(n.endLineNumber,n.endColumn),h=this.getValueInRange2(t,o);return s?s!==this.d||!this.f?h.replace(/\r\n|\r|\n/g,s):s===this.getEOL()&&this.f?h:h.replace(/\r\n|\r|\n/g,s):h}getValueInRange2(n,s){if(n.node===s.node){const T=n.node,I=this.a[T.piece.bufferIndex].buffer,N=this.u(T.piece.bufferIndex,T.piece.start);return I.substring(N+n.remainder,N+s.remainder)}let t=n.node;const o=this.a[t.piece.bufferIndex].buffer,h=this.u(t.piece.bufferIndex,t.piece.start);let $=o.substring(h+n.remainder,h+t.piece.length);for(t=t.next();t!==A.$4C;){const T=this.a[t.piece.bufferIndex].buffer,I=this.u(t.piece.bufferIndex,t.piece.start);if(t===s.node){$+=T.substring(I,I+s.remainder);break}else $+=T.substr(I,t.piece.length);t=t.next()}return $}getLinesContent(){const n=[];let s=0,t="",o=!1;return this.iterate(this.root,h=>{if(h===A.$4C)return!0;const $=h.piece;let T=$.length;if(T===0)return!0;const I=this.a[$.bufferIndex].buffer,N=this.a[$.bufferIndex].lineStarts,M=$.start.line,m=$.end.line;let O=N[M]+$.start.column;if(o&&(I.charCodeAt(O)===P.CharCode.LineFeed&&(O++,T--),n[s++]=t,t="",o=!1,T===0))return!0;if(M===m)return!this.f&&I.charCodeAt(O+T-1)===P.CharCode.CarriageReturn?(o=!0,t+=I.substr(O,T-1)):t+=I.substr(O,T),!0;t+=this.f?I.substring(O,Math.max(O,N[M+1]-this.e)):I.substring(O,N[M+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=t;for(let y=M+1;y<m;y++)t=this.f?I.substring(N[y],N[y+1]-this.e):I.substring(N[y],N[y+1]).replace(/(\r\n|\r|\n)$/,""),n[s++]=t;return!this.f&&I.charCodeAt(N[m]+$.end.column-1)===P.CharCode.CarriageReturn?(o=!0,$.end.column===0?s--:t=I.substr(N[m],$.end.column-1)):t=I.substr(N[m],$.end.column),!0}),o&&(n[s++]=t,t=""),n[s++]=t,n}getLength(){return this.c}getLineCount(){return this.b}getLineContent(n){return this.j.lineNumber===n?this.j.value:(this.j.lineNumber=n,n===this.b?this.j.value=this.getLineRawContent(n):this.f?this.j.value=this.getLineRawContent(n,this.e):this.j.value=this.getLineRawContent(n).replace(/(\r\n|\r|\n)$/,""),this.j.value)}l(n){if(n.remainder===n.node.piece.length){const s=n.node.next();if(!s)return 0;const t=this.a[s.piece.bufferIndex],o=this.u(s.piece.bufferIndex,s.piece.start);return t.buffer.charCodeAt(o)}else{const s=this.a[n.node.piece.bufferIndex],o=this.u(n.node.piece.bufferIndex,n.node.piece.start)+n.remainder;return s.buffer.charCodeAt(o)}}getLineCharCode(n,s){const t=this.H(n,s+1);return this.l(t)}getLineLength(n){if(n===this.getLineCount()){const s=this.getOffsetAt(n,1);return this.getLength()-s}return this.getOffsetAt(n+1,1)-this.getOffsetAt(n,1)-this.e}getCharCode(n){const s=this.G(n);return this.l(s)}getNearestChunk(n){const s=this.G(n);if(s.remainder===s.node.piece.length){const t=s.node.next();if(!t||t===A.$4C)return"";const o=this.a[t.piece.bufferIndex],h=this.u(t.piece.bufferIndex,t.piece.start);return o.buffer.substring(h,h+t.piece.length)}else{const t=this.a[s.node.piece.bufferIndex],o=this.u(s.node.piece.bufferIndex,s.node.piece.start),h=o+s.remainder,$=o+s.node.piece.length;return t.buffer.substring(h,$)}}findMatchesInNode(n,s,t,o,h,$,T,I,N,M,m){const O=this.a[n.piece.bufferIndex],y=this.u(n.piece.bufferIndex,n.piece.start),p=this.u(n.piece.bufferIndex,h),z=this.u(n.piece.bufferIndex,$);let Y;const x={line:0,column:0};let le,re;s._wordSeparators?(le=O.buffer.substring(p,z),re=_=>_+p,s.reset(0)):(le=O.buffer,re=_=>_,s.reset(p));do if(Y=s.next(le),Y){if(re(Y.index)>=z)return M;this.s(n,re(Y.index)-y,x);const _=this.t(n.piece.bufferIndex,h,x),oe=x.line===h.line?x.column-h.column+o:x.column+1,ce=oe+Y[0].length;if(m[M++]=(0,R.$cD)(new G.$Mt(t+_,oe,t+_,ce),Y,I),re(Y.index)+Y[0].length>=z||M>=N)return M}while(Y);return M}findMatchesLineByLine(n,s,t,o){const h=[];let $=0;const T=new R.$fD(s.wordSeparators,s.regex);let I=this.H(n.startLineNumber,n.startColumn);if(I===null)return[];const N=this.H(n.endLineNumber,n.endColumn);if(N===null)return[];let M=this.s(I.node,I.remainder);const m=this.s(N.node,N.remainder);if(I.node===N.node)return this.findMatchesInNode(I.node,T,n.startLineNumber,n.startColumn,M,m,s,t,o,$,h),h;let O=n.startLineNumber,y=I.node;for(;y!==N.node;){const z=this.t(y.piece.bufferIndex,M,y.piece.end);if(z>=1){const x=this.a[y.piece.bufferIndex].lineStarts,le=this.u(y.piece.bufferIndex,y.piece.start),re=x[M.line+z],_=O===n.startLineNumber?n.startColumn:1;if($=this.findMatchesInNode(y,T,O,_,M,this.s(y,re-le),s,t,o,$,h),$>=o)return h;O+=z}const Y=O===n.startLineNumber?n.startColumn-1:0;if(O===n.endLineNumber){const x=this.getLineContent(O).substring(Y,n.endColumn-1);return $=this.n(s,T,x,n.endLineNumber,Y,$,h,t,o),h}if($=this.n(s,T,this.getLineContent(O).substr(Y),O,Y,$,h,t,o),$>=o)return h;O++,I=this.H(O,1),y=I.node,M=this.s(I.node,I.remainder)}if(O===n.endLineNumber){const z=O===n.startLineNumber?n.startColumn-1:0,Y=this.getLineContent(O).substring(z,n.endColumn-1);return $=this.n(s,T,Y,n.endLineNumber,z,$,h,t,o),h}const p=O===n.startLineNumber?n.startColumn:1;return $=this.findMatchesInNode(N.node,T,O,p,M,m,s,t,o,$,h),h}n(n,s,t,o,h,$,T,I,N){const M=n.wordSeparators;if(!I&&n.simpleSearch){const O=n.simpleSearch,y=O.length,p=t.length;let z=-y;for(;(z=t.indexOf(O,z+y))!==-1;)if((!M||(0,R.$eD)(M,t,p,z,y))&&(T[$++]=new d.$bw(new G.$Mt(o,z+1+h,o,z+1+y+h),null),$>=N))return $;return $}let m;s.reset(0);do if(m=s.next(t),m&&(T[$++]=(0,R.$cD)(new G.$Mt(o,m.index+1+h,o,m.index+1+m[0].length+h),m,I),$>=N))return $;while(m);return $}insert(n,s,t=!1){if(this.f=this.f&&t,this.j.lineNumber=0,this.j.value="",this.root!==A.$4C){const{node:o,remainder:h,nodeStartOffset:$}=this.G(n),T=o.piece,I=T.bufferIndex,N=this.s(o,h);if(o.piece.bufferIndex===0&&T.end.line===this.g.line&&T.end.column===this.g.column&&$+T.length===n&&s.length<Q){this.F(o,s),this.y();return}if($===n)this.o(s,o),this.h.validate(n);else if($+o.piece.length>n){const M=[];let m=new j(T.bufferIndex,N,T.end,this.t(T.bufferIndex,N,T.end),this.u(I,T.end)-this.u(I,N));if(this.K()&&this.M(s)&&this.I(o,h)===10){const z={line:m.start.line+1,column:0};m=new j(m.bufferIndex,z,m.end,this.t(m.bufferIndex,z,m.end),m.length-1),s+=`
`}if(this.K()&&this.L(s))if(this.I(o,h-1)===13){const z=this.s(o,h-1);this.C(o,z),s="\r"+s,o.piece.length===0&&M.push(o)}else this.C(o,N);else this.C(o,N);const O=this.w(s);m.length>0&&this.S(o,m);let y=o;for(let p=0;p<O.length;p++)y=this.S(y,O[p]);this.v(M)}else this.q(s,o)}else{const o=this.w(s);let h=this.T(null,o[0]);for(let $=1;$<o.length;$++)h=this.S(h,o[$])}this.y()}delete(n,s){if(this.j.lineNumber=0,this.j.value="",s<=0||this.root===A.$4C)return;const t=this.G(n),o=this.G(n+s),h=t.node,$=o.node;if(h===$){const O=this.s(h,t.remainder),y=this.s(h,o.remainder);if(t.nodeStartOffset===n){if(s===h.piece.length){const p=h.next();(0,A.$9C)(this,h),this.N(p),this.y();return}this.D(h,y),this.h.validate(n),this.N(h),this.y();return}if(t.nodeStartOffset+h.piece.length===n+s){this.C(h,O),this.O(h),this.y();return}this.E(h,O,y),this.y();return}const T=[],I=this.s(h,t.remainder);this.C(h,I),this.h.validate(n),h.piece.length===0&&T.push(h);const N=this.s($,o.remainder);this.D($,N),$.piece.length===0&&T.push($);const M=h.next();for(let O=M;O!==A.$4C&&O!==$;O=O.next())T.push(O);const m=h.piece.length===0?h.prev():h;this.v(T),this.O(m),this.y()}o(n,s){const t=[];if(this.K()&&this.M(n)&&this.L(s)){const $=s.piece,T={line:$.start.line+1,column:0},I=new j($.bufferIndex,T,$.end,this.t($.bufferIndex,T,$.end),$.length-1);s.piece=I,n+=`
`,(0,A.$$C)(this,s,-1,-1),s.piece.length===0&&t.push(s)}const o=this.w(n);let h=this.T(s,o[o.length-1]);for(let $=o.length-2;$>=0;$--)h=this.T(h,o[$]);this.N(h),this.v(t)}q(n,s){this.Q(n,s)&&(n+=`
`);const t=this.w(n),o=this.S(s,t[0]);let h=o;for(let $=1;$<t.length;$++)h=this.S(h,t[$]);this.N(o)}s(n,s,t){const o=n.piece,h=n.piece.bufferIndex,$=this.a[h].lineStarts,I=$[o.start.line]+o.start.column+s;let N=o.start.line,M=o.end.line,m=0,O=0,y=0;for(;N<=M&&(m=N+(M-N)/2|0,y=$[m],m!==M);)if(O=$[m+1],I<y)M=m-1;else if(I>=O)N=m+1;else break;return t?(t.line=m,t.column=I-y,null):{line:m,column:I-y}}t(n,s,t){if(t.column===0)return t.line-s.line;const o=this.a[n].lineStarts;if(t.line===o.length-1)return t.line-s.line;const h=o[t.line+1],$=o[t.line]+t.column;if(h>$+1)return t.line-s.line;const T=$-1;return this.a[n].buffer.charCodeAt(T)===13?t.line-s.line+1:t.line-s.line}u(n,s){return this.a[n].lineStarts[s.line]+s.column}v(n){for(let s=0;s<n.length;s++)(0,A.$9C)(this,n[s])}w(n){if(n.length>Q){const M=[];for(;n.length>Q;){const O=n.charCodeAt(Q-1);let y;O===P.CharCode.CarriageReturn||O>=55296&&O<=56319?(y=n.substring(0,Q-1),n=n.substring(Q-1)):(y=n.substring(0,Q),n=n.substring(Q));const p=S(y);M.push(new j(this.a.length,{line:0,column:0},{line:p.length-1,column:y.length-p[p.length-1]},p.length-1,y.length)),this.a.push(new w(y,p))}const m=S(n);return M.push(new j(this.a.length,{line:0,column:0},{line:m.length-1,column:n.length-m[m.length-1]},m.length-1,n.length)),this.a.push(new w(n,m)),M}let s=this.a[0].buffer.length;const t=S(n,!1);let o=this.g;if(this.a[0].lineStarts[this.a[0].lineStarts.length-1]===s&&s!==0&&this.L(n)&&this.M(this.a[0].buffer)){this.g={line:this.g.line,column:this.g.column+1},o=this.g;for(let M=0;M<t.length;M++)t[M]+=s+1;this.a[0].lineStarts=this.a[0].lineStarts.concat(t.slice(1)),this.a[0].buffer+="_"+n,s+=1}else{if(s!==0)for(let M=0;M<t.length;M++)t[M]+=s;this.a[0].lineStarts=this.a[0].lineStarts.concat(t.slice(1)),this.a[0].buffer+=n}const h=this.a[0].buffer.length,$=this.a[0].lineStarts.length-1,T=h-this.a[0].lineStarts[$],I={line:$,column:T},N=new j(0,o,I,this.t(0,o,I),h-s);return this.g=I,[N]}getLinesRawContent(){return this.U(this.root)}getLineRawContent(n,s=0){let t=this.root,o="";const h=this.h.get2(n);if(h){t=h.node;const $=this.B(t,n-h.nodeStartLineNumber-1),T=this.a[t.piece.bufferIndex].buffer,I=this.u(t.piece.bufferIndex,t.piece.start);if(h.nodeStartLineNumber+t.piece.lineFeedCnt===n)o=T.substring(I+$,I+t.piece.length);else{const N=this.B(t,n-h.nodeStartLineNumber);return T.substring(I+$,I+N-s)}}else{let $=0;const T=n;for(;t!==A.$4C;)if(t.left!==A.$4C&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){const I=this.B(t,n-t.lf_left-2),N=this.B(t,n-t.lf_left-1),M=this.a[t.piece.bufferIndex].buffer,m=this.u(t.piece.bufferIndex,t.piece.start);return $+=t.size_left,this.h.set({node:t,nodeStartOffset:$,nodeStartLineNumber:T-(n-1-t.lf_left)}),M.substring(m+I,m+N-s)}else if(t.lf_left+t.piece.lineFeedCnt===n-1){const I=this.B(t,n-t.lf_left-2),N=this.a[t.piece.bufferIndex].buffer,M=this.u(t.piece.bufferIndex,t.piece.start);o=N.substring(M+I,M+t.piece.length);break}else n-=t.lf_left+t.piece.lineFeedCnt,$+=t.size_left+t.piece.length,t=t.right}for(t=t.next();t!==A.$4C;){const $=this.a[t.piece.bufferIndex].buffer;if(t.piece.lineFeedCnt>0){const T=this.B(t,0),I=this.u(t.piece.bufferIndex,t.piece.start);return o+=$.substring(I,I+T-s),o}else{const T=this.u(t.piece.bufferIndex,t.piece.start);o+=$.substr(T,t.piece.length)}t=t.next()}return o}y(){let n=this.root,s=1,t=0;for(;n!==A.$4C;)s+=n.lf_left+n.piece.lineFeedCnt,t+=n.size_left+n.piece.length,n=n.right;this.b=s,this.c=t,this.h.validate(this.c)}A(n,s){const t=n.piece,o=this.s(n,s),h=o.line-t.start.line;if(this.u(t.bufferIndex,t.end)-this.u(t.bufferIndex,t.start)===s){const $=this.t(n.piece.bufferIndex,t.start,o);if($!==h)return{index:$,remainder:0}}return{index:h,remainder:o.column}}B(n,s){if(s<0)return 0;const t=n.piece,o=this.a[t.bufferIndex].lineStarts,h=t.start.line+s+1;return h>t.end.line?o[t.end.line]+t.end.column-o[t.start.line]-t.start.column:o[h]-o[t.start.line]-t.start.column}C(n,s){const t=n.piece,o=t.lineFeedCnt,h=this.u(t.bufferIndex,t.end),$=s,T=this.u(t.bufferIndex,$),I=this.t(t.bufferIndex,t.start,$),N=I-o,M=T-h,m=t.length+M;n.piece=new j(t.bufferIndex,t.start,$,I,m),(0,A.$$C)(this,n,M,N)}D(n,s){const t=n.piece,o=t.lineFeedCnt,h=this.u(t.bufferIndex,t.start),$=s,T=this.t(t.bufferIndex,$,t.end),I=this.u(t.bufferIndex,$),N=T-o,M=h-I,m=t.length+M;n.piece=new j(t.bufferIndex,$,t.end,T,m),(0,A.$$C)(this,n,M,N)}E(n,s,t){const o=n.piece,h=o.start,$=o.end,T=o.length,I=o.lineFeedCnt,N=s,M=this.t(o.bufferIndex,o.start,N),m=this.u(o.bufferIndex,s)-this.u(o.bufferIndex,h);n.piece=new j(o.bufferIndex,o.start,N,M,m),(0,A.$$C)(this,n,m-T,M-I);const O=new j(o.bufferIndex,t,$,this.t(o.bufferIndex,t,$),this.u(o.bufferIndex,$)-this.u(o.bufferIndex,t)),y=this.S(n,O);this.N(y)}F(n,s){this.Q(s,n)&&(s+=`
`);const t=this.K()&&this.L(s)&&this.M(n),o=this.a[0].buffer.length;this.a[0].buffer+=s;const h=S(s,!1);for(let y=0;y<h.length;y++)h[y]+=o;if(t){const y=this.a[0].lineStarts[this.a[0].lineStarts.length-2];this.a[0].lineStarts.pop(),this.g={line:this.g.line-1,column:o-y}}this.a[0].lineStarts=this.a[0].lineStarts.concat(h.slice(1));const $=this.a[0].lineStarts.length-1,T=this.a[0].buffer.length-this.a[0].lineStarts[$],I={line:$,column:T},N=n.piece.length+s.length,M=n.piece.lineFeedCnt,m=this.t(0,n.piece.start,I),O=m-M;n.piece=new j(n.piece.bufferIndex,n.piece.start,I,m,N),this.g=I,(0,A.$$C)(this,n,s.length,O)}G(n){let s=this.root;const t=this.h.get(n);if(t)return{node:t.node,nodeStartOffset:t.nodeStartOffset,remainder:n-t.nodeStartOffset};let o=0;for(;s!==A.$4C;)if(s.size_left>n)s=s.left;else if(s.size_left+s.piece.length>=n){o+=s.size_left;const h={node:s,remainder:n-s.size_left,nodeStartOffset:o};return this.h.set(h),h}else n-=s.size_left+s.piece.length,o+=s.size_left+s.piece.length,s=s.right;return null}H(n,s){let t=this.root,o=0;for(;t!==A.$4C;)if(t.left!==A.$4C&&t.lf_left>=n-1)t=t.left;else if(t.lf_left+t.piece.lineFeedCnt>n-1){const h=this.B(t,n-t.lf_left-2),$=this.B(t,n-t.lf_left-1);return o+=t.size_left,{node:t,remainder:Math.min(h+s-1,$),nodeStartOffset:o}}else if(t.lf_left+t.piece.lineFeedCnt===n-1){const h=this.B(t,n-t.lf_left-2);if(h+s-1<=t.piece.length)return{node:t,remainder:h+s-1,nodeStartOffset:o};s-=t.piece.length-h;break}else n-=t.lf_left+t.piece.lineFeedCnt,o+=t.size_left+t.piece.length,t=t.right;for(t=t.next();t!==A.$4C;){if(t.piece.lineFeedCnt>0){const h=this.B(t,0),$=this.J(t);return{node:t,remainder:Math.min(s-1,h),nodeStartOffset:$}}else if(t.piece.length>=s-1){const h=this.J(t);return{node:t,remainder:s-1,nodeStartOffset:h}}else s-=t.piece.length;t=t.next()}return null}I(n,s){if(n.piece.lineFeedCnt<1)return-1;const t=this.a[n.piece.bufferIndex],o=this.u(n.piece.bufferIndex,n.piece.start)+s;return t.buffer.charCodeAt(o)}J(n){if(!n)return 0;let s=n.size_left;for(;n!==this.root;)n.parent.right===n&&(s+=n.parent.size_left+n.parent.piece.length),n=n.parent;return s}K(){return!(this.f&&this.d===`
`)}L(n){if(typeof n=="string")return n.charCodeAt(0)===10;if(n===A.$4C||n.piece.lineFeedCnt===0)return!1;const s=n.piece,t=this.a[s.bufferIndex].lineStarts,o=s.start.line,h=t[o]+s.start.column;return o===t.length-1||t[o+1]>h+1?!1:this.a[s.bufferIndex].buffer.charCodeAt(h)===10}M(n){return typeof n=="string"?n.charCodeAt(n.length-1)===13:n===A.$4C||n.piece.lineFeedCnt===0?!1:this.I(n,n.piece.length-1)===13}N(n){if(this.K()&&this.L(n)){const s=n.prev();this.M(s)&&this.P(s,n)}}O(n){if(this.K()&&this.M(n)){const s=n.next();this.L(s)&&this.P(n,s)}}P(n,s){const t=[],o=this.a[n.piece.bufferIndex].lineStarts;let h;n.piece.end.column===0?h={line:n.piece.end.line-1,column:o[n.piece.end.line]-o[n.piece.end.line-1]-1}:h={line:n.piece.end.line,column:n.piece.end.column-1};const $=n.piece.length-1,T=n.piece.lineFeedCnt-1;n.piece=new j(n.piece.bufferIndex,n.piece.start,h,T,$),(0,A.$$C)(this,n,-1,-1),n.piece.length===0&&t.push(n);const I={line:s.piece.start.line+1,column:0},N=s.piece.length-1,M=this.t(s.piece.bufferIndex,I,s.piece.end);s.piece=new j(s.piece.bufferIndex,I,s.piece.end,M,N),(0,A.$$C)(this,s,-1,-1),s.piece.length===0&&t.push(s);const m=this.w(`\r
`);this.S(n,m[0]);for(let O=0;O<t.length;O++)(0,A.$9C)(this,t[O])}Q(n,s){if(this.K()&&this.M(n)){const t=s.next();if(this.L(t)){if(n+=`
`,t.piece.length===1)(0,A.$9C)(this,t);else{const o=t.piece,h={line:o.start.line+1,column:0},$=o.length-1,T=this.t(o.bufferIndex,h,o.end);t.piece=new j(o.bufferIndex,h,o.end,T,$),(0,A.$$C)(this,t,-1,-1)}return!0}}return!1}iterate(n,s){if(n===A.$4C)return s(A.$4C);const t=this.iterate(n.left,s);return t&&s(n)&&this.iterate(n.right,s)}R(n){if(n===A.$4C)return"";const s=this.a[n.piece.bufferIndex],t=n.piece,o=this.u(t.bufferIndex,t.start),h=this.u(t.bufferIndex,t.end);return s.buffer.substring(o,h)}getPieceContent(n){const s=this.a[n.bufferIndex],t=this.u(n.bufferIndex,n.start),o=this.u(n.bufferIndex,n.end);return s.buffer.substring(t,o)}S(n,s){const t=new A.$3C(s,A.NodeColor.Red);if(t.left=A.$4C,t.right=A.$4C,t.parent=A.$4C,t.size_left=0,t.lf_left=0,this.root===A.$4C)this.root=t,t.color=A.NodeColor.Black;else if(n.right===A.$4C)n.right=t,t.parent=n;else{const h=(0,A.$5C)(n.right);h.left=t,t.parent=h}return(0,A.$0C)(this,t),t}T(n,s){const t=new A.$3C(s,A.NodeColor.Red);if(t.left=A.$4C,t.right=A.$4C,t.parent=A.$4C,t.size_left=0,t.lf_left=0,this.root===A.$4C)this.root=t,t.color=A.NodeColor.Black;else if(n.left===A.$4C)n.left=t,t.parent=n;else{const o=(0,A.$6C)(n.left);o.right=t,t.parent=o}return(0,A.$0C)(this,t),t}U(n){let s="";return this.iterate(n,t=>(s+=this.R(t),!0)),s}}e.$kD=u}),define(he[13],ae([0,1,2,5,3,4,43]),function(ne,e,P,b,G,d,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$yg=R,e.$zg=Q,e.$Ag=v,e.$Bg=g,e.$Cg=S,e.$Dg=r,e.$Eg=l,e.$Fg=u,e.$Gg=C,e.$Hg=n,e.$Ig=s,e.$Jg=t,e.$Kg=o,e.$Lg=h,e.$Mg=$,e.$Ng=T,e.$Og=M;function R(m){return m===P.CharCode.Slash||m===P.CharCode.Backslash}function Q(m){return m.replace(/[\\/]/g,b.$jc.sep)}function v(m){return m.indexOf("/")===-1&&(m=Q(m)),/^[a-zA-Z]:(\/|$)/.test(m)&&(m="/"+m),m}function g(m,O=b.$jc.sep){if(!m)return"";const y=m.length,p=m.charCodeAt(0);if(R(p)){if(R(m.charCodeAt(1))&&!R(m.charCodeAt(2))){let Y=3;const x=Y;for(;Y<y&&!R(m.charCodeAt(Y));Y++);if(x!==Y&&!R(m.charCodeAt(Y+1))){for(Y+=1;Y<y;Y++)if(R(m.charCodeAt(Y)))return m.slice(0,Y+1).replace(/[\\/]/g,O)}}return O}else if(C(p)&&m.charCodeAt(1)===P.CharCode.Colon)return R(m.charCodeAt(2))?m.slice(0,2)+O:m.slice(0,2);let z=m.indexOf("://");if(z!==-1){for(z+=3;z<y;z++)if(R(m.charCodeAt(z)))return m.slice(0,z+1)}return""}function S(m){if(!G.$i||!m||m.length<5)return!1;let O=m.charCodeAt(0);if(O!==P.CharCode.Backslash||(O=m.charCodeAt(1),O!==P.CharCode.Backslash))return!1;let y=2;const p=y;for(;y<m.length&&(O=m.charCodeAt(y),O!==P.CharCode.Backslash);y++);return!(p===y||(O=m.charCodeAt(y+1),isNaN(O)||O===P.CharCode.Backslash))}const f=/[\\/:\*\?"<>\|]/g,j=/[/]/g,w=/^(con|prn|aux|clock\$|nul|lpt[0-9]|com[0-9])(\.(.*?))?$/i;function r(m,O=G.$i){const y=O?f:j;return!(!m||m.length===0||/^\s+$/.test(m)||(y.lastIndex=0,y.test(m))||O&&w.test(m)||m==="."||m===".."||O&&m[m.length-1]==="."||O&&m.length!==m.trim().length||m.length>255)}function l(m,O,y){const p=m===O;return!y||p?p:!m||!O?!1:(0,d.$Hf)(m,O)}function u(m,O,y,p=b.sep){if(m===O)return!0;if(!m||!O||O.length>m.length)return!1;if(y){if(!(0,d.$If)(m,O))return!1;if(O.length===m.length)return!0;let Y=O.length;return O.charAt(O.length-1)===p&&Y--,m.charAt(Y)===p}return O.charAt(O.length-1)!==p&&(O+=p),m.indexOf(O)===0}function C(m){return m>=P.CharCode.A&&m<=P.CharCode.Z||m>=P.CharCode.a&&m<=P.CharCode.z}function n(m,O){return G.$i&&m.endsWith(":")&&(m+=b.sep),(0,b.$lc)(m)||(m=(0,b.$mc)(O,m)),m=(0,b.$kc)(m),s(m)}function s(m){return G.$i?(m=(0,d.$pf)(m,b.sep),m.endsWith(":")&&(m+=b.sep)):(m=(0,d.$pf)(m,b.sep),m||(m=b.sep)),m}function t(m){const O=(0,b.$kc)(m);return G.$i?m.length>3?!1:o(O)&&(m.length===2||O.charCodeAt(2)===P.CharCode.Backslash):O===b.$jc.sep}function o(m,O=G.$i){return O?C(m.charCodeAt(0))&&m.charCodeAt(1)===P.CharCode.Colon:!1}function h(m,O=G.$i){return o(m,O)?m[0]:void 0}function $(m,O,y){return O.length>m.length?-1:m===O?0:(y&&(m=m.toLowerCase(),O=O.toLowerCase()),m.indexOf(O))}function T(m){const O=m.split(":");let y,p,z;for(const Y of O){const x=Number(Y);(0,A.$kg)(x)?p===void 0?p=x:z===void 0&&(z=x):y=y?[y,Y].join(":"):Y}if(!y)throw new Error("Format for `--goto` should be: `FILE:LINE(:COLUMN)`");return{path:y,line:p!==void 0?p:void 0,column:z!==void 0?z:p!==void 0?1:void 0}}const I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",N="BDEFGHIJKMOQRSTUVWXYZbdefghijkmoqrstuvwxyz0123456789";function M(m,O,y=8){let p="";for(let Y=0;Y<y;Y++){let x;Y===0&&G.$i&&!O&&(y===3||y===4)?x=N:x=I,p+=x.charAt(Math.floor(Math.random()*x.length))}let z;return O?z=`${O}-${p}`:z=p,m?(0,b.$mc)(m,z):z}}),define(he[22],ae([0,1,5]),function(ne,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$9s=void 0,e.$0s=d,e.$$s=A,e.$_s=R,e.$at=v,e.$9s=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"});const b={".css":"text/css",".csv":"text/csv",".htm":"text/html",".html":"text/html",".ics":"text/calendar",".js":"text/javascript",".mjs":"text/javascript",".txt":"text/plain",".xml":"text/xml"},G={".aac":"audio/x-aac",".avi":"video/x-msvideo",".bmp":"image/bmp",".flv":"video/x-flv",".gif":"image/gif",".ico":"image/x-icon",".jpe":"image/jpg",".jpeg":"image/jpg",".jpg":"image/jpg",".m1v":"video/mpeg",".m2a":"audio/mpeg",".m2v":"video/mpeg",".m3a":"audio/mpeg",".mid":"audio/midi",".midi":"audio/midi",".mk3d":"video/x-matroska",".mks":"video/x-matroska",".mkv":"video/x-matroska",".mov":"video/quicktime",".movie":"video/x-sgi-movie",".mp2":"audio/mpeg",".mp2a":"audio/mpeg",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4a":"audio/mp4",".mp4v":"video/mp4",".mpe":"video/mpeg",".mpeg":"video/mpeg",".mpg":"video/mpeg",".mpg4":"video/mp4",".mpga":"audio/mpeg",".oga":"audio/ogg",".ogg":"audio/ogg",".opus":"audio/opus",".ogv":"video/ogg",".png":"image/png",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".spx":"audio/ogg",".svg":"image/svg+xml",".tga":"image/x-tga",".tif":"image/tiff",".tiff":"image/tiff",".wav":"audio/x-wav",".webm":"video/webm",".webp":"image/webp",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".woff":"application/font-woff"};function d(g){const S=(0,P.$rc)(g),f=b[S.toLowerCase()];return f!==void 0?f:A(g)}function A(g){const S=(0,P.$rc)(g);return G[S.toLowerCase()]}function R(g){for(const S in G)if(G[S]===g)return S}const Q=/^(.+)\/(.+?)(;.+)?$/;function v(g,S){const f=Q.exec(g);return f?`${f[1].toLowerCase()}/${f[2].toLowerCase()}${f[3]??""}`:S?void 0:g}}),define(he[9],ae([0,1,6,3,4,14,5]),function(ne,e,P,b,G,d,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.$1g=e.$Zg=e.$Yg=e.$Xg=e.$Wg=e.$Vg=e.$Tg=e.$Sg=e.$Rg=e.Schemas=void 0,e.$Pg=Q,e.$Qg=v,e.$Ug=S,P=de(P),b=de(b),A=de(A);var R;(function(w){w.inMemory="inmemory",w.vscode="vscode",w.internal="private",w.walkThrough="walkThrough",w.walkThroughSnippet="walkThroughSnippet",w.http="http",w.https="https",w.file="file",w.mailto="mailto",w.untitled="untitled",w.data="data",w.command="command",w.vscodeRemote="vscode-remote",w.vscodeRemoteResource="vscode-remote-resource",w.vscodeManagedRemoteResource="vscode-managed-remote-resource",w.vscodeUserData="vscode-userdata",w.vscodeCustomEditor="vscode-custom-editor",w.vscodeNotebookCell="vscode-notebook-cell",w.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",w.vscodeNotebookCellOutput="vscode-notebook-cell-output",w.vscodeInteractiveInput="vscode-interactive-input",w.vscodeSettings="vscode-settings",w.vscodeWorkspaceTrust="vscode-workspace-trust",w.vscodeTerminal="vscode-terminal",w.vscodeChatCodeBlock="vscode-chat-code-block",w.vscodeCopilotBackingChatCodeBlock="vscode-copilot-chat-code-block",w.vscodeChatCodeCompareBlock="vscode-chat-code-compare-block",w.vscodeChatSesssion="vscode-chat-editor",w.webviewPanel="webview-panel",w.vscodeWebview="vscode-webview",w.extension="extension",w.vscodeFileResource="vscode-file",w.tmp="tmp",w.vsls="vsls",w.vscodeSourceControl="vscode-scm",w.commentsInput="comment",w.codeSetting="code-setting"})(R||(e.Schemas=R={}));function Q(w,r){return d.URI.isUri(w)?(0,G.$Hf)(w.scheme,r):(0,G.$If)(w,r+":")}function v(w,...r){return r.some(l=>Q(w,l))}e.$Rg="vscode-tkn",e.$Sg="tkn";class g{constructor(){this.a=Object.create(null),this.b=Object.create(null),this.c=Object.create(null),this.d="http",this.e=null,this.f="/"}setPreferredWebSchema(r){this.d=r}setDelegate(r){this.e=r}setServerRootPath(r,l){this.f=S(r,l)}getServerRootPath(){return this.f}get g(){return A.$jc.join(this.f,R.vscodeRemoteResource)}set(r,l,u){this.a[r]=l,this.b[r]=u}setConnectionToken(r,l){this.c[r]=l}getPreferredWebSchema(){return this.d}rewrite(r){if(this.e)try{return this.e(r)}catch(t){return P.$3(t),r}const l=r.authority;let u=this.a[l];u&&u.indexOf(":")!==-1&&u.indexOf("[")===-1&&(u=`[${u}]`);const C=this.b[l],n=this.c[l];let s=`path=${encodeURIComponent(r.path)}`;return typeof n=="string"&&(s+=`&${e.$Sg}=${encodeURIComponent(n)}`),d.URI.from({scheme:b.$o?this.d:R.vscodeRemoteResource,authority:`${u}:${C}`,path:this.g,query:s})}}e.$Tg=new g;function S(w,r){return A.$jc.join(r??"/",`${w.quality??"oss"}-${w.commit??"dev"}`)}e.$Vg="vs/../../extensions",e.$Wg="vs/../../node_modules",e.$Xg="vs/../../node_modules.asar",e.$Yg="vs/../../node_modules.asar.unpacked",e.$Zg="vscode-app";class f{static{this.a=e.$Zg}asBrowserUri(r){const l=this.b(r,ne);return this.uriToBrowserUri(l)}uriToBrowserUri(r){return r.scheme===R.vscodeRemote?e.$Tg.rewrite(r):r.scheme===R.file&&(b.$m||b.$q===`${R.vscodeFileResource}://${f.a}`)?r.with({scheme:R.vscodeFileResource,authority:r.authority||f.a,query:null,fragment:null}):r}asFileUri(r){const l=this.b(r,ne);return this.uriToFileUri(l)}uriToFileUri(r){return r.scheme===R.vscodeFileResource?r.with({scheme:R.file,authority:r.authority!==f.a?r.authority:null,query:null,fragment:null}):r}b(r,l){return d.URI.isUri(r)?r:d.URI.parse(l.toUrl(r))}}e.$1g=new f;var j;(function(w){const r=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);w.CoopAndCoep=Object.freeze(r.get("3"));const l="vscode-coi";function u(n){let s;typeof n=="string"?s=new URL(n).searchParams:n instanceof URL?s=n.searchParams:d.URI.isUri(n)&&(s=new URL(n.toString(!0)).searchParams);const t=s?.get(l);if(t)return r.get(t)}w.getHeadersFromQuery=u;function C(n,s,t){if(!globalThis.crossOriginIsolated)return;const o=s&&t?"3":t?"2":"1";n instanceof URLSearchParams?n.set(l,o):n[l]=o}w.addSearchParam=C})(j||(e.COI=j={}))}),define(he[23],ae([0,1,2,13,9,5,3,4,14]),function(ne,e,P,b,G,d,A,R,Q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.$ph=e.$oh=e.$nh=e.$mh=e.$lh=e.$kh=e.$jh=e.$ih=e.$hh=e.$gh=e.$fh=e.$eh=e.$dh=e.$ch=e.$bh=e.$ah=e.$_g=e.$$g=e.$0g=e.$9g=void 0,e.$8g=v,e.$qh=S,e.$rh=j,b=de(b),d=de(d);function v(w){return(0,Q.$zc)(w,!0)}class g{constructor(r){this.a=r}compare(r,l,u=!1){return r===l?0:(0,R.$Af)(this.getComparisonKey(r,u),this.getComparisonKey(l,u))}isEqual(r,l,u=!1){return r===l?!0:!r||!l?!1:this.getComparisonKey(r,u)===this.getComparisonKey(l,u)}getComparisonKey(r,l=!1){return r.with({path:this.a(r)?r.path.toLowerCase():void 0,fragment:l?null:void 0}).toString()}ignorePathCasing(r){return this.a(r)}isEqualOrParent(r,l,u=!1){if(r.scheme===l.scheme){if(r.scheme===G.Schemas.file)return b.$Fg(v(r),v(l),this.a(r))&&r.query===l.query&&(u||r.fragment===l.fragment);if((0,e.$mh)(r.authority,l.authority))return b.$Fg(r.path,l.path,this.a(r),"/")&&r.query===l.query&&(u||r.fragment===l.fragment)}return!1}joinPath(r,...l){return Q.URI.joinPath(r,...l)}basenameOrAuthority(r){return(0,e.$eh)(r)||r.authority}basename(r){return d.$jc.basename(r.path)}extname(r){return d.$jc.extname(r.path)}dirname(r){if(r.path.length===0)return r;let l;return r.scheme===G.Schemas.file?l=Q.URI.file(d.$pc(v(r))).path:(l=d.$jc.dirname(r.path),r.authority&&l.length&&l.charCodeAt(0)!==P.CharCode.Slash&&(console.error(`dirname("${r.toString})) resulted in a relative path`),l="/")),r.with({path:l})}normalizePath(r){if(!r.path.length)return r;let l;return r.scheme===G.Schemas.file?l=Q.URI.file(d.$kc(v(r))).path:l=d.$jc.normalize(r.path),r.with({path:l})}relativePath(r,l){if(r.scheme!==l.scheme||!(0,e.$mh)(r.authority,l.authority))return;if(r.scheme===G.Schemas.file){const n=d.$oc(v(r),v(l));return A.$i?b.$zg(n):n}let u=r.path||"/";const C=l.path||"/";if(this.a(r)){let n=0;for(const s=Math.min(u.length,C.length);n<s&&!(u.charCodeAt(n)!==C.charCodeAt(n)&&u.charAt(n).toLowerCase()!==C.charAt(n).toLowerCase());n++);u=C.substr(0,n)+u.substr(n)}return d.$jc.relative(u,C)}resolvePath(r,l){if(r.scheme===G.Schemas.file){const u=Q.URI.file(d.$nc(v(r),l));return r.with({authority:u.authority,path:u.path})}return l=b.$Ag(l),r.with({path:d.$jc.resolve(r.path,l)})}isAbsolutePath(r){return!!r.path&&r.path[0]==="/"}isEqualAuthority(r,l){return r===l||r!==void 0&&l!==void 0&&(0,R.$Hf)(r,l)}hasTrailingPathSeparator(r,l=d.sep){if(r.scheme===G.Schemas.file){const u=v(r);return u.length>b.$Bg(u).length&&u[u.length-1]===l}else{const u=r.path;return u.length>1&&u.charCodeAt(u.length-1)===P.CharCode.Slash&&!/^[a-zA-Z]:(\/$|\\$)/.test(r.fsPath)}}removeTrailingPathSeparator(r,l=d.sep){return(0,e.$nh)(r,l)?r.with({path:r.path.substr(0,r.path.length-1)}):r}addTrailingPathSeparator(r,l=d.sep){let u=!1;if(r.scheme===G.Schemas.file){const C=v(r);u=C!==void 0&&C.length===b.$Bg(C).length&&C[C.length-1]===l}else{l="/";const C=r.path;u=C.length===1&&C.charCodeAt(C.length-1)===P.CharCode.Slash}return!u&&!(0,e.$nh)(r,l)?r.with({path:r.path+"/"}):r}}e.$9g=g,e.$0g=new g(()=>!1),e.$$g=new g(w=>w.scheme===G.Schemas.file?!A.$k:!0),e.$_g=new g(w=>!0),e.$ah=e.$0g.isEqual.bind(e.$0g),e.$bh=e.$0g.isEqualOrParent.bind(e.$0g),e.$ch=e.$0g.getComparisonKey.bind(e.$0g),e.$dh=e.$0g.basenameOrAuthority.bind(e.$0g),e.$eh=e.$0g.basename.bind(e.$0g),e.$fh=e.$0g.extname.bind(e.$0g),e.$gh=e.$0g.dirname.bind(e.$0g),e.$hh=e.$0g.joinPath.bind(e.$0g),e.$ih=e.$0g.normalizePath.bind(e.$0g),e.$jh=e.$0g.relativePath.bind(e.$0g),e.$kh=e.$0g.resolvePath.bind(e.$0g),e.$lh=e.$0g.isAbsolutePath.bind(e.$0g),e.$mh=e.$0g.isEqualAuthority.bind(e.$0g),e.$nh=e.$0g.hasTrailingPathSeparator.bind(e.$0g),e.$oh=e.$0g.removeTrailingPathSeparator.bind(e.$0g),e.$ph=e.$0g.addTrailingPathSeparator.bind(e.$0g);function S(w,r){const l=[];for(let u=0;u<w.length;u++){const C=r(w[u]);w.some((n,s)=>s===u?!1:(0,e.$bh)(C,r(n)))||l.push(w[u])}return l}var f;(function(w){w.META_DATA_LABEL="label",w.META_DATA_DESCRIPTION="description",w.META_DATA_SIZE="size",w.META_DATA_MIME="mime";function r(l){const u=new Map;l.path.substring(l.path.indexOf(";")+1,l.path.lastIndexOf(";")).split(";").forEach(s=>{const[t,o]=s.split(":");t&&o&&u.set(t,o)});const n=l.path.substring(0,l.path.indexOf(";"));return n&&u.set(w.META_DATA_MIME,n),u}w.parseMetaData=r})(f||(e.DataUri=f={}));function j(w,r,l){if(r){let u=w.path;return u&&u[0]!==d.$jc.sep&&(u=d.$jc.sep+u),w.with({scheme:l,authority:r,path:u})}return w.with({scheme:l})}}),define(he[24],ae([0,1,44,6,25,10,23,3,18,17]),function(ne,e,P,b,G,d,A,R,Q,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$0h=e.$8h=e.$7h=e.$6h=e.$5h=e.Promises=e.$4h=e.$3h=e.$2h=e.$Zh=e.$Yh=e.$Xh=e.$Wh=e.$Vh=e.$Uh=e.$Th=e.$Sh=e.$Rh=e.$Qh=e.$Ph=e.$Oh=e.$Nh=e.$Mh=e.$Gh=e.$Fh=e.$Eh=e.$Dh=e.$Ch=e.$Bh=e.$Ah=void 0,e.$sh=g,e.$th=S,e.$uh=f,e.$vh=j,e.$wh=w,e.$xh=r,e.$yh=l,e.$zh=u,e.$Hh=N,e.$Ih=M,e.$Jh=m,e.$Kh=O,e.$Lh=y,e.$1h=W,e.$9h=q;function g(E){return!!E&&typeof E.then=="function"}function S(E){const c=new P.$ye,k=E(c.token),V=new Promise((H,te)=>{const ue=c.token.onCancellationRequested(()=>{ue.dispose(),te(new b.$8)});Promise.resolve(k).then(fe=>{ue.dispose(),c.dispose(),H(fe)},fe=>{ue.dispose(),c.dispose(),te(fe)})});return new class{cancel(){c.cancel(),c.dispose()}then(H,te){return V.then(H,te)}catch(H){return this.then(void 0,H)}finally(H){return V.finally(H)}}}function f(E,c,k){return new Promise((V,H)=>{const te=c.onCancellationRequested(()=>{te.dispose(),V(k)});E.then(V,H).finally(()=>te.dispose())})}function j(E,c){return new Promise((k,V)=>{const H=c.onCancellationRequested(()=>{H.dispose(),V(new b.$8)});E.then(k,V).finally(()=>H.dispose())})}async function w(E){let c=-1;const k=E.map((V,H)=>V.then(te=>(c=H,te)));try{return await Promise.race(k)}finally{E.forEach((V,H)=>{H!==c&&V.cancel()})}}function r(E,c,k){let V;const H=setTimeout(()=>{V?.(void 0),k?.()},c);return Promise.race([E.finally(()=>clearTimeout(H)),new Promise(te=>V=te)])}function l(E){return new Promise((c,k)=>{const V=E();g(V)?V.then(c,k):c(V)})}function u(){let E,c;return{promise:new Promise((V,H)=>{E=V,c=H}),resolve:E,reject:c}}class C{constructor(){this.f=!1,this.a=null,this.b=null,this.d=null}queue(c){if(this.f)return Promise.reject(new Error("Throttler is disposed"));if(this.a){if(this.d=c,!this.b){const k=()=>{if(this.b=null,this.f)return;const V=this.queue(this.d);return this.d=null,V};this.b=new Promise(V=>{this.a.then(k,k).then(V)})}return new Promise((k,V)=>{this.b.then(k,V)})}return this.a=c(),new Promise((k,V)=>{this.a.then(H=>{this.a=null,k(H)},H=>{this.a=null,V(H)})})}dispose(){this.f=!0}}e.$Ah=C;class n{constructor(){this.a=Promise.resolve(null)}queue(c){return this.a=this.a.then(()=>c(),()=>c())}}e.$Bh=n;class s{constructor(){this.a=new Map}queue(c,k){const H=(this.a.get(c)??Promise.resolve()).catch(()=>{}).then(k).finally(()=>{this.a.get(c)===H&&this.a.delete(c)});return this.a.set(c,H),H}}e.$Ch=s;const t=(E,c)=>{let k=!0;const V=setTimeout(()=>{k=!1,c()},E);return{isTriggered:()=>k,dispose:()=>{clearTimeout(V),k=!1}}},o=E=>{let c=!0;return queueMicrotask(()=>{c&&(c=!1,E())}),{isTriggered:()=>c,dispose:()=>{c=!1}}};class h{constructor(c){this.defaultDelay=c,this.a=null,this.b=null,this.d=null,this.f=null,this.g=null}trigger(c,k=this.defaultDelay){this.g=c,this.h(),this.b||(this.b=new Promise((H,te)=>{this.d=H,this.f=te}).then(()=>{if(this.b=null,this.d=null,this.g){const H=this.g;return this.g=null,H()}}));const V=()=>{this.a=null,this.d?.(null)};return this.a=k===Q.$ie?o(V):t(k,V),this.b}isTriggered(){return!!this.a?.isTriggered()}cancel(){this.h(),this.b&&(this.f?.(new b.$8),this.b=null)}h(){this.a?.dispose(),this.a=null}dispose(){this.cancel()}}e.$Dh=h;class ${constructor(c){this.a=new h(c),this.b=new C}trigger(c,k){return this.a.trigger(()=>this.b.queue(c),k)}isTriggered(){return this.a.isTriggered()}cancel(){this.a.cancel()}dispose(){this.a.dispose(),this.b.dispose()}}e.$Eh=$;class T{constructor(){this.a=!1,this.b=new Promise((c,k)=>{this.d=c})}isOpen(){return this.a}open(){this.a=!0,this.d(!0)}wait(){return this.b}}e.$Fh=T;class I extends T{constructor(c){super(),this.f=setTimeout(()=>this.open(),c)}open(){clearTimeout(this.f),super.open()}}e.$Gh=I;function N(E,c){return c?new Promise((k,V)=>{const H=setTimeout(()=>{te.dispose(),k()},E),te=c.onCancellationRequested(()=>{clearTimeout(H),te.dispose(),V(new b.$8)})}):S(k=>N(E,k))}function M(E,c=0,k){const V=setTimeout(()=>{E(),k&&H.dispose()},c),H=(0,d.$Vc)(()=>{clearTimeout(V),k?.deleteAndLeak(H)});return k?.add(H),H}function m(E){const c=[];let k=0;const V=E.length;function H(){return k<V?E[k++]():null}function te(ue){ue!=null&&c.push(ue);const fe=H();return fe?fe.then(te):Promise.resolve(c)}return Promise.resolve(null).then(te)}function O(E,c=V=>!!V,k=null){let V=0;const H=E.length,te=()=>{if(V>=H)return Promise.resolve(k);const ue=E[V++];return Promise.resolve(ue()).then(ge=>c(ge)?Promise.resolve(ge):te())};return te()}function y(E,c=V=>!!V,k=null){if(E.length===0)return Promise.resolve(k);let V=E.length;const H=()=>{V=-1;for(const te of E)te.cancel?.()};return new Promise((te,ue)=>{for(const fe of E)fe.then(ge=>{--V>=0&&c(ge)?(H(),te(ge)):V===0&&te(k)}).catch(ge=>{--V>=0&&(H(),ue(ge))})})}class p{constructor(c){this.a=0,this.b=!1,this.f=c,this.g=[],this.d=0,this.h=new G.$ne}whenIdle(){return this.size>0?G.Event.toPromise(this.onDrained):Promise.resolve()}get onDrained(){return this.h.event}get size(){return this.a}queue(c){if(this.b)throw new Error("Object has been disposed");return this.a++,new Promise((k,V)=>{this.g.push({factory:c,c:k,e:V}),this.j()})}j(){for(;this.g.length&&this.d<this.f;){const c=this.g.shift();this.d++;const k=c.factory();k.then(c.c,c.e),k.then(()=>this.k(),()=>this.k())}}k(){this.b||(this.d--,--this.a===0&&this.h.fire(),this.g.length>0&&this.j())}clear(){if(this.b)throw new Error("Object has been disposed");this.g.length=0,this.a=this.d}dispose(){this.b=!0,this.g.length=0,this.a=0,this.h.dispose()}}e.$Mh=p;class z extends p{constructor(){super(1)}}e.$Nh=z;class Y{constructor(){this.a=new B,this.b=0}queue(c){return this.a.isRunning()?this.a.queue(()=>this.a.run(this.b++,c())):this.a.run(this.b++,c())}}e.$Oh=Y;class x{constructor(){this.a=new Map,this.b=new Set,this.d=void 0,this.f=0}async whenDrained(){if(this.g())return;const c=new J;return this.b.add(c),c.p}g(){for(const[,c]of this.a)if(c.size>0)return!1;return!0}queueSize(c,k=A.$0g){const V=k.getComparisonKey(c);return this.a.get(V)?.size??0}queueFor(c,k,V=A.$0g){const H=V.getComparisonKey(c);let te=this.a.get(H);if(!te){te=new z;const ue=this.f++,fe=G.Event.once(te.onDrained)(()=>{te?.dispose(),this.a.delete(H),this.h(),this.d?.deleteAndDispose(ue),this.d?.size===0&&(this.d.dispose(),this.d=void 0)});this.d||(this.d=new d.$7c),this.d.set(ue,fe),this.a.set(H,te)}return te.queue(k)}h(){this.g()&&this.j()}j(){for(const c of this.b)c.complete();this.b.clear()}dispose(){for(const[,c]of this.a)c.dispose();this.a.clear(),this.j(),this.d?.dispose()}}e.$Ph=x;class le{constructor(c,k){this.b=!1,this.a=-1,typeof c=="function"&&typeof k=="number"&&this.setIfNotSet(c,k)}dispose(){this.cancel(),this.b=!0}cancel(){this.a!==-1&&(clearTimeout(this.a),this.a=-1)}cancelAndSet(c,k){if(this.b)throw new b.$fb("Calling 'cancelAndSet' on a disposed TimeoutTimer");this.cancel(),this.a=setTimeout(()=>{this.a=-1,c()},k)}setIfNotSet(c,k){if(this.b)throw new b.$fb("Calling 'setIfNotSet' on a disposed TimeoutTimer");this.a===-1&&(this.a=setTimeout(()=>{this.a=-1,c()},k))}}e.$Qh=le;class re{constructor(){this.d=void 0,this.f=!1}cancel(){this.d?.dispose(),this.d=void 0}cancelAndSet(c,k,V=globalThis){if(this.f)throw new b.$fb("Calling 'cancelAndSet' on a disposed IntervalTimer");this.cancel();const H=V.setInterval(()=>{c()},k);this.d=(0,d.$Vc)(()=>{V.clearInterval(H),this.d=void 0})}dispose(){this.cancel(),this.f=!0}}e.$Rh=re;class _{constructor(c,k){this.b=-1,this.a=c,this.d=k,this.f=this.g.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearTimeout(this.b),this.b=-1)}schedule(c=this.d){this.cancel(),this.b=setTimeout(this.f,c)}get delay(){return this.d}set delay(c){this.d=c}isScheduled(){return this.b!==-1}flush(){this.isScheduled()&&(this.cancel(),this.h())}g(){this.b=-1,this.a&&this.h()}h(){this.a?.()}}e.$Sh=_;class oe{constructor(c,k){k%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${k}ms is not a multiple of 1000ms.`),this.a=c,this.b=k,this.d=0,this.f=-1,this.g=this.h.bind(this)}dispose(){this.cancel(),this.a=null}cancel(){this.isScheduled()&&(clearInterval(this.f),this.f=-1)}schedule(c=this.b){c%1e3!==0&&console.warn(`ProcessTimeRunOnceScheduler resolution is 1s, ${c}ms is not a multiple of 1000ms.`),this.cancel(),this.d=Math.ceil(c/1e3),this.f=setInterval(this.g,1e3)}isScheduled(){return this.f!==-1}h(){this.d--,!(this.d>0)&&(clearInterval(this.f),this.f=-1,this.a?.())}}e.$Th=oe;class ce extends _{constructor(c,k){super(c,k),this.j=[]}work(c){this.j.push(c),this.isScheduled()||this.schedule()}h(){const c=this.j;this.j=[],this.a?.(c)}dispose(){this.j=[],super.dispose()}}e.$Uh=ce;class L extends d.$Xc{constructor(c,k){super(),this.g=c,this.h=k,this.a=[],this.b=this.B(new d.$Yc),this.f=!1}get pending(){return this.a.length}work(c){if(this.f)return!1;if(typeof this.g.maxBufferedWork=="number"){if(this.b.value){if(this.pending+c.length>this.g.maxBufferedWork)return!1}else if(this.pending+c.length-this.g.maxWorkChunkSize>this.g.maxBufferedWork)return!1}for(const k of c)this.a.push(k);return this.b.value||this.j(),!0}j(){this.h(this.a.splice(0,this.g.maxWorkChunkSize)),this.a.length>0&&(this.b.value=new _(()=>{this.b.clear(),this.j()},this.g.throttleDelay),this.b.value.schedule())}dispose(){super.dispose(),this.f=!0}}e.$Vh=L,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e.$Xh=(E,c)=>{(0,R.$B)(()=>{if(k)return;const V=Date.now()+15;c(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,V-Date.now())}}))});let k=!1;return{dispose(){k||(k=!0)}}}:e.$Xh=(E,c,k)=>{const V=E.requestIdleCallback(c,typeof k=="number"?{timeout:k}:void 0);let H=!1;return{dispose(){H||(H=!0,E.cancelIdleCallback(V))}}},e.$Wh=E=>(0,e.$Xh)(globalThis,E)}();class ee{constructor(c,k){this.g=!1,this.d=()=>{try{this.j=k()}catch(V){this.l=V}finally{this.g=!0}},this.f=(0,e.$Xh)(c,()=>this.d())}dispose(){this.f.dispose()}get value(){if(this.g||(this.f.dispose(),this.d()),this.l)throw this.l;return this.j}get isInitialized(){return this.g}}e.$Yh=ee;class U extends ee{constructor(c){super(globalThis,c)}}e.$Zh=U;async function W(E,c,k){let V;for(let H=0;H<k;H++)try{return await E()}catch(te){V=te,await N(c)}throw V}class B{isRunning(c){return typeof c=="number"?this.a?.taskId===c:!!this.a}get running(){return this.a?.promise}cancelRunning(){this.a?.cancel()}run(c,k,V){return this.a={taskId:c,cancel:()=>V?.(),promise:k},k.then(()=>this.d(c),()=>this.d(c)),k}d(c){this.a&&c===this.a.taskId&&(this.a=void 0,this.f())}f(){if(this.b){const c=this.b;this.b=void 0,c.run().then(c.promiseResolve,c.promiseReject)}}queue(c){if(this.b)this.b.run=c;else{const{promise:k,resolve:V,reject:H}=u();this.b={run:c,promise:k,promiseResolve:V,promiseReject:H}}return this.b.promise}hasQueued(){return!!this.b}async join(){return this.b?.promise??this.a?.promise}}e.$2h=B;class Z{constructor(c,k=()=>Date.now()){this.d=c,this.f=k,this.a=0,this.b=0}increment(){const c=this.f();return c-this.a>this.d&&(this.a=c,this.b=0),this.b++,this.b}}e.$3h=Z;var X;(function(E){E[E.Resolved=0]="Resolved",E[E.Rejected=1]="Rejected"})(X||(X={}));class J{get isRejected(){return this.d?.outcome===X.Rejected}get isResolved(){return this.d?.outcome===X.Resolved}get isSettled(){return!!this.d}get value(){return this.d?.outcome===X.Resolved?this.d?.value:void 0}constructor(){this.p=new Promise((c,k)=>{this.a=c,this.b=k})}complete(c){return new Promise(k=>{this.a(c),this.d={outcome:X.Resolved,value:c},k()})}error(c){return new Promise(k=>{this.b(c),this.d={outcome:X.Rejected,value:c},k()})}cancel(){return this.error(new b.$8)}}e.$4h=J;var ie;(function(E){async function c(V){let H;const te=await Promise.all(V.map(ue=>ue.then(fe=>fe,fe=>{H||(H=fe)})));if(typeof H<"u")throw H;return te}E.settled=c;function k(V){return new Promise(async(H,te)=>{try{await V(H,te)}catch(ue){te(ue)}})}E.withAsyncBody=k})(ie||(e.Promises=ie={}));class K{get value(){return this.a}get error(){return this.b}get isResolved(){return this.d}constructor(c){this.a=void 0,this.b=void 0,this.d=!1,this.promise=c.then(k=>(this.a=k,this.d=!0,k),k=>{throw this.b=k,this.d=!0,k})}requireValue(){if(!this.d)throw new b.$fb("Promise is not resolved yet");if(this.b)throw this.b;return this.a}}e.$5h=K;class F{constructor(c){this.b=c,this.a=new v.$X(()=>new K(this.b()))}requireValue(){return this.a.value.requireValue()}getPromise(){return this.a.value.promise}get currentValue(){return this.a.rawValue?.value}}e.$6h=F;var i;(function(E){E[E.Initial=0]="Initial",E[E.DoneOK=1]="DoneOK",E[E.DoneError=2]="DoneError"})(i||(i={}));class a{static fromArray(c){return new a(k=>{k.emitMany(c)})}static fromPromise(c){return new a(async k=>{k.emitMany(await c)})}static fromPromises(c){return new a(async k=>{await Promise.all(c.map(async V=>k.emitOne(await V)))})}static merge(c){return new a(async k=>{await Promise.all(c.map(async V=>{for await(const H of V)k.emitOne(H)}))})}static{this.EMPTY=a.fromArray([])}constructor(c,k){this.a=i.Initial,this.b=[],this.d=null,this.f=k,this.g=new G.$ne,queueMicrotask(async()=>{const V={emitOne:H=>this.h(H),emitMany:H=>this.j(H),reject:H=>this.l(H)};try{await Promise.resolve(c(V)),this.k()}catch(H){this.l(H)}finally{V.emitOne=void 0,V.emitMany=void 0,V.reject=void 0}})}[Symbol.asyncIterator](){let c=0;return{next:async()=>{do{if(this.a===i.DoneError)throw this.d;if(c<this.b.length)return{done:!1,value:this.b[c++]};if(this.a===i.DoneOK)return{done:!0,value:void 0};await G.Event.toPromise(this.g.event)}while(!0)},return:async()=>(this.f?.(),{done:!0,value:void 0})}}static map(c,k){return new a(async V=>{for await(const H of c)V.emitOne(k(H))})}map(c){return a.map(this,c)}static filter(c,k){return new a(async V=>{for await(const H of c)k(H)&&V.emitOne(H)})}filter(c){return a.filter(this,c)}static coalesce(c){return a.filter(c,k=>!!k)}coalesce(){return a.coalesce(this)}static async toPromise(c){const k=[];for await(const V of c)k.push(V);return k}toPromise(){return a.toPromise(this)}h(c){this.a===i.Initial&&(this.b.push(c),this.g.fire())}j(c){this.a===i.Initial&&(this.b=this.b.concat(c),this.g.fire())}k(){this.a===i.Initial&&(this.a=i.DoneOK,this.g.fire())}l(c){this.a===i.Initial&&(this.a=i.DoneError,this.d=c,this.g.fire())}}e.$7h=a;class D extends a{constructor(c,k){super(k),this.m=c}cancel(){this.m.cancel()}}e.$8h=D;function q(E){const c=new P.$ye,k=E(c.token);return new D(c,async V=>{const H=c.token.onCancellationRequested(()=>{H.dispose(),c.dispose(),V.reject(new b.$8)});try{for await(const te of k){if(c.token.isCancellationRequested)return;V.emitOne(te)}H.dispose(),c.dispose()}catch(te){H.dispose(),c.dispose(),V.reject(te)}})}class se{constructor(c){this.a=new J,this.b=new a(H=>{if(k){H.reject(k);return}return V&&H.emitMany(V),this.d=te=>H.reject(te),this.f=te=>H.emitOne(te),this.a.p},c);let k,V;this.f=H=>{V||(V=[]),V.push(H)},this.d=H=>{k||(k=H)}}get asyncIterable(){return this.b}resolve(){this.a.complete()}reject(c){this.d(c),this.a.complete()}emitOne(c){this.f(c)}}e.$0h=se}),define(he[26],ae([0,1,45,24,2,13,27,5,3,4]),function(ne,e,P,b,G,d,A,R,Q,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$xk=e.$wk=void 0,e.$vk=g,e.$yk=r,e.$zk=Y,e.$Ak=x,e.$Bk=le,e.$Ck=re,e.$Dk=_,e.$Ek=ee;function g(){return Object.create(null)}e.$wk="**",e.$xk="/";const S="[/\\\\]",f="[^/\\\\]",j=/\//g;function w(U,W){switch(U){case 0:return"";case 1:return`${f}*?`;default:return`(?:${S}|${f}+${S}${W?`|${S}${f}+`:""})*?`}}function r(U,W){if(!U)return[];const B=[];let Z=!1,X=!1,J="";for(const ie of U){switch(ie){case W:if(!Z&&!X){B.push(J),J="";continue}break;case"{":Z=!0;break;case"}":Z=!1;break;case"[":X=!0;break;case"]":X=!1;break}J+=ie}return J&&B.push(J),B}function l(U){if(!U)return"";let W="";const B=r(U,e.$xk);if(B.every(Z=>Z===e.$wk))W=".*";else{let Z=!1;B.forEach((X,J)=>{if(X===e.$wk){if(Z)return;W+=w(2,J===B.length-1)}else{let ie=!1,K="",F=!1,i="";for(const a of X){if(a!=="}"&&ie){K+=a;continue}if(F&&(a!=="]"||!i)){let D;a==="-"?D=a:(a==="^"||a==="!")&&!i?D="^":a===e.$xk?D="":D=(0,v.$jf)(a),i+=D;continue}switch(a){case"{":ie=!0;continue;case"[":F=!0;continue;case"}":{const q=`(?:${r(K,",").map(se=>l(se)).join("|")})`;W+=q,ie=!1,K="";break}case"]":{W+="["+i+"]",F=!1,i="";break}case"?":W+=f;continue;case"*":W+=w(1);continue;default:W+=(0,v.$jf)(a)}}J<B.length-1&&(B[J+1]!==e.$wk||J+2<B.length)&&(W+=S)}Z=X===e.$wk})}return W}const u=/^\*\*\/\*\.[\w\.-]+$/,C=/^\*\*\/([\w\.-]+)\/?$/,n=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,s=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,t=/^\*\*((\/[\w\.-]+)+)\/?$/,o=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,h=new A.$Gc(1e4),$=function(){return!1},T=function(){return null};function I(U,W){if(!U)return T;let B;typeof U!="string"?B=U.pattern:B=U,B=B.trim();const Z=`${B}_${!!W.trimForExclusions}`;let X=h.get(Z);if(X)return N(X,U);let J;return u.test(B)?X=m(B.substr(4),B):(J=C.exec(M(B,W)))?X=O(J[1],B):(W.trimForExclusions?s:n).test(B)?X=y(B,W):(J=t.exec(M(B,W)))?X=p(J[1].substr(1),B,!0):(J=o.exec(M(B,W)))?X=p(J[1],B,!1):X=z(B),h.set(Z,X),N(X,U)}function N(U,W){if(typeof W=="string")return U;const B=function(Z,X){return(0,d.$Fg)(Z,W.base,!Q.$k)?U((0,v.$of)(Z.substr(W.base.length),R.sep),X):null};return B.allBasenames=U.allBasenames,B.allPaths=U.allPaths,B.basenames=U.basenames,B.patterns=U.patterns,B}function M(U,W){return W.trimForExclusions&&U.endsWith("/**")?U.substr(0,U.length-2):U}function m(U,W){return function(B,Z){return typeof B=="string"&&B.endsWith(U)?W:null}}function O(U,W){const B=`/${U}`,Z=`\\${U}`,X=function(ie,K){return typeof ie!="string"?null:K?K===U?W:null:ie===U||ie.endsWith(B)||ie.endsWith(Z)?W:null},J=[U];return X.basenames=J,X.patterns=[W],X.allBasenames=J,X}function y(U,W){const B=L(U.slice(1,-1).split(",").map(K=>I(K,W)).filter(K=>K!==T),U),Z=B.length;if(!Z)return T;if(Z===1)return B[0];const X=function(K,F){for(let i=0,a=B.length;i<a;i++)if(B[i](K,F))return U;return null},J=B.find(K=>!!K.allBasenames);J&&(X.allBasenames=J.allBasenames);const ie=B.reduce((K,F)=>F.allPaths?K.concat(F.allPaths):K,[]);return ie.length&&(X.allPaths=ie),X}function p(U,W,B){const Z=R.sep===R.$jc.sep,X=Z?U:U.replace(j,R.sep),J=R.sep+X,ie=R.$jc.sep+U;let K;return B?K=function(F,i){return typeof F=="string"&&(F===X||F.endsWith(J)||!Z&&(F===U||F.endsWith(ie)))?W:null}:K=function(F,i){return typeof F=="string"&&(F===X||!Z&&F===U)?W:null},K.allPaths=[(B?"*/":"./")+U],K}function z(U){try{const W=new RegExp(`^${l(U)}$`);return function(B){return W.lastIndex=0,typeof B=="string"&&W.test(B)?U:null}}catch{return T}}function Y(U,W,B){return!U||typeof W!="string"?!1:x(U)(W,void 0,B)}function x(U,W={}){if(!U)return $;if(typeof U=="string"||le(U)){const B=I(U,W);if(B===T)return $;const Z=function(X,J){return!!B(X,J)};return B.allBasenames&&(Z.allBasenames=B.allBasenames),B.allPaths&&(Z.allPaths=B.allPaths),Z}return oe(U,W)}function le(U){const W=U;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}function re(U){return U.allBasenames||[]}function _(U){return U.allPaths||[]}function oe(U,W){const B=L(Object.getOwnPropertyNames(U).map(K=>ce(K,U[K],W)).filter(K=>K!==T)),Z=B.length;if(!Z)return T;if(!B.some(K=>!!K.requiresSiblings)){if(Z===1)return B[0];const K=function(a,D){let q;for(let se=0,E=B.length;se<E;se++){const c=B[se](a,D);if(typeof c=="string")return c;(0,b.$sh)(c)&&(q||(q=[]),q.push(c))}return q?(async()=>{for(const se of q){const E=await se;if(typeof E=="string")return E}return null})():null},F=B.find(a=>!!a.allBasenames);F&&(K.allBasenames=F.allBasenames);const i=B.reduce((a,D)=>D.allPaths?a.concat(D.allPaths):a,[]);return i.length&&(K.allPaths=i),K}const X=function(K,F,i){let a,D;for(let q=0,se=B.length;q<se;q++){const E=B[q];E.requiresSiblings&&i&&(F||(F=(0,R.$qc)(K)),a||(a=F.substr(0,F.length-(0,R.$rc)(K).length)));const c=E(K,F,a,i);if(typeof c=="string")return c;(0,b.$sh)(c)&&(D||(D=[]),D.push(c))}return D?(async()=>{for(const q of D){const se=await q;if(typeof se=="string")return se}return null})():null},J=B.find(K=>!!K.allBasenames);J&&(X.allBasenames=J.allBasenames);const ie=B.reduce((K,F)=>F.allPaths?K.concat(F.allPaths):K,[]);return ie.length&&(X.allPaths=ie),X}function ce(U,W,B){if(W===!1)return T;const Z=I(U,B);if(Z===T)return T;if(typeof W=="boolean")return Z;if(W){const X=W.when;if(typeof X=="string"){const J=(ie,K,F,i)=>{if(!i||!Z(ie,K))return null;const a=X.replace("$(basename)",()=>F),D=i(a);return(0,b.$sh)(D)?D.then(q=>q?U:null):D?U:null};return J.requiresSiblings=!0,J}}return Z}function L(U,W){const B=U.filter(K=>!!K.basenames);if(B.length<2)return U;const Z=B.reduce((K,F)=>{const i=F.basenames;return i?K.concat(i):K},[]);let X;if(W){X=[];for(let K=0,F=Z.length;K<F;K++)X.push(W)}else X=B.reduce((K,F)=>{const i=F.patterns;return i?K.concat(i):K},[]);const J=function(K,F){if(typeof K!="string")return null;if(!F){let a;for(a=K.length;a>0;a--){const D=K.charCodeAt(a-1);if(D===G.CharCode.Slash||D===G.CharCode.Backslash)break}F=K.substr(a)}const i=Z.indexOf(F);return i!==-1?X[i]:null};J.basenames=Z,J.patterns=X,J.allBasenames=Z;const ie=U.filter(K=>!K.basenames);return ie.push(J),ie}function ee(U,W){return(0,P.$xb)(U,W,(B,Z)=>typeof B=="string"&&typeof Z=="string"?B===Z:typeof B!="string"&&typeof Z!="string"?B.base===Z.base&&B.pattern===Z.pattern:!1)}}),define(he[28],ae([0,1,4,3,7]),function(ne,e,P,b,G){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$bu=void 0,e.$_t=g,e.$au=S,P=de(P),b=de(b),G=de(G);let d;function A(){return d||(d=new TextDecoder("UTF-16LE")),d}let R;function Q(){return R||(R=new TextDecoder("UTF-16BE")),R}let v;function g(){return v||(v=b.$D()?A():Q()),v}function S(w,r,l){const u=new Uint16Array(w.buffer,r,l);return l>0&&(u[0]===65279||u[0]===65534)?f(w,r,l):A().decode(u)}function f(w,r,l){const u=[];let C=0;for(let n=0;n<l;n++){const s=G.$Re(w,r);r+=2,u[C++]=String.fromCharCode(s)}return u.join("")}class j{constructor(r){this.a=r|0,this.b=new Uint16Array(this.a),this.c=null,this.d=0}reset(){this.c=null,this.d=0}build(){return this.c!==null?(this.f(),this.c.join("")):this.e()}e(){if(this.d===0)return"";const r=new Uint16Array(this.b.buffer,0,this.d);return g().decode(r)}f(){const r=this.e();this.d=0,this.c===null?this.c=[r]:this.c[this.c.length]=r}appendCharCode(r){const l=this.a-this.d;l<=1&&(l===0||P.$Lf(r))&&this.f(),this.b[this.d++]=r}appendASCIICharCode(r){this.d===this.a&&this.f(),this.b[this.d++]=r}appendString(r){const l=r.length;if(this.d+l>=this.a){this.f(),this.c[this.c.length]=r;return}for(let u=0;u<l;u++)this.b[this.d++]=r.charCodeAt(u)}}e.$bu=j}),define(he[29],ae([0,1,7,28]),function(ne,e,P,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$cu=void 0,e.$du=A,P=de(P);function G(Q){return Q.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class d{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(v,g,S,f){this.oldPosition=v,this.oldText=g,this.newPosition=S,this.newText=f}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${G(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${G(this.oldText)}")`:`(replace@${this.oldPosition} "${G(this.oldText)}" with "${G(this.newText)}")`}static a(v){return 4+2*v.length}static c(v,g,S){const f=g.length;P.$Ue(v,f,S),S+=4;for(let j=0;j<f;j++)P.$Se(v,g.charCodeAt(j),S),S+=2;return S}static d(v,g){const S=P.$Te(v,g);return g+=4,(0,b.$au)(v,g,S)}writeSize(){return 8+d.a(this.oldText)+d.a(this.newText)}write(v,g){return P.$Ue(v,this.oldPosition,g),g+=4,P.$Ue(v,this.newPosition,g),g+=4,g=d.c(v,this.oldText,g),g=d.c(v,this.newText,g),g}static read(v,g,S){const f=P.$Te(v,g);g+=4;const j=P.$Te(v,g);g+=4;const w=d.d(v,g);g+=d.a(w);const r=d.d(v,g);return g+=d.a(r),S.push(new d(f,w,j,r)),g}}e.$cu=d;function A(Q,v){return Q===null||Q.length===0?v:new R(Q,v).compress()}class R{constructor(v,g){this.a=v,this.c=g,this.d=[],this.e=0,this.f=this.a.length,this.g=0,this.h=this.c.length,this.j=0}compress(){let v=0,g=0,S=this.n(v),f=this.l(g);for(;v<this.f||g<this.h;){if(S===null){this.k(f),f=this.l(++g);continue}if(f===null){this.m(S),S=this.n(++v);continue}if(f.oldEnd<=S.newPosition){this.k(f),f=this.l(++g);continue}if(S.newEnd<=f.oldPosition){this.m(S),S=this.n(++v);continue}if(f.oldPosition<S.newPosition){const[u,C]=R.r(f,S.newPosition-f.oldPosition);this.k(u),f=C;continue}if(S.newPosition<f.oldPosition){const[u,C]=R.q(S,f.oldPosition-S.newPosition);this.m(u),S=C;continue}let r,l;if(f.oldEnd===S.newEnd)r=S,l=f,S=this.n(++v),f=this.l(++g);else if(f.oldEnd<S.newEnd){const[u,C]=R.q(S,f.oldLength);r=u,l=f,S=C,f=this.l(++g)}else{const[u,C]=R.r(f,S.newLength);r=S,l=u,S=this.n(++v),f=C}this.d[this.e++]=new d(r.oldPosition,r.oldText,l.newPosition,l.newText),this.g+=r.newLength-r.oldLength,this.j+=l.newLength-l.oldLength}const j=R.s(this.d);return R.t(j)}k(v){this.d[this.e++]=R.o(this.g,v),this.j+=v.newLength-v.oldLength}l(v){return v<this.h?this.c[v]:null}m(v){this.d[this.e++]=R.p(this.j,v),this.g+=v.newLength-v.oldLength}n(v){return v<this.f?this.a[v]:null}static o(v,g){return new d(g.oldPosition-v,g.oldText,g.newPosition,g.newText)}static p(v,g){return new d(g.oldPosition,g.oldText,g.newPosition+v,g.newText)}static q(v,g){const S=v.newText.substr(0,g),f=v.newText.substr(g);return[new d(v.oldPosition,v.oldText,v.newPosition,S),new d(v.oldEnd,"",v.newPosition+g,f)]}static r(v,g){const S=v.oldText.substr(0,g),f=v.oldText.substr(g);return[new d(v.oldPosition,S,v.newPosition,v.newText),new d(v.oldPosition+g,f,v.newEnd,"")]}static s(v){if(v.length===0)return v;const g=[];let S=0,f=v[0];for(let j=1;j<v.length;j++){const w=v[j];f.oldEnd===w.oldPosition?f=new d(f.oldPosition,f.oldText+w.oldText,f.newPosition,f.newText+w.newText):(g[S++]=f,f=w)}return g[S++]=f,g}static t(v){if(v.length===0)return v;const g=[];let S=0;for(let f=0;f<v.length;f++){const j=v[f];j.oldText!==j.newText&&(g[S++]=j)}return g}}}),define(he[30],ae([0,1,25,4,12,8,11,19,29,10]),function(ne,e,P,b,G,d,A,R,Q,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$lD=void 0,b=de(b);class g extends v.$Xc{constructor(f,j,w,r,l,u,C){super(),this.m=this.B(new P.$ne),this.onDidChangeContent=this.m.event,this.f=j,this.j=!u,this.g=r,this.h=l,this.c=new A.$kD(f,w,C)}equals(f){return!(f instanceof g)||this.f!==f.f||this.getEOL()!==f.getEOL()?!1:this.c.equal(f.c)}mightContainRTL(){return this.g}mightContainUnusualLineTerminators(){return this.h}resetMightContainUnusualLineTerminators(){this.h=!1}mightContainNonBasicASCII(){return this.j}getBOM(){return this.f}getEOL(){return this.c.getEOL()}createSnapshot(f){return this.c.createSnapshot(f?this.f:"")}getOffsetAt(f,j){return this.c.getOffsetAt(f,j)}getPositionAt(f){return this.c.getPositionAt(f)}getRangeAt(f,j){const w=f+j,r=this.getPositionAt(f),l=this.getPositionAt(w);return new G.$Mt(r.lineNumber,r.column,l.lineNumber,l.column)}getValueInRange(f,j=d.EndOfLinePreference.TextDefined){if(f.isEmpty())return"";const w=this.n(j);return this.c.getValueInRange(f,w)}getValueLengthInRange(f,j=d.EndOfLinePreference.TextDefined){if(f.isEmpty())return 0;if(f.startLineNumber===f.endLineNumber)return f.endColumn-f.startColumn;const w=this.getOffsetAt(f.startLineNumber,f.startColumn),r=this.getOffsetAt(f.endLineNumber,f.endColumn);let l=0;const u=this.n(j),C=this.getEOL();if(u.length!==C.length){const n=u.length-C.length,s=f.endLineNumber-f.startLineNumber;l=n*s}return r-w+l}getCharacterCountInRange(f,j=d.EndOfLinePreference.TextDefined){if(this.j){let w=0;const r=f.startLineNumber,l=f.endLineNumber;for(let u=r;u<=l;u++){const C=this.getLineContent(u),n=u===r?f.startColumn-1:0,s=u===l?f.endColumn-1:C.length;for(let t=n;t<s;t++)b.$Lf(C.charCodeAt(t))?(w=w+1,t=t+1):w=w+1}return w+=this.n(j).length*(l-r),w}return this.getValueLengthInRange(f,j)}getNearestChunk(f){return this.c.getNearestChunk(f)}getLength(){return this.c.getLength()}getLineCount(){return this.c.getLineCount()}getLinesContent(){return this.c.getLinesContent()}getLineContent(f){return this.c.getLineContent(f)}getLineCharCode(f,j){return this.c.getLineCharCode(f,j)}getCharCode(f){return this.c.getCharCode(f)}getLineLength(f){return this.c.getLineLength(f)}getLineMinColumn(f){return 1}getLineMaxColumn(f){return this.getLineLength(f)+1}getLineFirstNonWhitespaceColumn(f){const j=b.$wf(this.getLineContent(f));return j===-1?0:j+1}getLineLastNonWhitespaceColumn(f){const j=b.$yf(this.getLineContent(f));return j===-1?0:j+2}n(f){switch(f){case d.EndOfLinePreference.LF:return`
`;case d.EndOfLinePreference.CRLF:return`\r
`;case d.EndOfLinePreference.TextDefined:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(f){this.c.setEOL(f)}applyEdits(f,j,w){let r=this.g,l=this.h,u=this.j,C=!0,n=[];for(let I=0;I<f.length;I++){const N=f[I];C&&N._isTracked&&(C=!1);const M=N.range;if(N.text){let z=!0;u||(z=!b.$Wf(N.text),u=z),!r&&z&&(r=b.$Vf(N.text)),!l&&z&&(l=b.$Yf(N.text))}let m="",O=0,y=0,p=0;if(N.text){let z;[O,y,p,z]=(0,R.$wu)(N.text);const Y=this.getEOL(),x=Y===`\r
`?R.StringEOL.CRLF:R.StringEOL.LF;z===R.StringEOL.Unknown||z===x?m=N.text:m=N.text.replace(/\r\n|\r|\n/g,Y)}n[I]={sortIndex:I,identifier:N.identifier||null,range:M,rangeOffset:this.getOffsetAt(M.startLineNumber,M.startColumn),rangeLength:this.getValueLengthInRange(M),text:m,eolCount:O,firstLineLength:y,lastLineLength:p,forceMoveMarkers:!!N.forceMoveMarkers,isAutoWhitespaceEdit:N.isAutoWhitespaceEdit||!1}}n.sort(g.u);let s=!1;for(let I=0,N=n.length-1;I<N;I++){const M=n[I].range.getEndPosition(),m=n[I+1].range.getStartPosition();if(m.isBeforeOrEqual(M)){if(m.isBefore(M))throw new Error("Overlapping ranges are not allowed!");s=!0}}C&&(n=this.s(n));const t=w||j?g._getInverseEditRanges(n):[],o=[];if(j)for(let I=0;I<n.length;I++){const N=n[I],M=t[I];if(N.isAutoWhitespaceEdit&&N.range.isEmpty())for(let m=M.startLineNumber;m<=M.endLineNumber;m++){let O="";m===M.startLineNumber&&(O=this.getLineContent(N.range.startLineNumber),b.$wf(O)!==-1)||o.push({lineNumber:m,oldContent:O})}}let h=null;if(w){let I=0;h=[];for(let N=0;N<n.length;N++){const M=n[N],m=t[N],O=this.getValueInRange(M.range),y=M.rangeOffset+I;I+=M.text.length-O.length,h[N]={sortIndex:M.sortIndex,identifier:M.identifier,range:m,text:O,textChange:new Q.$cu(M.rangeOffset,O,y,M.text)}}s||h.sort((N,M)=>N.sortIndex-M.sortIndex)}this.g=r,this.h=l,this.j=u;const $=this.t(n);let T=null;if(j&&o.length>0){o.sort((I,N)=>N.lineNumber-I.lineNumber),T=[];for(let I=0,N=o.length;I<N;I++){const M=o[I].lineNumber;if(I>0&&o[I-1].lineNumber===M)continue;const m=o[I].oldContent,O=this.getLineContent(M);O.length===0||O===m||b.$wf(O)!==-1||T.push(M)}}return this.m.fire(),new d.$fw(h,$,T)}s(f){return f.length<1e3?f:[this._toSingleEditOperation(f)]}_toSingleEditOperation(f){let j=!1;const w=f[0].range,r=f[f.length-1].range,l=new G.$Mt(w.startLineNumber,w.startColumn,r.endLineNumber,r.endColumn);let u=w.startLineNumber,C=w.startColumn;const n=[];for(let $=0,T=f.length;$<T;$++){const I=f[$],N=I.range;j=j||I.forceMoveMarkers,n.push(this.getValueInRange(new G.$Mt(u,C,N.startLineNumber,N.startColumn))),I.text.length>0&&n.push(I.text),u=N.endLineNumber,C=N.endColumn}const s=n.join(""),[t,o,h]=(0,R.$wu)(s);return{sortIndex:0,identifier:f[0].identifier,range:l,rangeOffset:this.getOffsetAt(l.startLineNumber,l.startColumn),rangeLength:this.getValueLengthInRange(l,d.EndOfLinePreference.TextDefined),text:s,eolCount:t,firstLineLength:o,lastLineLength:h,forceMoveMarkers:j,isAutoWhitespaceEdit:!1}}t(f){f.sort(g.w);const j=[];for(let w=0;w<f.length;w++){const r=f[w],l=r.range.startLineNumber,u=r.range.startColumn,C=r.range.endLineNumber,n=r.range.endColumn;if(l===C&&u===n&&r.text.length===0)continue;r.text?(this.c.delete(r.rangeOffset,r.rangeLength),this.c.insert(r.rangeOffset,r.text,!0)):this.c.delete(r.rangeOffset,r.rangeLength);const s=new G.$Mt(l,u,C,n);j.push({range:s,rangeLength:r.rangeLength,text:r.text,rangeOffset:r.rangeOffset,forceMoveMarkers:r.forceMoveMarkers})}return j}findMatchesLineByLine(f,j,w,r){return this.c.findMatchesLineByLine(f,j,w,r)}getPieceTree(){return this.c}static _getInverseEditRange(f,j){const w=f.startLineNumber,r=f.startColumn,[l,u,C]=(0,R.$wu)(j);let n;if(j.length>0){const s=l+1;s===1?n=new G.$Mt(w,r,w,r+u):n=new G.$Mt(w,r,w+s-1,C+1)}else n=new G.$Mt(w,r,w,r);return n}static _getInverseEditRanges(f){const j=[];let w=0,r=0,l=null;for(let u=0,C=f.length;u<C;u++){const n=f[u];let s,t;l?l.range.endLineNumber===n.range.startLineNumber?(s=w,t=r+(n.range.startColumn-l.range.endColumn)):(s=w+(n.range.startLineNumber-l.range.endLineNumber),t=n.range.startColumn):(s=n.range.startLineNumber,t=n.range.startColumn);let o;if(n.text.length>0){const h=n.eolCount+1;h===1?o=new G.$Mt(s,t,s,t+n.firstLineLength):o=new G.$Mt(s,t,s+h-1,n.lastLineLength+1)}else o=new G.$Mt(s,t,s,t);w=o.endLineNumber,r=o.endColumn,j.push(o),l=n}return j}static u(f,j){const w=G.$Mt.compareRangesUsingEnds(f.range,j.range);return w===0?f.sortIndex-j.sortIndex:w}static w(f,j){const w=G.$Mt.compareRangesUsingEnds(f.range,j.range);return w===0?j.sortIndex-f.sortIndex:-w}}e.$lD=g}),define(he[31],ae([0,1,2,4,8,11,30]),function(ne,e,P,b,G,d,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$mD=void 0,b=de(b);class R{constructor(g,S,f,j,w,r,l,u,C){this.a=g,this.b=S,this.c=f,this.d=j,this.e=w,this.f=r,this.g=l,this.h=u,this.j=C}k(g){const S=this.c+this.d+this.e,f=this.c+this.e;return S===0?g===G.DefaultEndOfLine.LF?`
`:`\r
`:f>S/2?`\r
`:`
`}create(g){const S=this.k(g),f=this.a;if(this.j&&(S===`\r
`&&(this.c>0||this.d>0)||S===`
`&&(this.c>0||this.e>0)))for(let w=0,r=f.length;w<r;w++){const l=f[w].buffer.replace(/\r\n|\r|\n/g,S),u=(0,d.$gD)(l);f[w]=new d.$jD(l,u)}const j=new A.$lD(f,this.b,S,this.f,this.g,this.h,this.j);return{textBuffer:j,disposable:j}}getFirstLineText(g){return this.a[0].buffer.substr(0,g).split(/\r\n|\r|\n/)[0]}}class Q{constructor(){this.a=[],this.b="",this.c=!1,this.d=0,this.e=[],this.f=0,this.g=0,this.h=0,this.j=!1,this.k=!1,this.l=!0}acceptChunk(g){if(g.length===0)return;this.a.length===0&&b.$7f(g)&&(this.b=b.$6f,g=g.substr(1));const S=g.charCodeAt(g.length-1);S===P.CharCode.CarriageReturn||S>=55296&&S<=56319?(this.m(g.substr(0,g.length-1),!1),this.c=!0,this.d=S):(this.m(g,!1),this.c=!1,this.d=S)}m(g,S){!S&&g.length===0||(this.c?this.n(String.fromCharCode(this.d)+g):this.n(g))}n(g){const S=(0,d.$hD)(this.e,g);this.a.push(new d.$jD(g,S.lineStarts)),this.f+=S.cr,this.g+=S.lf,this.h+=S.crlf,S.isBasicASCII||(this.l=!1,this.j||(this.j=b.$Vf(g)),this.k||(this.k=b.$Yf(g)))}finish(g=!0){return this.o(),new R(this.a,this.b,this.f,this.g,this.h,this.j,this.k,this.l,g)}o(){if(this.a.length===0&&this.m("",!0),this.c){this.c=!1;const g=this.a[this.a.length-1];g.buffer+=String.fromCharCode(this.d);const S=(0,d.$gD)(g.buffer);g.lineStarts=S,this.d===P.CharCode.CarriageReturn&&this.f++}}}e.$mD=Q}),define(he[32],ae([33,34]),function(ne,e){return ne.create("vs/platform/contextkey/common/contextkey",e)}),define(he[35],ae([33,34]),function(ne,e){return ne.create("vs/platform/contextkey/common/scanner",e)}),define(he[36],ae([0,1,2,6,35]),function(ne,e,P,b,G){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Bj=e.TokenType=void 0;var d;(function(g){g[g.LParen=0]="LParen",g[g.RParen=1]="RParen",g[g.Neg=2]="Neg",g[g.Eq=3]="Eq",g[g.NotEq=4]="NotEq",g[g.Lt=5]="Lt",g[g.LtEq=6]="LtEq",g[g.Gt=7]="Gt",g[g.GtEq=8]="GtEq",g[g.RegexOp=9]="RegexOp",g[g.RegexStr=10]="RegexStr",g[g.True=11]="True",g[g.False=12]="False",g[g.In=13]="In",g[g.Not=14]="Not",g[g.And=15]="And",g[g.Or=16]="Or",g[g.Str=17]="Str",g[g.QuotedStr=18]="QuotedStr",g[g.Error=19]="Error",g[g.EOF=20]="EOF"})(d||(e.TokenType=d={}));function A(...g){switch(g.length){case 1:return(0,G.localize)(0,null,g[0]);case 2:return(0,G.localize)(1,null,g[0],g[1]);case 3:return(0,G.localize)(2,null,g[0],g[1],g[2]);default:return}}const R=(0,G.localize)(3,null),Q=(0,G.localize)(4,null);class v{constructor(){this.c="",this.d=0,this.e=0,this.f=[],this.g=[],this.m=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(S){switch(S.type){case d.LParen:return"(";case d.RParen:return")";case d.Neg:return"!";case d.Eq:return S.isTripleEq?"===":"==";case d.NotEq:return S.isTripleEq?"!==":"!=";case d.Lt:return"<";case d.LtEq:return"<=";case d.Gt:return">=";case d.GtEq:return">=";case d.RegexOp:return"=~";case d.RegexStr:return S.lexeme;case d.True:return"true";case d.False:return"false";case d.In:return"in";case d.Not:return"not";case d.And:return"&&";case d.Or:return"||";case d.Str:return S.lexeme;case d.QuotedStr:return S.lexeme;case d.Error:return S.lexeme;case d.EOF:return"EOF";default:throw(0,b.$$)(`unhandled token type: ${JSON.stringify(S)}; have you forgotten to add a case?`)}}static{this.a=new Set(["i","g","s","m","y","u"].map(S=>S.charCodeAt(0)))}static{this.b=new Map([["not",d.Not],["in",d.In],["false",d.False],["true",d.True]])}get errors(){return this.g}reset(S){return this.c=S,this.d=0,this.e=0,this.f=[],this.g=[],this}scan(){for(;!this.r();)switch(this.d=this.e,this.i()){case P.CharCode.OpenParen:this.k(d.LParen);break;case P.CharCode.CloseParen:this.k(d.RParen);break;case P.CharCode.ExclamationMark:if(this.h(P.CharCode.Equals)){const f=this.h(P.CharCode.Equals);this.f.push({type:d.NotEq,offset:this.d,isTripleEq:f})}else this.k(d.Neg);break;case P.CharCode.SingleQuote:this.o();break;case P.CharCode.Slash:this.q();break;case P.CharCode.Equals:if(this.h(P.CharCode.Equals)){const f=this.h(P.CharCode.Equals);this.f.push({type:d.Eq,offset:this.d,isTripleEq:f})}else this.h(P.CharCode.Tilde)?this.k(d.RegexOp):this.l(A("==","=~"));break;case P.CharCode.LessThan:this.k(this.h(P.CharCode.Equals)?d.LtEq:d.Lt);break;case P.CharCode.GreaterThan:this.k(this.h(P.CharCode.Equals)?d.GtEq:d.Gt);break;case P.CharCode.Ampersand:this.h(P.CharCode.Ampersand)?this.k(d.And):this.l(A("&&"));break;case P.CharCode.Pipe:this.h(P.CharCode.Pipe)?this.k(d.Or):this.l(A("||"));break;case P.CharCode.Space:case P.CharCode.CarriageReturn:case P.CharCode.Tab:case P.CharCode.LineFeed:case P.CharCode.NoBreakSpace:break;default:this.n()}return this.d=this.e,this.k(d.EOF),Array.from(this.f)}h(S){return this.r()||this.c.charCodeAt(this.e)!==S?!1:(this.e++,!0)}i(){return this.c.charCodeAt(this.e++)}j(){return this.r()?P.CharCode.Null:this.c.charCodeAt(this.e)}k(S){this.f.push({type:S,offset:this.d})}l(S){const f=this.d,j=this.c.substring(this.d,this.e),w={type:d.Error,offset:this.d,lexeme:j};this.g.push({offset:f,lexeme:j,additionalInfo:S}),this.f.push(w)}n(){this.m.lastIndex=this.d;const S=this.m.exec(this.c);if(S){this.e=this.d+S[0].length;const f=this.c.substring(this.d,this.e),j=v.b.get(f);j?this.k(j):this.f.push({type:d.Str,lexeme:f,offset:this.d})}}o(){for(;this.j()!==P.CharCode.SingleQuote&&!this.r();)this.i();if(this.r()){this.l(R);return}this.i(),this.f.push({type:d.QuotedStr,lexeme:this.c.substring(this.d+1,this.e-1),offset:this.d+1})}q(){let S=this.e,f=!1,j=!1;for(;;){if(S>=this.c.length){this.e=S,this.l(Q);return}const r=this.c.charCodeAt(S);if(f)f=!1;else if(r===P.CharCode.Slash&&!j){S++;break}else r===P.CharCode.OpenSquareBracket?j=!0:r===P.CharCode.Backslash?f=!0:r===P.CharCode.CloseSquareBracket&&(j=!1);S++}for(;S<this.c.length&&v.a.has(this.c.charCodeAt(S));)S++;this.e=S;const w=this.c.substring(this.d,this.e);this.f.push({type:d.RegexStr,lexeme:w,offset:this.d})}r(){return this.e>=this.c.length}}e.$Bj=v}),define(he[37],ae([0,1]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Di=void 0;class P{constructor(G,d=[],A=!1){this.ctor=G,this.staticArguments=d,this.supportsDelayedInstantiation=A}}e.$Di=P}),define(he[38],ae([0,1,37]),function(ne,e,P){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InstantiationType=void 0,e.$Ps=d,e.$Qs=A;const b=[];var G;(function(R){R[R.Eager=0]="Eager",R[R.Delayed=1]="Delayed"})(G||(e.InstantiationType=G={}));function d(R,Q,v){Q instanceof P.$Di||(Q=new P.$Di(Q,[],!!v)),b.push([R,Q])}function A(){return b}}),define(he[15],ae([0,1]),function(ne,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Fi=e._util=void 0,e.$Gi=G,e.$Hi=d;var P;(function(A){A.serviceIds=new Map,A.DI_TARGET="$di$target",A.DI_DEPENDENCIES="$di$dependencies";function R(Q){return Q[A.DI_DEPENDENCIES]||[]}A.getServiceDependencies=R})(P||(e._util=P={})),e.$Fi=G("instantiationService");function b(A,R,Q){R[P.DI_TARGET]===R?R[P.DI_DEPENDENCIES].push({id:A,index:Q}):(R[P.DI_DEPENDENCIES]=[{id:A,index:Q}],R[P.DI_TARGET]=R)}function G(A){if(P.serviceIds.has(A))return P.serviceIds.get(A);const R=function(Q,v,g){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");b(R,Q,g)};return R.toString=()=>A,P.serviceIds.set(A,R),R}function d(A){return A}}),define(he[39],ae([0,1,2,3,4,36,15,32,6]),function(ne,e,P,b,G,d,A,R,Q){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$Yj=e.$Xj=e.$Wj=e.$Vj=e.$Uj=e.$Tj=e.$Sj=e.$Rj=e.$Qj=e.$Pj=e.$Oj=e.$Nj=e.$Mj=e.$Lj=e.$Kj=e.$Jj=e.$Ij=e.$Hj=e.$Ej=e.$Dj=e.ContextKeyExprType=void 0,e.$Cj=g,e.$Fj=$,e.$Gj=T,e.$Zj=J;const v=new Map;v.set("false",!1),v.set("true",!0),v.set("isMac",b.$j),v.set("isLinux",b.$k),v.set("isWindows",b.$i),v.set("isWeb",b.$o),v.set("isMacNative",b.$j&&!b.$o),v.set("isEdge",b.$H),v.set("isFirefox",b.$F),v.set("isChrome",b.$E),v.set("isSafari",b.$G);function g(F,i){if(v.get(F)!==void 0)throw(0,Q.$0)("contextkey.setConstant(k, v) invoked with already set constant `k`");v.set(F,i)}const S=Object.prototype.hasOwnProperty;var f;(function(F){F[F.False=0]="False",F[F.True=1]="True",F[F.Defined=2]="Defined",F[F.Not=3]="Not",F[F.Equals=4]="Equals",F[F.NotEquals=5]="NotEquals",F[F.And=6]="And",F[F.Regex=7]="Regex",F[F.NotRegex=8]="NotRegex",F[F.Or=9]="Or",F[F.In=10]="In",F[F.NotIn=11]="NotIn",F[F.Greater=12]="Greater",F[F.GreaterEquals=13]="GreaterEquals",F[F.Smaller=14]="Smaller",F[F.SmallerEquals=15]="SmallerEquals"})(f||(e.ContextKeyExprType=f={}));const j={regexParsingWithErrorRecovery:!0},w=(0,R.localize)(0,null),r=(0,R.localize)(1,null),l=(0,R.localize)(2,null),u=(0,R.localize)(3,null),C=(0,R.localize)(4,null),n=(0,R.localize)(5,null),s=(0,R.localize)(6,null),t=(0,R.localize)(7,null);class o{static{this.c=new Error}get lexingErrors(){return this.d.errors}get parsingErrors(){return this.h}constructor(i=j){this.k=i,this.d=new d.$Bj,this.f=[],this.g=0,this.h=[],this.v=/g|y/g}parse(i){if(i===""){this.h.push({message:w,offset:0,lexeme:"",additionalInfo:r});return}this.f=this.d.reset(i).scan(),this.g=0,this.h=[];try{const a=this.l();if(!this.E()){const D=this.D(),q=D.type===d.TokenType.Str?n:void 0;throw this.h.push({message:C,offset:D.offset,lexeme:d.$Bj.getLexeme(D),additionalInfo:q}),o.c}return a}catch(a){if(a!==o.c)throw a;return}}l(){return this.m()}m(){const i=[this.o()];for(;this.y(d.TokenType.Or);){const a=this.o();i.push(a)}return i.length===1?i[0]:h.or(...i)}o(){const i=[this.s()];for(;this.y(d.TokenType.And);){const a=this.s();i.push(a)}return i.length===1?i[0]:h.and(...i)}s(){if(this.y(d.TokenType.Neg)){const i=this.D();switch(i.type){case d.TokenType.True:return this.z(),N.INSTANCE;case d.TokenType.False:return this.z(),M.INSTANCE;case d.TokenType.LParen:{this.z();const a=this.l();return this.A(d.TokenType.RParen,u),a?.negate()}case d.TokenType.Str:return this.z(),Y.create(i.lexeme);default:throw this.B("KEY | true | false | '(' expression ')'",i)}}return this.t()}t(){const i=this.D();switch(i.type){case d.TokenType.True:return this.z(),h.true();case d.TokenType.False:return this.z(),h.false();case d.TokenType.LParen:{this.z();const a=this.l();return this.A(d.TokenType.RParen,u),a}case d.TokenType.Str:{const a=i.lexeme;if(this.z(),this.y(d.TokenType.RegexOp)){const q=this.D();if(!this.k.regexParsingWithErrorRecovery){if(this.z(),q.type!==d.TokenType.RegexStr)throw this.B("REGEX",q);const se=q.lexeme,E=se.lastIndexOf("/"),c=E===se.length-1?void 0:this.w(se.substring(E+1));let k;try{k=new RegExp(se.substring(1,E),c)}catch{throw this.B("REGEX",q)}return ce.create(a,k)}switch(q.type){case d.TokenType.RegexStr:case d.TokenType.Error:{const se=[q.lexeme];this.z();let E=this.D(),c=0;for(let ue=0;ue<q.lexeme.length;ue++)q.lexeme.charCodeAt(ue)===P.CharCode.OpenParen?c++:q.lexeme.charCodeAt(ue)===P.CharCode.CloseParen&&c--;for(;!this.E()&&E.type!==d.TokenType.And&&E.type!==d.TokenType.Or;){switch(E.type){case d.TokenType.LParen:c++;break;case d.TokenType.RParen:c--;break;case d.TokenType.RegexStr:case d.TokenType.QuotedStr:for(let ue=0;ue<E.lexeme.length;ue++)E.lexeme.charCodeAt(ue)===P.CharCode.OpenParen?c++:q.lexeme.charCodeAt(ue)===P.CharCode.CloseParen&&c--}if(c<0)break;se.push(d.$Bj.getLexeme(E)),this.z(),E=this.D()}const k=se.join(""),V=k.lastIndexOf("/"),H=V===k.length-1?void 0:this.w(k.substring(V+1));let te;try{te=new RegExp(k.substring(1,V),H)}catch{throw this.B("REGEX",q)}return h.regex(a,te)}case d.TokenType.QuotedStr:{const se=q.lexeme;this.z();let E=null;if(!(0,G.$ef)(se)){const c=se.indexOf("/"),k=se.lastIndexOf("/");if(c!==k&&c>=0){const V=se.slice(c+1,k),H=se[k+1]==="i"?"i":"";try{E=new RegExp(V,H)}catch{throw this.B("REGEX",q)}}}if(E===null)throw this.B("REGEX",q);return ce.create(a,E)}default:throw this.B("REGEX",this.D())}}if(this.y(d.TokenType.Not)){this.A(d.TokenType.In,l);const q=this.u();return h.notIn(a,q)}switch(this.D().type){case d.TokenType.Eq:{this.z();const q=this.u();if(this.x().type===d.TokenType.QuotedStr)return h.equals(a,q);switch(q){case"true":return h.has(a);case"false":return h.not(a);default:return h.equals(a,q)}}case d.TokenType.NotEq:{this.z();const q=this.u();if(this.x().type===d.TokenType.QuotedStr)return h.notEquals(a,q);switch(q){case"true":return h.not(a);case"false":return h.has(a);default:return h.notEquals(a,q)}}case d.TokenType.Lt:return this.z(),_.create(a,this.u());case d.TokenType.LtEq:return this.z(),oe.create(a,this.u());case d.TokenType.Gt:return this.z(),le.create(a,this.u());case d.TokenType.GtEq:return this.z(),re.create(a,this.u());case d.TokenType.In:return this.z(),h.in(a,this.u());default:return h.has(a)}}case d.TokenType.EOF:throw this.h.push({message:s,offset:i.offset,lexeme:"",additionalInfo:t}),o.c;default:throw this.B(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this.D())}}u(){const i=this.D();switch(i.type){case d.TokenType.Str:case d.TokenType.QuotedStr:return this.z(),i.lexeme;case d.TokenType.True:return this.z(),"true";case d.TokenType.False:return this.z(),"false";case d.TokenType.In:return this.z(),"in";default:return""}}w(i){return i.replaceAll(this.v,"")}x(){return this.f[this.g-1]}y(i){return this.C(i)?(this.z(),!0):!1}z(){return this.E()||this.g++,this.x()}A(i,a){if(this.C(i))return this.z();throw this.B(a,this.D())}B(i,a,D){const q=(0,R.localize)(8,null,i,d.$Bj.getLexeme(a)),se=a.offset,E=d.$Bj.getLexeme(a);return this.h.push({message:q,offset:se,lexeme:E,additionalInfo:D}),o.c}C(i){return this.D().type===i}D(){return this.f[this.g]}E(){return this.D().type===d.TokenType.EOF}}e.$Dj=o;class h{static false(){return N.INSTANCE}static true(){return M.INSTANCE}static has(i){return m.create(i)}static equals(i,a){return O.create(i,a)}static notEquals(i,a){return z.create(i,a)}static regex(i,a){return ce.create(i,a)}static in(i,a){return y.create(i,a)}static notIn(i,a){return p.create(i,a)}static not(i){return Y.create(i)}static and(...i){return U.create(i,null,!0)}static or(...i){return W.create(i,null,!0)}static greater(i,a){return le.create(i,a)}static greaterEquals(i,a){return re.create(i,a)}static smaller(i,a){return _.create(i,a)}static smallerEquals(i,a){return oe.create(i,a)}static{this.c=new o({regexParsingWithErrorRecovery:!1})}static deserialize(i){return i==null?void 0:this.c.parse(i)}}e.$Ej=h;function $(F){const i=new o({regexParsingWithErrorRecovery:!1});return F.map(a=>(i.parse(a),i.lexingErrors.length>0?i.lexingErrors.map(D=>({errorMessage:D.additionalInfo?(0,R.localize)(9,null,D.additionalInfo):(0,R.localize)(10,null),offset:D.offset,length:D.lexeme.length})):i.parsingErrors.length>0?i.parsingErrors.map(D=>({errorMessage:D.additionalInfo?`${D.message}. ${D.additionalInfo}`:D.message,offset:D.offset,length:D.lexeme.length})):[]))}function T(F,i){const a=F?F.substituteConstants():void 0,D=i?i.substituteConstants():void 0;return!a&&!D?!0:!a||!D?!1:a.equals(D)}function I(F,i){return F.cmp(i)}class N{static{this.INSTANCE=new N}constructor(){this.type=f.False}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!1}serialize(){return"false"}keys(){return[]}map(i){return this}negate(){return M.INSTANCE}}e.$Hj=N;class M{static{this.INSTANCE=new M}constructor(){this.type=f.True}cmp(i){return this.type-i.type}equals(i){return i.type===this.type}substituteConstants(){return this}evaluate(i){return!0}serialize(){return"true"}keys(){return[]}map(i){return this}negate(){return N.INSTANCE}}e.$Ij=M;class m{static create(i,a=null){const D=v.get(i);return typeof D=="boolean"?D?M.INSTANCE:N.INSTANCE:new m(i,a)}constructor(i,a){this.key=i,this.c=a,this.type=f.Defined}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.key,i.key)}equals(i){return i.type===this.type?this.key===i.key:!1}substituteConstants(){const i=v.get(this.key);return typeof i=="boolean"?i?M.INSTANCE:N.INSTANCE:this}evaluate(i){return!!i.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}map(i){return i.mapDefined(this.key)}negate(){return this.c||(this.c=Y.create(this.key,this)),this.c}}e.$Jj=m;class O{static create(i,a,D=null){if(typeof a=="boolean")return a?m.create(i,D):Y.create(i,D);const q=v.get(i);return typeof q=="boolean"?a===(q?"true":"false")?M.INSTANCE:N.INSTANCE:new O(i,a,D)}constructor(i,a,D){this.c=i,this.d=a,this.f=D,this.type=f.Equals}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=v.get(this.c);if(typeof i=="boolean"){const a=i?"true":"false";return this.d===a?M.INSTANCE:N.INSTANCE}return this}evaluate(i){return i.getValue(this.c)==this.d}serialize(){return`${this.c} == '${this.d}'`}keys(){return[this.c]}map(i){return i.mapEquals(this.c,this.d)}negate(){return this.f||(this.f=z.create(this.c,this.d,this)),this.f}}e.$Kj=O;class y{static create(i,a){return new y(i,a)}constructor(i,a){this.d=i,this.f=a,this.type=f.In,this.c=null}cmp(i){return i.type!==this.type?this.type-i.type:X(this.d,this.f,i.d,i.f)}equals(i){return i.type===this.type?this.d===i.d&&this.f===i.f:!1}substituteConstants(){return this}evaluate(i){const a=i.getValue(this.f),D=i.getValue(this.d);return Array.isArray(a)?a.includes(D):typeof D=="string"&&typeof a=="object"&&a!==null?S.call(a,D):!1}serialize(){return`${this.d} in '${this.f}'`}keys(){return[this.d,this.f]}map(i){return i.mapIn(this.d,this.f)}negate(){return this.c||(this.c=p.create(this.d,this.f)),this.c}}e.$Lj=y;class p{static create(i,a){return new p(i,a)}constructor(i,a){this.d=i,this.f=a,this.type=f.NotIn,this.c=y.create(i,a)}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`${this.d} not in '${this.f}'`}keys(){return this.c.keys()}map(i){return i.mapNotIn(this.d,this.f)}negate(){return this.c}}e.$Mj=p;class z{static create(i,a,D=null){if(typeof a=="boolean")return a?Y.create(i,D):m.create(i,D);const q=v.get(i);return typeof q=="boolean"?a===(q?"true":"false")?N.INSTANCE:M.INSTANCE:new z(i,a,D)}constructor(i,a,D){this.c=i,this.d=a,this.f=D,this.type=f.NotEquals}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){const i=v.get(this.c);if(typeof i=="boolean"){const a=i?"true":"false";return this.d===a?N.INSTANCE:M.INSTANCE}return this}evaluate(i){return i.getValue(this.c)!=this.d}serialize(){return`${this.c} != '${this.d}'`}keys(){return[this.c]}map(i){return i.mapNotEquals(this.c,this.d)}negate(){return this.f||(this.f=O.create(this.c,this.d,this)),this.f}}e.$Nj=z;class Y{static create(i,a=null){const D=v.get(i);return typeof D=="boolean"?D?N.INSTANCE:M.INSTANCE:new Y(i,a)}constructor(i,a){this.c=i,this.d=a,this.type=f.Not}cmp(i){return i.type!==this.type?this.type-i.type:Z(this.c,i.c)}equals(i){return i.type===this.type?this.c===i.c:!1}substituteConstants(){const i=v.get(this.c);return typeof i=="boolean"?i?N.INSTANCE:M.INSTANCE:this}evaluate(i){return!i.getValue(this.c)}serialize(){return`!${this.c}`}keys(){return[this.c]}map(i){return i.mapNot(this.c)}negate(){return this.d||(this.d=m.create(this.c,this)),this.d}}e.$Oj=Y;function x(F,i){if(typeof F=="string"){const a=parseFloat(F);isNaN(a)||(F=a)}return typeof F=="string"||typeof F=="number"?i(F):N.INSTANCE}class le{static create(i,a,D=null){return x(a,q=>new le(i,q,D))}constructor(i,a,D){this.c=i,this.d=a,this.f=D,this.type=f.Greater}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>this.d}serialize(){return`${this.c} > ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreater(this.c,this.d)}negate(){return this.f||(this.f=oe.create(this.c,this.d,this)),this.f}}e.$Pj=le;class re{static create(i,a,D=null){return x(a,q=>new re(i,q,D))}constructor(i,a,D){this.c=i,this.d=a,this.f=D,this.type=f.GreaterEquals}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))>=this.d}serialize(){return`${this.c} >= ${this.d}`}keys(){return[this.c]}map(i){return i.mapGreaterEquals(this.c,this.d)}negate(){return this.f||(this.f=_.create(this.c,this.d,this)),this.f}}e.$Qj=re;class _{static create(i,a,D=null){return x(a,q=>new _(i,q,D))}constructor(i,a,D){this.c=i,this.d=a,this.f=D,this.type=f.Smaller}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<this.d}serialize(){return`${this.c} < ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmaller(this.c,this.d)}negate(){return this.f||(this.f=re.create(this.c,this.d,this)),this.f}}e.$Rj=_;class oe{static create(i,a,D=null){return x(a,q=>new oe(i,q,D))}constructor(i,a,D){this.c=i,this.d=a,this.f=D,this.type=f.SmallerEquals}cmp(i){return i.type!==this.type?this.type-i.type:X(this.c,this.d,i.c,i.d)}equals(i){return i.type===this.type?this.c===i.c&&this.d===i.d:!1}substituteConstants(){return this}evaluate(i){return typeof this.d=="string"?!1:parseFloat(i.getValue(this.c))<=this.d}serialize(){return`${this.c} <= ${this.d}`}keys(){return[this.c]}map(i){return i.mapSmallerEquals(this.c,this.d)}negate(){return this.f||(this.f=le.create(this.c,this.d,this)),this.f}}e.$Sj=oe;class ce{static create(i,a){return new ce(i,a)}constructor(i,a){this.d=i,this.f=a,this.type=f.Regex,this.c=null}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.d<i.d)return-1;if(this.d>i.d)return 1;const a=this.f?this.f.source:"",D=i.f?i.f.source:"";return a<D?-1:a>D?1:0}equals(i){if(i.type===this.type){const a=this.f?this.f.source:"",D=i.f?i.f.source:"";return this.d===i.d&&a===D}return!1}substituteConstants(){return this}evaluate(i){const a=i.getValue(this.d);return this.f?this.f.test(a):!1}serialize(){const i=this.f?`/${this.f.source}/${this.f.flags}`:"/invalid/";return`${this.d} =~ ${i}`}keys(){return[this.d]}map(i){return i.mapRegex(this.d,this.f)}negate(){return this.c||(this.c=L.create(this)),this.c}}e.$Tj=ce;class L{static create(i){return new L(i)}constructor(i){this.c=i,this.type=f.NotRegex}cmp(i){return i.type!==this.type?this.type-i.type:this.c.cmp(i.c)}equals(i){return i.type===this.type?this.c.equals(i.c):!1}substituteConstants(){return this}evaluate(i){return!this.c.evaluate(i)}serialize(){return`!(${this.c.serialize()})`}keys(){return this.c.keys()}map(i){return new L(this.c.map(i))}negate(){return this.c}}e.$Uj=L;function ee(F){let i=null;for(let a=0,D=F.length;a<D;a++){const q=F[a].substituteConstants();if(F[a]!==q&&i===null){i=[];for(let se=0;se<a;se++)i[se]=F[se]}i!==null&&(i[a]=q)}return i===null?F:i}class U{static create(i,a,D){return U.d(i,a,D)}constructor(i,a){this.expr=i,this.c=a,this.type=f.And}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let a=0,D=this.expr.length;a<D;a++){const q=I(this.expr[a],i.expr[a]);if(q!==0)return q}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let a=0,D=this.expr.length;a<D;a++)if(!this.expr[a].equals(i.expr[a]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:U.create(i,this.c,!1)}evaluate(i){for(let a=0,D=this.expr.length;a<D;a++)if(!this.expr[a].evaluate(i))return!1;return!0}static d(i,a,D){const q=[];let se=!1;for(const E of i)if(E){if(E.type===f.True){se=!0;continue}if(E.type===f.False)return N.INSTANCE;if(E.type===f.And){q.push(...E.expr);continue}q.push(E)}if(q.length===0&&se)return M.INSTANCE;if(q.length!==0){if(q.length===1)return q[0];q.sort(I);for(let E=1;E<q.length;E++)q[E-1].equals(q[E])&&(q.splice(E,1),E--);if(q.length===1)return q[0];for(;q.length>1;){const E=q[q.length-1];if(E.type!==f.Or)break;q.pop();const c=q.pop(),k=q.length===0,V=W.create(E.expr.map(H=>U.create([H,c],null,D)),null,k);V&&(q.push(V),q.sort(I))}if(q.length===1)return q[0];if(D){for(let E=0;E<q.length;E++)for(let c=E+1;c<q.length;c++)if(q[E].negate().equals(q[c]))return N.INSTANCE;if(q.length===1)return q[0]}return new U(q,a)}}serialize(){return this.expr.map(i=>i.serialize()).join(" && ")}keys(){const i=[];for(const a of this.expr)i.push(...a.keys());return i}map(i){return new U(this.expr.map(a=>a.map(i)),null)}negate(){if(!this.c){const i=[];for(const a of this.expr)i.push(a.negate());this.c=W.create(i,this,!0)}return this.c}}e.$Vj=U;class W{static create(i,a,D){return W.d(i,a,D)}constructor(i,a){this.expr=i,this.c=a,this.type=f.Or}cmp(i){if(i.type!==this.type)return this.type-i.type;if(this.expr.length<i.expr.length)return-1;if(this.expr.length>i.expr.length)return 1;for(let a=0,D=this.expr.length;a<D;a++){const q=I(this.expr[a],i.expr[a]);if(q!==0)return q}return 0}equals(i){if(i.type===this.type){if(this.expr.length!==i.expr.length)return!1;for(let a=0,D=this.expr.length;a<D;a++)if(!this.expr[a].equals(i.expr[a]))return!1;return!0}return!1}substituteConstants(){const i=ee(this.expr);return i===this.expr?this:W.create(i,this.c,!1)}evaluate(i){for(let a=0,D=this.expr.length;a<D;a++)if(this.expr[a].evaluate(i))return!0;return!1}static d(i,a,D){let q=[],se=!1;if(i){for(let E=0,c=i.length;E<c;E++){const k=i[E];if(k){if(k.type===f.False){se=!0;continue}if(k.type===f.True)return M.INSTANCE;if(k.type===f.Or){q=q.concat(k.expr);continue}q.push(k)}}if(q.length===0&&se)return N.INSTANCE;q.sort(I)}if(q.length!==0){if(q.length===1)return q[0];for(let E=1;E<q.length;E++)q[E-1].equals(q[E])&&(q.splice(E,1),E--);if(q.length===1)return q[0];if(D){for(let E=0;E<q.length;E++)for(let c=E+1;c<q.length;c++)if(q[E].negate().equals(q[c]))return M.INSTANCE;if(q.length===1)return q[0]}return new W(q,a)}}serialize(){return this.expr.map(i=>i.serialize()).join(" || ")}keys(){const i=[];for(const a of this.expr)i.push(...a.keys());return i}map(i){return new W(this.expr.map(a=>a.map(i)),null)}negate(){if(!this.c){const i=[];for(const a of this.expr)i.push(a.negate());for(;i.length>1;){const a=i.shift(),D=i.shift(),q=[];for(const se of K(a))for(const E of K(D))q.push(U.create([se,E],null,!1));i.unshift(W.create(q,null,!1))}this.c=W.create(i,this,!0)}return this.c}}e.$Wj=W;class B extends m{static{this.d=[]}static all(){return B.d.values()}constructor(i,a,D){super(i,null),this.f=a,typeof D=="object"?B.d.push({...D,key:i}):D!==!0&&B.d.push({key:i,description:D,type:a!=null?typeof a:void 0})}bindTo(i){return i.createKey(this.key,this.f)}getValue(i){return i.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(i){return O.create(this.key,i)}notEqualsTo(i){return z.create(this.key,i)}}e.$Xj=B,e.$Yj=(0,A.$Gi)("contextKeyService");function Z(F,i){return F<i?-1:F>i?1:0}function X(F,i,a,D){return F<a?-1:F>a?1:i<D?-1:i>D?1:0}function J(F,i){if(F.type===f.False||i.type===f.True)return!0;if(F.type===f.Or)return i.type===f.Or?ie(F.expr,i.expr):!1;if(i.type===f.Or){for(const a of i.expr)if(J(F,a))return!0;return!1}if(F.type===f.And){if(i.type===f.And)return ie(i.expr,F.expr);for(const a of F.expr)if(J(a,i))return!0;return!1}return F.equals(i)}function ie(F,i){let a=0,D=0;for(;a<F.length&&D<i.length;){const q=F[a].cmp(i[D]);if(q<0)return!1;q===0&&a++,D++}return a===F.length}function K(F){return F.type===f.Or?F.expr:[F]}}),define(he[40],ae([0,1,7,27,9,38,15]),function(ne,e,P,b,G,d,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$hL=e.$eL=void 0,e.$fL=g,e.$gL=S,e.$eL=(0,A.$Gi)("notebookDocumentService");const R=["W","X","Y","Z","a","b","c","d","e","f"],Q=new RegExp(`^[${R.join("")}]+`),v=7;function g(j){if(j.scheme!==G.Schemas.vscodeNotebookCell)return;const w=j.fragment.indexOf("s");if(w<0)return;const r=parseInt(j.fragment.substring(0,w).replace(Q,""),v),l=(0,P.$9e)(j.fragment.substring(w+1)).toString();if(!isNaN(r))return{handle:r,notebook:j.with({scheme:l,fragment:null})}}function S(j,w){const r=w.toString(v),u=`${r.length<R.length?R[r.length-1]:"z"}${r}s${(0,P.$0e)(P.$Pe.fromString(j.scheme),!0,!0)}`;return j.with({scheme:G.Schemas.vscodeNotebookCell,fragment:u})}class f{constructor(){this.a=new b.$Dc}getNotebook(w){if(w.scheme===G.Schemas.vscodeNotebookCell){const r=g(w);if(r){const l=this.a.get(r.notebook);if(l)return l}}return this.a.get(w)}addNotebookDocument(w){this.a.set(w.uri,w)}removeNotebookDocument(w){this.a.delete(w.uri)}}e.$hL=f,(0,d.$Ps)(e.$eL,f,d.InstantiationType.Delayed)}),define(he[41],ae([0,1,7,26,46,22,9,5,3,39,40]),function(ne,e,P,b,G,d,A,R,Q,v,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.$BL=e.$yL=e.CellStatusbarAlignment=e.$xL=e.NotebookFindScopeType=e.NotebookEditorPriority=e.$uL=e.$tL=e.$rL=e.CellUri=e.CellEditType=e.SelectionStateType=e.NotebookCellsChangeType=e.RendererMessagingSpec=e.NotebookRendererMatch=e.NotebookExecutionState=e.NotebookCellExecutionState=e.NotebookRunState=e.$qL=e.$pL=e.$oL=e.$nL=e.CellKind=e.$mL=e.$lL=e.$kL=e.$jL=e.$iL=void 0,e.$sL=h,e.$vL=I,e.$wL=N,e.$zL=O,e.$AL=p,b=de(b),e.$iL="workbench.editor.notebook",e.$jL="workbench.editor.notebookTextDiffEditor",e.$kL="workbench.editor.interactive",e.$lL="workbench.editor.repl",e.$mL="replNotebook.input.execute";var S;(function(L){L[L.Markup=1]="Markup",L[L.Code=2]="Code"})(S||(e.CellKind=S={})),e.$nL=["application/json","application/javascript","text/html","image/svg+xml",d.$9s.latex,d.$9s.markdown,"image/png","image/jpeg",d.$9s.text],e.$oL=[d.$9s.latex,d.$9s.markdown,"application/json","text/html","image/svg+xml","image/png","image/jpeg",d.$9s.text],e.$pL=new Map([["ms-toolsai.jupyter",new Set(["jupyter-notebook","interactive"])],["ms-toolsai.jupyter-renderers",new Set(["jupyter-notebook","interactive"])]]),e.$qL="_notAvailable";var f;(function(L){L[L.Running=1]="Running",L[L.Idle=2]="Idle"})(f||(e.NotebookRunState=f={}));var j;(function(L){L[L.Unconfirmed=1]="Unconfirmed",L[L.Pending=2]="Pending",L[L.Executing=3]="Executing"})(j||(e.NotebookCellExecutionState=j={}));var w;(function(L){L[L.Unconfirmed=1]="Unconfirmed",L[L.Pending=2]="Pending",L[L.Executing=3]="Executing"})(w||(e.NotebookExecutionState=w={}));var r;(function(L){L[L.WithHardKernelDependency=0]="WithHardKernelDependency",L[L.WithOptionalKernelDependency=1]="WithOptionalKernelDependency",L[L.Pure=2]="Pure",L[L.Never=3]="Never"})(r||(e.NotebookRendererMatch=r={}));var l;(function(L){L.Always="always",L.Never="never",L.Optional="optional"})(l||(e.RendererMessagingSpec=l={}));var u;(function(L){L[L.ModelChange=1]="ModelChange",L[L.Move=2]="Move",L[L.ChangeCellLanguage=5]="ChangeCellLanguage",L[L.Initialize=6]="Initialize",L[L.ChangeCellMetadata=7]="ChangeCellMetadata",L[L.Output=8]="Output",L[L.OutputItem=9]="OutputItem",L[L.ChangeCellContent=10]="ChangeCellContent",L[L.ChangeDocumentMetadata=11]="ChangeDocumentMetadata",L[L.ChangeCellInternalMetadata=12]="ChangeCellInternalMetadata",L[L.ChangeCellMime=13]="ChangeCellMime",L[L.Unknown=100]="Unknown"})(u||(e.NotebookCellsChangeType=u={}));var C;(function(L){L[L.Handle=0]="Handle",L[L.Index=1]="Index"})(C||(e.SelectionStateType=C={}));var n;(function(L){L[L.Replace=1]="Replace",L[L.Output=2]="Output",L[L.Metadata=3]="Metadata",L[L.CellLanguage=4]="CellLanguage",L[L.DocumentMetadata=5]="DocumentMetadata",L[L.Move=6]="Move",L[L.OutputItems=7]="OutputItems",L[L.PartialMetadata=8]="PartialMetadata",L[L.PartialInternalMetadata=9]="PartialInternalMetadata"})(n||(e.CellEditType=n={}));var s;(function(L){L.scheme=A.Schemas.vscodeNotebookCell;function ee(J,ie){return(0,g.$gL)(J,ie)}L.generate=ee;function U(J){return(0,g.$fL)(J)}L.parse=U;function W(J,ie){return J.with({scheme:A.Schemas.vscodeNotebookCellOutput,fragment:`op${ie??""},${J.scheme!==A.Schemas.file?J.scheme:""}`})}L.generateCellOutputUri=W;function B(J){if(J.scheme!==A.Schemas.vscodeNotebookCellOutput)return;const ie=/^op([0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12})?\,(.*)$/i.exec(J.fragment);if(!ie)return;const K=ie[1]&&ie[1]!==""?ie[1]:void 0,F=ie[2];return{outputId:K,notebook:J.with({scheme:F||A.Schemas.file,fragment:null})}}L.parseCellOutputUri=B;function Z(J,ie,K){return L.generate(J,ie).with({scheme:K})}L.generateCellPropertyUri=Z;function X(J,ie){if(J.scheme===ie)return L.parse(J.with({scheme:L.scheme}))}L.parseCellPropertyUri=X})(s||(e.CellUri=s={}));const t=L=>Q.$i?L.replace(/\//g,"\\"):L;class o{constructor(ee=[],U=e.$nL){this.e=U,this.d=[...new Set(ee)].map(W=>({pattern:W,matches:b.$Ak(t(W))}))}sort(ee){const U=new Map(G.Iterable.map(ee,B=>[B,t(B)]));let W=[];for(const{matches:B}of this.d)for(const[Z,X]of U)if(B(X)){W.push(Z),U.delete(Z);break}return U.size&&(W=W.concat([...U.keys()].sort((B,Z)=>this.e.indexOf(B)-this.e.indexOf(Z)))),W}prioritize(ee,U){const W=this.f(ee);if(W===-1){this.d.unshift({pattern:ee,matches:b.$Ak(t(ee))});return}const B=new Set(U.map(X=>this.f(X,W)));B.delete(-1);const Z=Array.from(B).sort();this.d.splice(W+1,0,...Z.map(X=>this.d[X]));for(let X=Z.length-1;X>=0;X--)this.d.splice(Z[X],1)}toArray(){return this.d.map(ee=>ee.pattern)}f(ee,U=this.d.length){const W=t(ee);for(let B=0;B<U;B++)if(this.d[B].matches(W))return B;return-1}}e.$rL=o;function h(L,ee,U,W=(B,Z)=>B===Z){const B=[];function Z(ie,K,F){if(K===0&&F.length===0)return;const i=B[B.length-1];i&&i.start+i.deleteCount===ie?(i.deleteCount+=K,i.toInsert.push(...F)):B.push({start:ie,deleteCount:K,toInsert:F})}let X=0,J=0;for(;;){if(X===L.length){Z(X,0,ee.slice(J));break}if(J===ee.length){Z(X,L.length-X,[]);break}const ie=L[X],K=ee[J];if(W(ie,K)){X+=1,J+=1;continue}U(K)?(Z(X,1,[]),X+=1):(Z(X,0,[K]),J+=1)}return B}e.$tL=new v.$Xj("notebookEditorCursorAtBoundary","none"),e.$uL=new v.$Xj("notebookEditorCursorAtLineBoundary","none");var $;(function(L){L.default="default",L.option="option"})($||(e.NotebookEditorPriority=$={}));var T;(function(L){L.Cells="cells",L.Text="text",L.None="none"})(T||(e.NotebookFindScopeType=T={}));function I(L){const ee=L;return!!((typeof ee.include=="string"||b.$Bk(ee.include))&&(typeof ee.exclude=="string"||b.$Bk(ee.exclude)))}function N(L,ee,U){if(Array.isArray(L.viewType)&&L.viewType.indexOf(ee)>=0||L.viewType===ee)return!0;if(L.filenamePattern){const W=I(L.filenamePattern)?L.filenamePattern.include:L.filenamePattern,B=I(L.filenamePattern)?L.filenamePattern.exclude:void 0;if(b.$zk(W,(0,R.$qc)(U.fsPath).toLowerCase()))return!(B&&b.$zk(B,(0,R.$qc)(U.fsPath).toLowerCase()))}return!1}e.$xL={displayOrder:"notebook.displayOrder",cellToolbarLocation:"notebook.cellToolbarLocation",cellToolbarVisibility:"notebook.cellToolbarVisibility",showCellStatusBar:"notebook.showCellStatusBar",textDiffEditorPreview:"notebook.diff.enablePreview",diffOverviewRuler:"notebook.diff.overviewRuler",experimentalInsertToolbarAlignment:"notebook.experimental.insertToolbarAlignment",compactView:"notebook.compactView",focusIndicator:"notebook.cellFocusIndicator",insertToolbarLocation:"notebook.insertToolbarLocation",globalToolbar:"notebook.globalToolbar",stickyScrollEnabled:"notebook.stickyScroll.enabled",stickyScrollMode:"notebook.stickyScroll.mode",undoRedoPerCell:"notebook.undoRedoPerCell",consolidatedOutputButton:"notebook.consolidatedOutputButton",showFoldingControls:"notebook.showFoldingControls",dragAndDropEnabled:"notebook.dragAndDropEnabled",cellEditorOptionsCustomizations:"notebook.editorOptionsCustomizations",consolidatedRunButton:"notebook.consolidatedRunButton",openGettingStarted:"notebook.experimental.openGettingStarted",globalToolbarShowLabel:"notebook.globalToolbarShowLabel",markupFontSize:"notebook.markup.fontSize",markdownLineHeight:"notebook.markdown.lineHeight",interactiveWindowCollapseCodeCells:"interactiveWindow.collapseCellInputCode",outputScrollingDeprecated:"notebook.experimental.outputScrolling",outputScrolling:"notebook.output.scrolling",textOutputLineLimit:"notebook.output.textLineLimit",LinkifyOutputFilePaths:"notebook.output.linkifyFilePaths",minimalErrorRendering:"notebook.output.minimalErrorRendering",formatOnSave:"notebook.formatOnSave.enabled",insertFinalNewline:"notebook.insertFinalNewline",defaultFormatter:"notebook.defaultFormatter",formatOnCellExecution:"notebook.formatOnCellExecution",codeActionsOnSave:"notebook.codeActionsOnSave",outputWordWrap:"notebook.output.wordWrap",outputLineHeightDeprecated:"notebook.outputLineHeight",outputLineHeight:"notebook.output.lineHeight",outputFontSizeDeprecated:"notebook.outputFontSize",outputFontSize:"notebook.output.fontSize",outputFontFamilyDeprecated:"notebook.outputFontFamily",outputFontFamily:"notebook.output.fontFamily",findFilters:"notebook.find.filters",logging:"notebook.logging",confirmDeleteRunningCell:"notebook.confirmDeleteRunningCell",remoteSaving:"notebook.experimental.remoteSave",gotoSymbolsAllSymbols:"notebook.gotoSymbols.showAllSymbols",outlineShowMarkdownHeadersOnly:"notebook.outline.showMarkdownHeadersOnly",outlineShowCodeCells:"notebook.outline.showCodeCells",outlineShowCodeCellSymbols:"notebook.outline.showCodeCellSymbols",breadcrumbsShowCodeCells:"notebook.breadcrumbs.showCodeCells",scrollToRevealCell:"notebook.scrolling.revealNextCellOnExecute",cellChat:"notebook.experimental.cellChat",cellGenerate:"notebook.experimental.generate",notebookVariablesView:"notebook.experimental.variablesView",InteractiveWindowPromptToSave:"interactiveWindow.promptToSaveOnClose",cellFailureDiagnostics:"notebook.cellFailureDiagnostics",outputBackupSizeLimit:"notebook.backup.sizeLimit"};var M;(function(L){L[L.Left=1]="Left",L[L.Right=2]="Right"})(M||(e.CellStatusbarAlignment=M={}));class m{static{this.d="notebook/"}static create(ee){return`${m.d}${ee}`}static parse(ee){if(ee.startsWith(m.d))return ee.substring(m.d.length)}}e.$yL=m;function O(L){return["application/vnd.code.notebook.stdout","application/vnd.code.notebook.stderr"].includes(L)}const y=new TextDecoder;function p(L){const ee=[];let U=!1;for(const X of L)(ee.length===0||U)&&(ee.push(X),U=!0);let W=x(ee);const B=P.$Pe.concat(ee.map(X=>P.$Pe.wrap(X))),Z=ce(B);return W=W||Z.byteLength!==B.byteLength,{data:Z,didCompression:W}}e.$BL="\x1B[A";const z=e.$BL.split("").map(L=>L.charCodeAt(0)),Y=10;function x(L){let ee=!1;return L.forEach((U,W)=>{if(W===0||U.length<e.$BL.length)return;const B=L[W-1],Z=U.subarray(0,e.$BL.length);if(Z[0]===z[0]&&Z[1]===z[1]&&Z[2]===z[2]){const X=B.lastIndexOf(Y);if(X===-1)return;ee=!0,L[W-1]=B.subarray(0,X),L[W]=U.subarray(e.$BL.length)}}),ee}function le(L){let ee=L;do L=ee,ee=L.replace(/[^\n]\x08/gm,"");while(ee.length<L.length);return L}function re(L){for(L=L.replace(/\r+\n/gm,`
`);L.search(/\r[^$]/g)>-1;){const ee=L.match(/^(.*)\r+/m)[1];let U=L.match(/\r+(.*)$/m)[1];U=U+ee.slice(U.length,ee.length),L=L.replace(/\r+.*$/m,"\r").replace(/^.*\r/m,U)}return L}const _=8,oe=13;function ce(L){return!L.buffer.includes(_)&&!L.buffer.includes(oe)?L:P.$Pe.fromString(re(le(y.decode(L.buffer))))}}),define(he[47],ae([0,1,48,49,14,8,31,41,12,21]),function(ne,e,P,b,G,d,A,R,Q,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NotebookEditorSimpleWorker=void 0,e.create=r,d=de(d);function g(l){let u=(0,b.$wj)(104579,0);for(let C=0;C<l.buffer.length;C++)u=(0,b.$vj)(l.buffer[C],u);return u}class S{get textBuffer(){if(this.a)return this.a;const u=new A.$mD;u.acceptChunk(Array.isArray(this.d)?this.d.join(`
`):this.d);const C=u.finish(!0);return this.a=C.create(d.DefaultEndOfLine.LF).textBuffer,this.a}primaryKey(){return this.b===void 0&&(this.b=(0,b.$uj)(this.getValue())),this.b}constructor(u,C,n,s,t,o,h){this.handle=u,this.d=C,this.language=n,this.cellKind=s,this.outputs=t,this.metadata=o,this.internalMetadata=h,this.b=null,this.c=null}getFullModelRange(){const u=this.textBuffer.getLineCount();return new Q.$Mt(1,1,u,this.textBuffer.getLineLength(u)+1)}getValue(){const u=this.getFullModelRange();return this.textBuffer.getValueInRange(u,d.EndOfLinePreference.LF)}getComparisonValue(){return this.b!==null?this.b:(this.c=(0,b.$uj)([(0,b.$uj)(this.language),(0,b.$uj)(this.getValue()),this.metadata,this.internalMetadata,this.outputs.map(u=>({outputs:u.outputs.map(C=>({mime:C.mime,data:g(C.data)})),metadata:u.metadata}))]),this.c)}getHashValue(){return this.c!==null?this.c:(this.c=(0,b.$uj)([(0,b.$uj)(this.getValue()),this.language,this.metadata,this.internalMetadata]),this.c)}}class f{constructor(u,C,n){this.uri=u,this.cells=C,this.metadata=n}acceptModelChanged(u){u.rawEvents.forEach(C=>{if(C.kind===R.NotebookCellsChangeType.ModelChange)this._spliceNotebookCells(C.changes);else if(C.kind===R.NotebookCellsChangeType.Move){const n=this.cells.splice(C.index,1);this.cells.splice(C.newIdx,0,...n)}else if(C.kind===R.NotebookCellsChangeType.Output){const n=this.cells[C.index];n.outputs=C.outputs}else if(C.kind===R.NotebookCellsChangeType.ChangeCellLanguage){this.a(C.index);const n=this.cells[C.index];n.language=C.language}else if(C.kind===R.NotebookCellsChangeType.ChangeCellMetadata){this.a(C.index);const n=this.cells[C.index];n.metadata=C.metadata}else if(C.kind===R.NotebookCellsChangeType.ChangeCellInternalMetadata){this.a(C.index);const n=this.cells[C.index];n.internalMetadata=C.internalMetadata}})}a(u){if(u<0||u>=this.cells.length)throw new Error(`Illegal index ${u}. Cells length: ${this.cells.length}`)}_spliceNotebookCells(u){u.reverse().forEach(C=>{const s=C[2].map(t=>new S(t.handle,t.source,t.language,t.cellKind,t.outputs,t.metadata));this.cells.splice(C[0],C[1],...s)})}}class j{constructor(u){this.textModel=u}getElements(){const u=new Int32Array(this.textModel.cells.length);for(let C=0;C<this.textModel.cells.length;C++)u[C]=this.textModel.cells[C].getComparisonValue();return u}getCellHash(u){const C=Array.isArray(u.source)?u.source.join(`
`):u.source;return(0,b.$uj)([(0,b.$uj)(C),u.metadata])}}class w{constructor(){this.a=Object.create(null)}dispose(){}acceptNewModel(u,C){this.a[u]=new f(G.URI.parse(u),C.cells.map(n=>new S(n.handle,n.source,n.language,n.cellKind,n.outputs,n.metadata)),C.metadata)}acceptModelChanged(u,C){this.a[u]?.acceptModelChanged(C)}acceptRemovedModel(u){this.a[u]&&delete this.a[u]}computeDiff(u,C){const n=this.b(u),s=this.b(C);return{cellsDiff:new P.$St(new j(n),new j(s)).ComputeDiff(!1)}}canPromptRecommendation(u){const n=this.b(u).cells;for(let s=0;s<n.length;s++){const t=n[s];if(t.cellKind===R.CellKind.Markup||t.language!=="python")continue;const o=t.textBuffer.getLineCount(),h=Math.min(o,20),$=new Q.$Mt(1,1,h,t.textBuffer.getLineLength(h)+1),I=new v.$aD("import\\s*pandas|from\\s*pandas",!0,!1,null).parseSearchRequest();if(!I)continue;if(t.textBuffer.findMatchesLineByLine($,I,!0,1).length>0)return!0}return!1}b(u){return this.a[u]}}e.NotebookEditorSimpleWorker=w;function r(l){return new w}})}).call(this);

//# sourceMappingURL=https://main.vscode-cdn.net/sourcemaps/f1e16e1e6214d7c44d078b1f0607b2388f29d729/core/vs/workbench/contrib/notebook/common/services/notebookSimpleWorker.js.map
